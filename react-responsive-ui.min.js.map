{"version":3,"file":"react-responsive-ui.min.js","mappings":"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ACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEF,CACE,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEF,GACA,GACA,GACA,CACE,MAEF,CACE,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,OAGEC,GAA4B,CAChC,CACE,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,MAEF,CACE,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KACA,KAC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","sources":["webpack://react-responsive-ui/webpack/universalModuleDefinition","webpack://react-responsive-ui/./node_modules/classnames/index.js","webpack://react-responsive-ui/./node_modules/create-react-context/lib/implementation.js","webpack://react-responsive-ui/./node_modules/create-react-context/lib/index.js","webpack://react-responsive-ui/./node_modules/exenv/index.js","webpack://react-responsive-ui/./node_modules/gud/index.js","webpack://react-responsive-ui/./node_modules/lodash/_Symbol.js","webpack://react-responsive-ui/./node_modules/lodash/_baseGetTag.js","webpack://react-responsive-ui/./node_modules/lodash/_baseTrim.js","webpack://react-responsive-ui/./node_modules/lodash/_freeGlobal.js","webpack://react-responsive-ui/./node_modules/lodash/_getRawTag.js","webpack://react-responsive-ui/./node_modules/lodash/_objectToString.js","webpack://react-responsive-ui/./node_modules/lodash/_root.js","webpack://react-responsive-ui/./node_modules/lodash/_trimmedEndIndex.js","webpack://react-responsive-ui/./node_modules/lodash/debounce.js","webpack://react-responsive-ui/./node_modules/lodash/isObject.js","webpack://react-responsive-ui/./node_modules/lodash/isObjectLike.js","webpack://react-responsive-ui/./node_modules/lodash/isSymbol.js","webpack://react-responsive-ui/./node_modules/lodash/now.js","webpack://react-responsive-ui/./node_modules/lodash/throttle.js","webpack://react-responsive-ui/./node_modules/lodash/toNumber.js","webpack://react-responsive-ui/./node_modules/performance-now/lib/performance-now.js","webpack://react-responsive-ui/./node_modules/prop-types/factoryWithThrowingShims.js","webpack://react-responsive-ui/./node_modules/prop-types/index.js","webpack://react-responsive-ui/./node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack://react-responsive-ui/./node_modules/raf/index.js","webpack://react-responsive-ui/./node_modules/react-day-picker/lib/react-day-picker.min.js","webpack://react-responsive-ui/./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/components/Modal.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/components/ModalPortal.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/ariaAppHider.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/bodyTrap.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/classList.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/focusManager.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/portalOpenInstances.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/safeHTMLElement.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/scopeTab.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/helpers/tabbable.js","webpack://react-responsive-ui/./node_modules/react-modal/lib/index.js","webpack://react-responsive-ui/./node_modules/warning/warning.js","webpack://react-responsive-ui/external umd \"React\"","webpack://react-responsive-ui/external umd \"ReactDOM\"","webpack://react-responsive-ui/webpack/bootstrap","webpack://react-responsive-ui/webpack/runtime/compat get default export","webpack://react-responsive-ui/webpack/runtime/define property getters","webpack://react-responsive-ui/webpack/runtime/global","webpack://react-responsive-ui/webpack/runtime/hasOwnProperty shorthand","webpack://react-responsive-ui/webpack/runtime/make namespace object","webpack://react-responsive-ui/../source/KeyboardNavigationListener.js","webpack://react-responsive-ui/../source/PageAndMenu.js","webpack://react-responsive-ui/../source/Page.js","webpack://react-responsive-ui/./node_modules/react-create-ref/index.js","webpack://react-responsive-ui/./node_modules/request-animation-frame-timeout/modules/index.js","webpack://react-responsive-ui/../../source/utility/dom.js","webpack://react-responsive-ui/../../source/utility/focus.js","webpack://react-responsive-ui/../source/OnFocusOut.js","webpack://react-responsive-ui/../source/OnTapOutside.js","webpack://react-responsive-ui/../source/OnFocusOutOrTapOutside.js","webpack://react-responsive-ui/../source/SlideOutMenu.js","webpack://react-responsive-ui/../source/MenuIcon.js","webpack://react-responsive-ui/../source/MenuButton.js","webpack://react-responsive-ui/../source/FadeInOut.js","webpack://react-responsive-ui/../source/Button.js","webpack://react-responsive-ui/../source/Close.js","webpack://react-responsive-ui/../source/Modal.js","webpack://react-responsive-ui/../source/Form.js","webpack://react-responsive-ui/../source/Snackbar.js","webpack://react-responsive-ui/../source/Tooltip.js","webpack://react-responsive-ui/../source/ActivityIndicator.js","webpack://react-responsive-ui/../source/Ellipsis.js","webpack://react-responsive-ui/../source/TextInputInput.js","webpack://react-responsive-ui/../source/TextInputLabel.js","webpack://react-responsive-ui/../source/TextInputComponent.js","webpack://react-responsive-ui/../source/WithError.js","webpack://react-responsive-ui/../../source/utility/redux-form.js","webpack://react-responsive-ui/../source/TextInput.js","webpack://react-responsive-ui/../source/List.js","webpack://react-responsive-ui/../source/ScrollableList.js","webpack://react-responsive-ui/./node_modules/compute-scroll-into-view/dist/index.module.js","webpack://react-responsive-ui/./node_modules/scroll-into-view-if-needed/es/index.js","webpack://react-responsive-ui/../source/Expandable.js","webpack://react-responsive-ui/../source/ExpandableList.js","webpack://react-responsive-ui/../source/Divider.js","webpack://react-responsive-ui/../source/Select.js","webpack://react-responsive-ui/../source/Autocomplete.js","webpack://react-responsive-ui/../source/ExpandableMenu.js","webpack://react-responsive-ui/../source/ExpansionPanel.js","webpack://react-responsive-ui/../source/Switch.js","webpack://react-responsive-ui/../source/Checkbox.js","webpack://react-responsive-ui/../source/Switcher.js","webpack://react-responsive-ui/../source/YearMonthSelect.js","webpack://react-responsive-ui/../../source/utility/getFirstDayOfWeek.js","webpack://react-responsive-ui/../../source/utility/getDateForDayOfWeek.js","webpack://react-responsive-ui/../../source/utility/getDateForMonth.js","webpack://react-responsive-ui/../../source/utility/convertUtcDateToLocalDateWithSameTime.js","webpack://react-responsive-ui/../../source/utility/formatDate.js","webpack://react-responsive-ui/../../source/utility/ignoreInvalidDateObjects.js","webpack://react-responsive-ui/../../source/utility/isDigit.js","webpack://react-responsive-ui/../../source/utility/parseDate.js","webpack://react-responsive-ui/../source/DatePicker.js","webpack://react-responsive-ui/../../source/utility/transformDateInputAccordingToTemplate.js","webpack://react-responsive-ui/../../source/utility/getTerritoryFromLocale.js","webpack://react-responsive-ui/../../source/utility/getLanguageFromLocale.js","webpack://react-responsive-ui/../../source/utility/isFileAccepted.js","webpack://react-responsive-ui/../source/DragAndDrop.js","webpack://react-responsive-ui/../source/FileUploadInput.js","webpack://react-responsive-ui/../source/FileUpload.js","webpack://react-responsive-ui/../source/FileUploadButton.js","webpack://react-responsive-ui/../source/DropMultiFileUpload.js","webpack://react-responsive-ui/../../source/utility/grid.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"react-responsive-ui\", [\"React\", \"ReactDOM\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"react-responsive-ui\"] = factory(require(\"React\"), require(\"ReactDOM\"));\n\telse\n\t\troot[\"react-responsive-ui\"] = factory(root[\"React\"], root[\"ReactDOM\"]);\n})(self, (__WEBPACK_EXTERNAL_MODULE__24__, __WEBPACK_EXTERNAL_MODULE__314__) => {\nreturn ","/*!\n  Copyright (c) 2018 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString === Object.prototype.toString) {\n\t\t\t\t\tfor (var key in arg) {\n\t\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _gud = require('gud');\n\nvar _gud2 = _interopRequireDefault(_gud);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MAX_SIGNED_31_BIT_INT = 1073741823;\n\n// Inlined Object.is polyfill.\n// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction objectIs(x, y) {\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\n\nfunction createEventEmitter(value) {\n  var handlers = [];\n  return {\n    on: function on(handler) {\n      handlers.push(handler);\n    },\n    off: function off(handler) {\n      handlers = handlers.filter(function (h) {\n        return h !== handler;\n      });\n    },\n    get: function get() {\n      return value;\n    },\n    set: function set(newValue, changedBits) {\n      value = newValue;\n      handlers.forEach(function (handler) {\n        return handler(value, changedBits);\n      });\n    }\n  };\n}\n\nfunction onlyChild(children) {\n  return Array.isArray(children) ? children[0] : children;\n}\n\nfunction createReactContext(defaultValue, calculateChangedBits) {\n  var _Provider$childContex, _Consumer$contextType;\n\n  var contextProp = '__create-react-context-' + (0, _gud2.default)() + '__';\n\n  var Provider = function (_Component) {\n    _inherits(Provider, _Component);\n\n    function Provider() {\n      var _temp, _this, _ret;\n\n      _classCallCheck(this, Provider);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.emitter = createEventEmitter(_this.props.value), _temp), _possibleConstructorReturn(_this, _ret);\n    }\n\n    Provider.prototype.getChildContext = function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextProp] = this.emitter, _ref;\n    };\n\n    Provider.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      if (this.props.value !== nextProps.value) {\n        var oldValue = this.props.value;\n        var newValue = nextProps.value;\n        var changedBits = void 0;\n\n        if (objectIs(oldValue, newValue)) {\n          changedBits = 0; // No change\n        } else {\n          changedBits = typeof calculateChangedBits === 'function' ? calculateChangedBits(oldValue, newValue) : MAX_SIGNED_31_BIT_INT;\n          if (process.env.NODE_ENV !== 'production') {\n            (0, _warning2.default)((changedBits & MAX_SIGNED_31_BIT_INT) === changedBits, 'calculateChangedBits: Expected the return value to be a ' + '31-bit integer. Instead received: %s', changedBits);\n          }\n\n          changedBits |= 0;\n\n          if (changedBits !== 0) {\n            this.emitter.set(nextProps.value, changedBits);\n          }\n        }\n      }\n    };\n\n    Provider.prototype.render = function render() {\n      return this.props.children;\n    };\n\n    return Provider;\n  }(_react.Component);\n\n  Provider.childContextTypes = (_Provider$childContex = {}, _Provider$childContex[contextProp] = _propTypes2.default.object.isRequired, _Provider$childContex);\n\n  var Consumer = function (_Component2) {\n    _inherits(Consumer, _Component2);\n\n    function Consumer() {\n      var _temp2, _this2, _ret2;\n\n      _classCallCheck(this, Consumer);\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return _ret2 = (_temp2 = (_this2 = _possibleConstructorReturn(this, _Component2.call.apply(_Component2, [this].concat(args))), _this2), _this2.state = {\n        value: _this2.getValue()\n      }, _this2.onUpdate = function (newValue, changedBits) {\n        var observedBits = _this2.observedBits | 0;\n        if ((observedBits & changedBits) !== 0) {\n          _this2.setState({ value: _this2.getValue() });\n        }\n      }, _temp2), _possibleConstructorReturn(_this2, _ret2);\n    }\n\n    Consumer.prototype.componentWillReceiveProps = function componentWillReceiveProps(nextProps) {\n      var observedBits = nextProps.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentDidMount = function componentDidMount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].on(this.onUpdate);\n      }\n      var observedBits = this.props.observedBits;\n\n      this.observedBits = observedBits === undefined || observedBits === null ? MAX_SIGNED_31_BIT_INT // Subscribe to all changes by default\n      : observedBits;\n    };\n\n    Consumer.prototype.componentWillUnmount = function componentWillUnmount() {\n      if (this.context[contextProp]) {\n        this.context[contextProp].off(this.onUpdate);\n      }\n    };\n\n    Consumer.prototype.getValue = function getValue() {\n      if (this.context[contextProp]) {\n        return this.context[contextProp].get();\n      } else {\n        return defaultValue;\n      }\n    };\n\n    Consumer.prototype.render = function render() {\n      return onlyChild(this.props.children)(this.state.value);\n    };\n\n    return Consumer;\n  }(_react.Component);\n\n  Consumer.contextTypes = (_Consumer$contextType = {}, _Consumer$contextType[contextProp] = _propTypes2.default.object, _Consumer$contextType);\n\n\n  return {\n    Provider: Provider,\n    Consumer: Consumer\n  };\n}\n\nexports.default = createReactContext;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _implementation = require('./implementation');\n\nvar _implementation2 = _interopRequireDefault(_implementation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _react2.default.createContext || _implementation2.default;\nmodule.exports = exports['default'];","/*!\n  Copyright (c) 2015 Jed Watson.\n  Based on code that is Copyright 2013-2015, Facebook, Inc.\n  All rights reserved.\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar canUseDOM = !!(\n\t\ttypeof window !== 'undefined' &&\n\t\twindow.document &&\n\t\twindow.document.createElement\n\t);\n\n\tvar ExecutionEnvironment = {\n\n\t\tcanUseDOM: canUseDOM,\n\n\t\tcanUseWorkers: typeof Worker !== 'undefined',\n\n\t\tcanUseEventListeners:\n\t\t\tcanUseDOM && !!(window.addEventListener || window.attachEvent),\n\n\t\tcanUseViewport: canUseDOM && !!window.screen\n\n\t};\n\n\tif (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\tdefine(function () {\n\t\t\treturn ExecutionEnvironment;\n\t\t});\n\t} else if (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = ExecutionEnvironment;\n\t} else {\n\t\twindow.ExecutionEnvironment = ExecutionEnvironment;\n\t}\n\n}());\n","// @flow\n'use strict';\n\nvar key = '__global_unique_id__';\n\nmodule.exports = function() {\n  return global[key] = (global[key] || 0) + 1;\n};\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var trimmedEndIndex = require('./_trimmedEndIndex');\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n","var isObject = require('./isObject'),\n    now = require('./now'),\n    toNumber = require('./toNumber');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var root = require('./_root');\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n","var debounce = require('./debounce'),\n    isObject = require('./isObject');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n","var baseTrim = require('./_baseTrim'),\n    isObject = require('./isObject'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\nfunction emptyFunctionWithReset() {}\nemptyFunctionWithReset.resetWarningCache = emptyFunction;\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bigint: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    elementType: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim,\n\n    checkPropTypes: emptyFunctionWithReset,\n    resetWarningCache: emptyFunction\n  };\n\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var ReactIs = require('react-is');\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(ReactIs.isElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n","var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"react\")):\"function\"==typeof define&&define.amd?define([\"react\"],t):\"object\"==typeof exports?exports.DayPicker=t(require(\"react\")):e.DayPicker=t(e.React)}(\"undefined\"!=typeof self?self:this,function(e){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=8)}([function(t,n){t.exports=e},function(e,t,n){\"use strict\";function o(e){return new Date(e.getTime())}function r(e){return e instanceof Date&&!isNaN(e.valueOf())}function a(e,t){var n=o(e);return n.setMonth(e.getMonth()+t),n}function s(e,t){return!(!e||!t)&&(e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function i(e,t){return!(!e||!t)&&(e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear())}function u(e,t){return o(e).setHours(0,0,0,0)<o(t).setHours(0,0,0,0)}function l(e,t){return o(e).setHours(0,0,0,0)>o(t).setHours(0,0,0,0)}function c(e){var t=new Date;return t.setHours(0,0,0,0),u(e,t)}function p(e){var t=new Date((new Date).getTime()+864e5);return t.setHours(0,0,0,0),e>=t}function f(e,t,n){var r=o(e);return r.setHours(0,0,0,0),l(r,t)&&u(r,n)||l(r,n)&&u(r,t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},n=t.from,o=t.to;return n?n&&o&&s(n,o)&&s(e,n)?(n=null,o=null):o&&u(e,n)?n=e:o&&s(e,o)?(n=e,o=e):(o=e,u(o,n)&&(o=n,n=e)):n=e,{from:n,to:o}}function d(e,t){var n=t.from,o=t.to;return n&&s(e,n)||o&&s(e,o)||n&&o&&f(e,n,o)}function y(e){var t=o(e);return t.setHours(0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7)),Math.ceil(((t-new Date(t.getFullYear(),0,1))/864e5+1)/7)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.clone=o,t.isDate=r,t.addMonths=a,t.isSameDay=s,t.isSameMonth=i,t.isDayBefore=u,t.isDayAfter=l,t.isPastDay=c,t.isFutureDay=p,t.isDayBetween=f,t.addDayToRange=h,t.isDayInRange=d,t.getWeekNumber=y,t.default={addDayToRange:h,addMonths:a,clone:o,getWeekNumber:y,isDate:r,isDayAfter:l,isDayBefore:u,isDayBetween:f,isDayInRange:d,isFutureDay:p,isPastDay:c,isSameDay:s,isSameMonth:i}},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});t.LEFT=37,t.UP=38,t.RIGHT=39,t.DOWN=40,t.ENTER=13,t.SPACE=32,t.ESC=27,t.TAB=9},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.default={container:\"DayPicker\",wrapper:\"DayPicker-wrapper\",interactionDisabled:\"DayPicker--interactionDisabled\",months:\"DayPicker-Months\",month:\"DayPicker-Month\",navBar:\"DayPicker-NavBar\",navButtonPrev:\"DayPicker-NavButton DayPicker-NavButton--prev\",navButtonNext:\"DayPicker-NavButton DayPicker-NavButton--next\",navButtonInteractionDisabled:\"DayPicker-NavButton--interactionDisabled\",caption:\"DayPicker-Caption\",weekdays:\"DayPicker-Weekdays\",weekdaysRow:\"DayPicker-WeekdaysRow\",weekday:\"DayPicker-Weekday\",body:\"DayPicker-Body\",week:\"DayPicker-Week\",weekNumber:\"DayPicker-WeekNumber\",day:\"DayPicker-Day\",footer:\"DayPicker-Footer\",todayButton:\"DayPicker-TodayButton\",today:\"today\",selected:\"selected\",disabled:\"disabled\",outside:\"outside\"}},function(e,t,n){\"use strict\";function o(e){e.preventDefault(),e.stopPropagation()}function r(e){return new Date(e.getFullYear(),e.getMonth(),1,12)}function a(e){var t=r(e);return t.setMonth(t.getMonth()+1),t.setDate(t.getDate()-1),t.getDate()}function s(e){var t=y({},e.modifiers);return e.selectedDays&&(t[e.classNames.selected]=e.selectedDays),e.disabledDays&&(t[e.classNames.disabled]=e.disabledDays),t}function i(e){var t=e.firstDayOfWeek,n=e.locale,o=void 0===n?\"en\":n,r=e.localeUtils,a=void 0===r?{}:r;return isNaN(t)?a.getFirstDayOfWeek?a.getFirstDayOfWeek(o):0:t}function u(e){return!!(e&&e.from&&e.to)}function l(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(0,m.getFirstDayOfWeek)(),n=arguments[2],o=a(e),r=[],s=[],i=[],u=1;u<=o;u+=1)r.push(new Date(e.getFullYear(),e.getMonth(),u,12));r.forEach(function(e){s.length>0&&e.getDay()===t&&(i.push(s),s=[]),s.push(e),r.indexOf(e)===r.length-1&&i.push(s)});for(var l=i[0],c=7-l.length;c>0;c-=1){var p=(0,v.clone)(l[0]);p.setDate(l[0].getDate()-1),l.unshift(p)}for(var f=i[i.length-1],h=f.length;h<7;h+=1){var d=(0,v.clone)(f[f.length-1]);d.setDate(f[f.length-1].getDate()+1),f.push(d)}if(n&&i.length<6)for(var y=void 0,k=i.length;k<6;k+=1){y=i[i.length-1];for(var D=y[y.length-1],b=[],g=0;g<7;g+=1){var w=(0,v.clone)(D);w.setDate(D.getDate()+g+1),b.push(w)}i.push(b)}return i}function p(e){var t=(0,v.clone)(e);return t.setDate(1),t.setHours(12,0,0,0),t}function f(e,t){var n=void 0;n=t===D.default?t.day+\"--\"+t.outside:\"\"+t.outside;var o=t.day.replace(/ /g,\".\"),r=n.replace(/ /g,\".\"),a=\".\"+o+\":not(.\"+r+\")\";return e.querySelectorAll(a)}function h(e){return Array.prototype.slice.call(e,0)}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}Object.defineProperty(t,\"__esModule\",{value:!0});var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.cancelEvent=o,t.getFirstDayOfMonth=r,t.getDaysInMonth=a,t.getModifiersFromProps=s,t.getFirstDayOfWeekFromProps=i,t.isRangeOfDates=u,t.getMonthsDiff=l,t.getWeekArray=c,t.startOfMonth=p,t.getDayNodes=f,t.nodeListToArray=h,t.hasOwnProp=d;var v=n(1),m=n(5),k=n(3),D=function(e){return e&&e.__esModule?e:{default:e}}(k)},function(e,t,n){\"use strict\";function o(e){return e.toDateString()}function r(e){return p[e.getMonth()]+\" \"+e.getFullYear()}function a(e){return c[e]}function s(e){return l[e]}function i(){return 0}function u(){return p}Object.defineProperty(t,\"__esModule\",{value:!0}),t.formatDay=o,t.formatMonthTitle=r,t.formatWeekdayShort=a,t.formatWeekdayLong=s,t.getFirstDayOfWeek=i,t.getMonths=u;var l=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],c=[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],p=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];t.default={formatDay:o,formatMonthTitle:r,formatWeekdayShort:a,formatWeekdayLong:s,getFirstDayOfWeek:i,getMonths:u}},function(e,t,n){\"use strict\";function o(e,t){return!!t&&(Array.isArray(t)?t:[t]).some(function(t){return!!t&&(t instanceof Date?(0,a.isSameDay)(e,t):(0,s.isRangeOfDates)(t)?(0,a.isDayInRange)(e,t):t.after&&t.before&&(0,a.isDayAfter)(t.before,t.after)?(0,a.isDayAfter)(e,t.after)&&(0,a.isDayBefore)(e,t.before):t.after&&t.before&&((0,a.isDayAfter)(t.after,t.before)||(0,a.isSameDay)(t.after,t.before))?(0,a.isDayAfter)(e,t.after)||(0,a.isDayBefore)(e,t.before):t.after?(0,a.isDayAfter)(e,t.after):t.before?(0,a.isDayBefore)(e,t.before):t.daysOfWeek?t.daysOfWeek.some(function(t){return e.getDay()===t}):\"function\"==typeof t&&t(e))})}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).reduce(function(n,r){var a=t[r];return o(e,a)&&n.push(r),n},[])}Object.defineProperty(t,\"__esModule\",{value:!0}),t.dayMatchesModifier=o,t.getModifiersForDay=r;var a=n(1),s=n(4);t.default={dayMatchesModifier:o,getModifiersForDay:r}},function(e,t,n){\"use strict\";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function u(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.ModifiersUtils=t.LocaleUtils=t.DateUtils=t.DayPicker=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),p=n(0),f=r(p),h=n(9),d=r(h),y=n(10),v=r(y),m=n(11),k=r(m),D=n(14),b=r(D),g=n(4),w=o(g),M=n(1),P=o(M),O=n(5),N=o(O),C=n(6),E=o(C),_=n(3),j=r(_),x=n(2),T=t.DayPicker=function(e){function t(e){s(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.dayPicker=null,n.showNextMonth=function(e){if(n.allowNextMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,o=P.addMonths(n.state.currentMonth,t);n.showMonth(o,e)}},n.showPreviousMonth=function(e){if(n.allowPreviousMonth()){var t=n.props.pagedNavigation?n.props.numberOfMonths:1,o=P.addMonths(n.state.currentMonth,-t);n.showMonth(o,e)}},n.handleKeyDown=function(e){switch(e.persist(),e.keyCode){case x.LEFT:\"rtl\"===n.props.dir?n.showNextMonth():n.showPreviousMonth(),w.cancelEvent(e);break;case x.RIGHT:\"rtl\"===n.props.dir?n.showPreviousMonth():n.showNextMonth(),w.cancelEvent(e);break;case x.UP:n.showPreviousYear(),w.cancelEvent(e);break;case x.DOWN:n.showNextYear(),w.cancelEvent(e)}n.props.onKeyDown&&n.props.onKeyDown(e)},n.handleDayKeyDown=function(e,t,o){switch(o.persist(),o.keyCode){case x.LEFT:w.cancelEvent(o),\"rtl\"===n.props.dir?n.focusNextDay(o.target):n.focusPreviousDay(o.target);break;case x.RIGHT:w.cancelEvent(o),\"rtl\"===n.props.dir?n.focusPreviousDay(o.target):n.focusNextDay(o.target);break;case x.UP:w.cancelEvent(o),n.focusPreviousWeek(o.target);break;case x.DOWN:w.cancelEvent(o),n.focusNextWeek(o.target);break;case x.ENTER:case x.SPACE:w.cancelEvent(o),n.props.onDayClick&&n.handleDayClick(e,t,o)}n.props.onDayKeyDown&&n.props.onDayKeyDown(e,t,o)},n.handleDayClick=function(e,t,o){o.persist(),t[n.props.classNames.outside]&&n.props.enableOutsideDaysClick&&n.handleOutsideDayClick(e),n.props.onDayClick&&n.props.onDayClick(e,t,o)},n.handleTodayButtonClick=function(e){var t=new Date,o=new Date(t.getFullYear(),t.getMonth());n.showMonth(o),e.target.blur(),n.props.onTodayButtonClick&&(e.persist(),n.props.onTodayButtonClick(new Date(t.getFullYear(),t.getMonth(),t.getDate()),E.getModifiersForDay(t,n.props.modifiers),e))};var o=n.getCurrentMonthFromProps(e);return n.state={currentMonth:o},n}return u(t,e),c(t,[{key:\"componentDidUpdate\",value:function(e){if(e.month!==this.props.month&&!P.isSameMonth(e.month,this.props.month)){var t=this.getCurrentMonthFromProps(this.props);this.setState({currentMonth:t})}}},{key:\"getCurrentMonthFromProps\",value:function(e){var t=w.startOfMonth(e.month||e.initialMonth||new Date),n=t;if(e.pagedNavigation&&e.numberOfMonths>1&&e.fromMonth){var o=w.startOfMonth(e.fromMonth),r=w.getMonthsDiff(o,n);n=P.addMonths(o,Math.floor(r/e.numberOfMonths)*e.numberOfMonths)}else e.toMonth&&e.numberOfMonths>1&&w.getMonthsDiff(n,e.toMonth)<=0&&(n=P.addMonths(w.startOfMonth(e.toMonth),1-this.props.numberOfMonths));return n}},{key:\"getNextNavigableMonth\",value:function(){return P.addMonths(this.state.currentMonth,this.props.numberOfMonths)}},{key:\"getPreviousNavigableMonth\",value:function(){return P.addMonths(this.state.currentMonth,-1)}},{key:\"allowPreviousMonth\",value:function(){var e=P.addMonths(this.state.currentMonth,-1);return this.allowMonth(e)}},{key:\"allowNextMonth\",value:function(){var e=P.addMonths(this.state.currentMonth,this.props.numberOfMonths);return this.allowMonth(e)}},{key:\"allowMonth\",value:function(e){var t=this.props,n=t.fromMonth,o=t.toMonth;return!(!t.canChangeMonth||n&&w.getMonthsDiff(n,e)<0||o&&w.getMonthsDiff(o,e)>0)}},{key:\"allowYearChange\",value:function(){return this.props.canChangeMonth}},{key:\"showMonth\",value:function(e,t){var n=this;this.allowMonth(e)&&this.setState({currentMonth:w.startOfMonth(e)},function(){t&&t(),n.props.onMonthChange&&n.props.onMonthChange(n.state.currentMonth)})}},{key:\"showNextYear\",value:function(){if(this.allowYearChange()){var e=P.addMonths(this.state.currentMonth,12);this.showMonth(e)}}},{key:\"showPreviousYear\",value:function(){if(this.allowYearChange()){var e=P.addMonths(this.state.currentMonth,-12);this.showMonth(e)}}},{key:\"focus\",value:function(){this.wrapper.focus()}},{key:\"focusFirstDayOfMonth\",value:function(){w.getDayNodes(this.dayPicker,this.props.classNames)[0].focus()}},{key:\"focusLastDayOfMonth\",value:function(){var e=w.getDayNodes(this.dayPicker,this.props.classNames);e[e.length-1].focus()}},{key:\"focusPreviousDay\",value:function(e){var t=this,n=w.getDayNodes(this.dayPicker,this.props.classNames),o=w.nodeListToArray(n).indexOf(e);-1!==o&&(0===o?this.showPreviousMonth(function(){return t.focusLastDayOfMonth()}):n[o-1].focus())}},{key:\"focusNextDay\",value:function(e){var t=this,n=w.getDayNodes(this.dayPicker,this.props.classNames),o=w.nodeListToArray(n).indexOf(e);-1!==o&&(o===n.length-1?this.showNextMonth(function(){return t.focusFirstDayOfMonth()}):n[o+1].focus())}},{key:\"focusNextWeek\",value:function(e){var t=this,n=w.getDayNodes(this.dayPicker,this.props.classNames),o=w.nodeListToArray(n).indexOf(e);o>n.length-8?this.showNextMonth(function(){var e=n.length-o,r=7-e;w.getDayNodes(t.dayPicker,t.props.classNames)[r].focus()}):n[o+7].focus()}},{key:\"focusPreviousWeek\",value:function(e){var t=this,n=w.getDayNodes(this.dayPicker,this.props.classNames),o=w.nodeListToArray(n).indexOf(e);o<=6?this.showPreviousMonth(function(){var e=w.getDayNodes(t.dayPicker,t.props.classNames);e[e.length-7+o].focus()}):n[o-7].focus()}},{key:\"handleOutsideDayClick\",value:function(e){var t=this.state.currentMonth,n=this.props.numberOfMonths,o=w.getMonthsDiff(t,e);o>0&&o>=n?this.showNextMonth():o<0&&this.showPreviousMonth()}},{key:\"renderNavbar\",value:function(){var e=this.props,t=e.labels,n=e.locale,o=e.localeUtils,r=e.canChangeMonth,s=e.navbarElement,i=a(e,[\"labels\",\"locale\",\"localeUtils\",\"canChangeMonth\",\"navbarElement\"]);if(!r)return null;var u={month:this.state.currentMonth,classNames:this.props.classNames,className:this.props.classNames.navBar,nextMonth:this.getNextNavigableMonth(),previousMonth:this.getPreviousNavigableMonth(),showPreviousButton:this.allowPreviousMonth(),showNextButton:this.allowNextMonth(),onNextClick:this.showNextMonth,onPreviousClick:this.showPreviousMonth,dir:i.dir,labels:t,locale:n,localeUtils:o};return f.default.isValidElement(s)?f.default.cloneElement(s,u):f.default.createElement(s,u)}},{key:\"renderMonths\",value:function(){for(var e=[],t=w.getFirstDayOfWeekFromProps(this.props),n=0;n<this.props.numberOfMonths;n+=1){var o=P.addMonths(this.state.currentMonth,n);e.push(f.default.createElement(k.default,l({key:n},this.props,{month:o,firstDayOfWeek:t,onDayKeyDown:this.handleDayKeyDown,onDayClick:this.handleDayClick})))}return this.props.reverseMonths&&e.reverse(),e}},{key:\"renderFooter\",value:function(){return this.props.todayButton?f.default.createElement(\"div\",{className:this.props.classNames.footer},this.renderTodayButton()):null}},{key:\"renderTodayButton\",value:function(){return f.default.createElement(\"button\",{type:\"button\",tabIndex:0,className:this.props.classNames.todayButton,\"aria-label\":this.props.todayButton,onClick:this.handleTodayButtonClick},this.props.todayButton)}},{key:\"render\",value:function(){var e=this,t=this.props.classNames.container;return this.props.onDayClick||(t=t+\" \"+this.props.classNames.interactionDisabled),this.props.className&&(t=t+\" \"+this.props.className),f.default.createElement(\"div\",l({},this.props.containerProps,{className:t,ref:function(t){return e.dayPicker=t},lang:this.props.locale}),f.default.createElement(\"div\",{className:this.props.classNames.wrapper,ref:function(t){return e.wrapper=t},tabIndex:this.props.canChangeMonth&&void 0!==this.props.tabIndex?this.props.tabIndex:-1,onKeyDown:this.handleKeyDown,onFocus:this.props.onFocus,onBlur:this.props.onBlur},this.renderNavbar(),f.default.createElement(\"div\",{className:this.props.classNames.months},this.renderMonths()),this.renderFooter()))}}]),t}(p.Component);T.defaultProps={classNames:j.default,tabIndex:0,numberOfMonths:1,labels:{previousMonth:\"Previous Month\",nextMonth:\"Next Month\"},locale:\"en\",localeUtils:N,showOutsideDays:!1,enableOutsideDaysClick:!0,fixedWeeks:!1,canChangeMonth:!0,reverseMonths:!1,pagedNavigation:!1,showWeekNumbers:!1,showWeekDays:!0,renderDay:function(e){return e.getDate()},renderWeek:function(e){return e},weekdayElement:f.default.createElement(b.default,null),navbarElement:f.default.createElement(v.default,{classNames:j.default}),captionElement:f.default.createElement(d.default,{classNames:j.default})},T.VERSION=\"7.4.10\",T.DateUtils=P,T.LocaleUtils=N,T.ModifiersUtils=E,t.DateUtils=P,t.LocaleUtils=N,t.ModifiersUtils=E,t.default=T},function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var o=n(7).default;o.Input=n(15).default,t.default=o},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(5),p=o(c),f=n(2),h=function(e){function t(e){r(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleKeyUp=n.handleKeyUp.bind(n),n}return s(t,e),i(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.locale!==this.props.locale||e.classNames!==this.props.classNames||e.date.getMonth()!==this.props.date.getMonth()||e.date.getFullYear()!==this.props.date.getFullYear()}},{key:\"handleKeyUp\",value:function(e){e.keyCode===f.ENTER&&this.props.onClick(e)}},{key:\"render\",value:function(){var e=this.props,t=e.classNames,n=e.date,o=e.months,r=e.locale,a=e.localeUtils,s=e.onClick;return l.default.createElement(\"div\",{className:t.caption,role:\"heading\",\"aria-live\":\"polite\"},l.default.createElement(\"div\",{onClick:s,onKeyUp:this.handleKeyUp},o?o[n.getMonth()]+\" \"+n.getFullYear():a.formatMonthTitle(n,r)))}}]),t}(u.Component);h.defaultProps={localeUtils:p.default},t.default=h},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),u=n(0),l=o(u),c=n(3),p=o(c),f=n(2),h=function(e){function t(){var e,n,o,s;r(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.handleNextClick=function(){o.props.onNextClick&&o.props.onNextClick()},o.handlePreviousClick=function(){o.props.onPreviousClick&&o.props.onPreviousClick()},o.handleNextKeyDown=function(e){e.keyCode!==f.ENTER&&e.keyCode!==f.SPACE||(e.preventDefault(),o.handleNextClick())},o.handlePreviousKeyDown=function(e){e.keyCode!==f.ENTER&&e.keyCode!==f.SPACE||(e.preventDefault(),o.handlePreviousClick())},s=n,a(o,s)}return s(t,e),i(t,[{key:\"shouldComponentUpdate\",value:function(e){return e.labels!==this.props.labels||e.dir!==this.props.dir||this.props.showPreviousButton!==e.showPreviousButton||this.props.showNextButton!==e.showNextButton}},{key:\"render\",value:function(){var e=this.props,t=e.classNames,n=e.className,o=e.showPreviousButton,r=e.showNextButton,a=e.labels,s=e.dir,i=void 0,u=void 0,c=void 0,p=void 0,f=void 0,h=void 0;\"rtl\"===s?(i=this.handleNextClick,u=this.handlePreviousClick,c=this.handleNextKeyDown,p=this.handlePreviousKeyDown,h=o,f=r):(i=this.handlePreviousClick,u=this.handleNextClick,c=this.handlePreviousKeyDown,p=this.handleNextKeyDown,h=r,f=o);var d=f?t.navButtonPrev:t.navButtonPrev+\" \"+t.navButtonInteractionDisabled,y=h?t.navButtonNext:t.navButtonNext+\" \"+t.navButtonInteractionDisabled,v=l.default.createElement(\"span\",{tabIndex:\"0\",role:\"button\",\"aria-label\":a.previousMonth,key:\"previous\",className:d,onKeyDown:f?c:void 0,onClick:f?i:void 0}),m=l.default.createElement(\"span\",{tabIndex:\"0\",role:\"button\",\"aria-label\":a.nextMonth,key:\"right\",className:y,onKeyDown:h?p:void 0,onClick:h?u:void 0});return l.default.createElement(\"div\",{className:n||t.navBar},\"rtl\"===s?[m,v]:[v,m])}}]),t}(u.Component);h.defaultProps={classNames:p.default,dir:\"ltr\",labels:{previousMonth:\"Previous Month\",nextMonth:\"Next Month\"},showPreviousButton:!0,showNextButton:!0},t.default=h},function(e,t,n){\"use strict\";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(0),c=r(l),p=n(12),f=r(p),h=n(13),d=r(h),y=n(2),v=n(6),m=o(v),k=n(4),D=o(k),b=n(1),g=o(b),w=function(e){function t(){var e,n,o,r;a(this,t);for(var i=arguments.length,u=Array(i),l=0;l<i;l++)u[l]=arguments[l];return n=o=s(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),o.renderDay=function(e){var t=o.props.month.getMonth(),n=D.getModifiersFromProps(o.props),r=m.getModifiersForDay(e,n);g.isSameDay(e,new Date)&&!Object.prototype.hasOwnProperty.call(n,o.props.classNames.today)&&r.push(o.props.classNames.today),e.getMonth()!==t&&r.push(o.props.classNames.outside);var a=e.getMonth()!==t,s=-1;o.props.onDayClick&&!a&&1===e.getDate()&&(s=o.props.tabIndex);var i=\"\"+e.getFullYear()+e.getMonth()+e.getDate(),u={};return r.forEach(function(e){u[e]=!0}),c.default.createElement(d.default,{key:(a?\"outside-\":\"\")+i,classNames:o.props.classNames,day:e,modifiers:u,modifiersStyles:o.props.modifiersStyles,empty:a&&!o.props.showOutsideDays&&!o.props.fixedWeeks,tabIndex:s,ariaLabel:o.props.localeUtils.formatDay(e,o.props.locale),ariaDisabled:a||r.indexOf(o.props.classNames.disabled)>-1,ariaSelected:r.indexOf(o.props.classNames.selected)>-1,onClick:o.props.onDayClick,onFocus:o.props.onDayFocus,onKeyDown:o.props.onDayKeyDown,onMouseEnter:o.props.onDayMouseEnter,onMouseLeave:o.props.onDayMouseLeave,onMouseDown:o.props.onDayMouseDown,onMouseUp:o.props.onDayMouseUp,onTouchEnd:o.props.onDayTouchEnd,onTouchStart:o.props.onDayTouchStart},o.props.renderDay(e,u))},r=n,s(o,r)}return i(t,e),u(t,[{key:\"render\",value:function(){var e=this,t=this.props,n=t.classNames,o=t.month,r=t.months,a=t.fixedWeeks,s=t.captionElement,i=t.weekdayElement,u=t.locale,l=t.localeUtils,p=t.weekdaysLong,h=t.weekdaysShort,d=t.firstDayOfWeek,v=t.onCaptionClick,m=t.showWeekNumbers,k=t.showWeekDays,b=t.onWeekClick,w={date:o,classNames:n,months:r,localeUtils:l,locale:u,onClick:v?function(e){return v(o,e)}:void 0},M=c.default.isValidElement(s)?c.default.cloneElement(s,w):c.default.createElement(s,w),P=D.getWeekArray(o,d,a);return c.default.createElement(\"div\",{className:n.month,role:\"grid\"},M,k&&c.default.createElement(f.default,{classNames:n,weekdaysShort:h,weekdaysLong:p,firstDayOfWeek:d,showWeekNumbers:m,locale:u,localeUtils:l,weekdayElement:i}),c.default.createElement(\"div\",{className:n.body,role:\"rowgroup\"},P.map(function(t){var r=void 0;return m&&(r=g.getWeekNumber(t[6])),c.default.createElement(\"div\",{key:t[0].getTime(),className:n.week,role:\"row\"},m&&c.default.createElement(\"div\",{className:n.weekNumber,tabIndex:b?0:-1,role:\"gridcell\",onClick:b?function(e){return b(r,t,e)}:void 0,onKeyUp:b?function(e){return e.keyCode===y.ENTER&&b(r,t,e)}:void 0},e.props.renderWeek(r,t,o)),t.map(e.renderDay))})))}}]),t}(l.Component);t.default=w},function(e,t,n){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:\"shouldComponentUpdate\",value:function(e){return this.props!==e}},{key:\"render\",value:function(){for(var e=this.props,t=e.classNames,n=e.firstDayOfWeek,o=e.showWeekNumbers,r=e.weekdaysLong,a=e.weekdaysShort,s=e.locale,i=e.localeUtils,l=e.weekdayElement,c=[],p=0;p<7;p+=1){var f=(p+n)%7,h={key:p,className:t.weekday,weekday:f,weekdaysLong:r,weekdaysShort:a,localeUtils:i,locale:s},d=u.default.isValidElement(l)?u.default.cloneElement(l,h):u.default.createElement(l,h);c.push(d)}return u.default.createElement(\"div\",{className:t.weekdays,role:\"rowgroup\"},u.default.createElement(\"div\",{className:t.weekdaysRow,role:\"row\"},o&&u.default.createElement(\"div\",{className:t.weekday}),c))}}]),t}(i.Component);t.default=l},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function a(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,n){if(e)return function(o){o.persist(),e(t,n,o)}}Object.defineProperty(t,\"__esModule\",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),c=n(0),p=o(c),f=n(1),h=n(4),d=n(3),y=o(d),v=function(e){function t(){return r(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:\"shouldComponentUpdate\",value:function(e){var t=this,n=Object.keys(this.props),o=Object.keys(e);return n.length!==o.length||n.some(function(n){if(\"modifiers\"===n||\"modifiersStyles\"===n||\"classNames\"===n){var o=t.props[n],r=e[n],a=Object.keys(o),s=Object.keys(r);return a.length!==s.length||a.some(function(e){return!(0,h.hasOwnProp)(r,e)||o[e]!==r[e]})}return\"day\"===n?!(0,f.isSameDay)(t.props[n],e[n]):!(0,h.hasOwnProp)(e,n)||t.props[n]!==e[n]})}},{key:\"render\",value:function(){var e=this.props,t=e.classNames,n=e.modifiersStyles,o=e.day,r=e.tabIndex,a=e.empty,s=e.modifiers,l=e.onMouseEnter,c=e.onMouseLeave,f=e.onMouseUp,h=e.onMouseDown,d=e.onClick,v=e.onKeyDown,m=e.onTouchStart,k=e.onTouchEnd,D=e.onFocus,b=e.ariaLabel,g=e.ariaDisabled,w=e.ariaSelected,M=e.children,P=t.day;t!==y.default?P+=\" \"+Object.keys(s).join(\" \"):P+=Object.keys(s).map(function(e){return\" \"+P+\"--\"+e}).join(\"\");var O=void 0;return n&&Object.keys(s).filter(function(e){return!!n[e]}).forEach(function(e){O=u({},O,n[e])}),a?p.default.createElement(\"div\",{\"aria-disabled\":!0,className:P,style:O}):p.default.createElement(\"div\",{className:P,tabIndex:r,style:O,role:\"gridcell\",\"aria-label\":b,\"aria-disabled\":g,\"aria-selected\":w,onClick:i(d,o,s),onKeyDown:i(v,o,s),onMouseEnter:i(l,o,s),onMouseLeave:i(c,o,s),onMouseUp:i(f,o,s),onMouseDown:i(h,o,s),onTouchEnd:i(k,o,s),onTouchStart:i(m,o,s),onFocus:i(D,o,s)},M)}}]),t}(c.Component);v.defaultProps={tabIndex:-1},v.defaultProps={modifiers:{},modifiersStyles:{},empty:!1},t.default=v},function(e,t,n){\"use strict\";function o(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function r(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function a(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),i=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:\"shouldComponentUpdate\",value:function(e){return this.props!==e}},{key:\"render\",value:function(){var e=this.props,t=e.weekday,n=e.className,o=e.weekdaysLong,r=e.weekdaysShort,a=e.localeUtils,s=e.locale,i=void 0;i=o?o[t]:a.formatWeekdayLong(t,s);var l=void 0;return l=r?r[t]:a.formatWeekdayShort(t,s),u.default.createElement(\"div\",{className:n,role:\"columnheader\"},u.default.createElement(\"abbr\",{title:i},l))}}]),t}(i.Component);t.default=l},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function i(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}function l(e){var t=(e.input,e.selectedDay,e.month,e.children),n=e.classNames,o=u(e,[\"input\",\"selectedDay\",\"month\",\"children\",\"classNames\"]);return y.default.createElement(\"div\",h({className:n.overlayWrapper},o),y.default.createElement(\"div\",{className:n.overlay},t))}function c(e){if((0,k.isDate)(e)){return e.getFullYear()+\"-\"+(\"\"+(e.getMonth()+1))+\"-\"+(\"\"+e.getDate())}return\"\"}function p(e){if(\"string\"==typeof e){var t=e.split(\"-\");if(3===t.length){var n=parseInt(t[0],10),o=parseInt(t[1],10)-1,r=parseInt(t[2],10);if(!(isNaN(n)||String(n).length>4||isNaN(o)||isNaN(r)||r<=0||r>31||o<0||o>=12))return new Date(n,o,r,12,0,0,0)}}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.HIDE_TIMEOUT=void 0;var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.OverlayComponent=l,t.defaultFormat=c,t.defaultParse=p;var d=n(0),y=o(d),v=n(7),m=o(v),k=n(1),D=n(6),b=n(2),g=t.HIDE_TIMEOUT=100,w=function(e){function t(e){a(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.input=null,n.daypicker=null,n.clickTimeout=null,n.hideTimeout=null,n.inputBlurTimeout=null,n.inputFocusTimeout=null,n.state=n.getInitialStateFromProps(e),n.state.showOverlay=e.showOverlay,n.hideAfterDayClick=n.hideAfterDayClick.bind(n),n.handleInputClick=n.handleInputClick.bind(n),n.handleInputFocus=n.handleInputFocus.bind(n),n.handleInputBlur=n.handleInputBlur.bind(n),n.handleInputChange=n.handleInputChange.bind(n),n.handleInputKeyDown=n.handleInputKeyDown.bind(n),n.handleInputKeyUp=n.handleInputKeyUp.bind(n),n.handleDayClick=n.handleDayClick.bind(n),n.handleMonthChange=n.handleMonthChange.bind(n),n.handleOverlayFocus=n.handleOverlayFocus.bind(n),n.handleOverlayBlur=n.handleOverlayBlur.bind(n),n}return i(t,e),f(t,[{key:\"componentDidUpdate\",value:function(e){var t={},n=this.props,o=n.value,r=n.formatDate,a=n.format,s=n.dayPickerProps;o===e.value&&s.locale===e.dayPickerProps.locale&&a===e.format||((0,k.isDate)(o)?t.value=r(o,a,s.locale):t.value=o);var i=e.dayPickerProps.month;s.month&&s.month!==i&&!(0,k.isSameMonth)(s.month,i)&&(t.month=s.month),e.dayPickerProps.selectedDays!==s.selectedDays&&(t.selectedDays=s.selectedDays),Object.keys(t).length>0&&this.setState(t)}},{key:\"componentWillUnmount\",value:function(){clearTimeout(this.clickTimeout),clearTimeout(this.hideTimeout),clearTimeout(this.inputFocusTimeout),clearTimeout(this.inputBlurTimeout),clearTimeout(this.overlayBlurTimeout)}},{key:\"getInitialMonthFromProps\",value:function(e){var t=e.dayPickerProps,n=e.format,o=void 0;return e.value&&(o=(0,k.isDate)(e.value)?e.value:e.parseDate(e.value,n,t.locale)),t.initialMonth||t.month||o||new Date}},{key:\"getInitialStateFromProps\",value:function(e){var t=e.dayPickerProps,n=e.formatDate,o=e.format,r=e.typedValue,a=e.value;return e.value&&(0,k.isDate)(e.value)&&(a=n(e.value,o,t.locale)),{value:a,typedValue:r,month:this.getInitialMonthFromProps(e),selectedDays:t.selectedDays}}},{key:\"getInput\",value:function(){return this.input}},{key:\"getDayPicker\",value:function(){return this.daypicker}},{key:\"updateState\",value:function(e,t,n){var o=this,a=this.props,s=a.dayPickerProps,i=a.onDayChange;this.setState({month:e,value:t,typedValue:\"\"},function(){if(n&&n(),i){var t=h({disabled:s.disabledDays,selected:s.selectedDays},s.modifiers),a=(0,D.getModifiersForDay)(e,t).reduce(function(e,t){return h({},e,r({},t,!0))},{});i(e,a,o)}})}},{key:\"showDayPicker\",value:function(){var e=this,t=this.props,n=t.parseDate,o=t.format,r=t.dayPickerProps,a=this.state,s=a.value;if(!a.showOverlay){var i=s?n(s,o,r.locale):this.getInitialMonthFromProps(this.props);this.setState(function(e){return{showOverlay:!0,month:i||e.month}},function(){e.props.onDayPickerShow&&e.props.onDayPickerShow()})}}},{key:\"hideDayPicker\",value:function(){var e=this;!1!==this.state.showOverlay&&this.setState({showOverlay:!1},function(){e.props.onDayPickerHide&&e.props.onDayPickerHide()})}},{key:\"hideAfterDayClick\",value:function(){var e=this;this.props.hideOnDayClick&&(this.hideTimeout=setTimeout(function(){e.overlayHasFocus=!1,e.hideDayPicker()},g))}},{key:\"handleInputClick\",value:function(e){this.showDayPicker(),this.props.inputProps.onClick&&(e.persist(),this.props.inputProps.onClick(e))}},{key:\"handleInputFocus\",value:function(e){var t=this;this.showDayPicker(),this.inputFocusTimeout=setTimeout(function(){t.overlayHasFocus=!1},2),this.props.inputProps.onFocus&&(e.persist(),this.props.inputProps.onFocus(e))}},{key:\"handleInputBlur\",value:function(e){var t=this;this.inputBlurTimeout=setTimeout(function(){t.overlayHasFocus||t.hideDayPicker()},1),this.props.inputProps.onBlur&&(e.persist(),this.props.inputProps.onBlur(e))}},{key:\"handleOverlayFocus\",value:function(e){e.preventDefault(),this.overlayHasFocus=!0,this.props.keepFocus&&this.input&&\"function\"==typeof this.input.focus&&this.input.focus()}},{key:\"handleOverlayBlur\",value:function(){var e=this;this.overlayBlurTimeout=setTimeout(function(){e.overlayHasFocus=!1},3)}},{key:\"handleInputChange\",value:function(e){var t=this.props,n=t.dayPickerProps,o=t.format,r=t.inputProps,a=t.onDayChange,s=t.parseDate;r.onChange&&(e.persist(),r.onChange(e));var i=e.target.value;if(\"\"===i.trim())return this.setState({value:i,typedValue:\"\"}),void(a&&a(void 0,{},this));var u=s(i,o,n.locale);if(!u)return this.setState({value:i,typedValue:i}),void(a&&a(void 0,{},this));this.updateState(u,i)}},{key:\"handleInputKeyDown\",value:function(e){e.keyCode===b.TAB?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyDown&&(e.persist(),this.props.inputProps.onKeyDown(e))}},{key:\"handleInputKeyUp\",value:function(e){e.keyCode===b.ESC?this.hideDayPicker():this.showDayPicker(),this.props.inputProps.onKeyUp&&(e.persist(),this.props.inputProps.onKeyUp(e))}},{key:\"handleMonthChange\",value:function(e){var t=this;this.setState({month:e},function(){t.props.dayPickerProps&&t.props.dayPickerProps.onMonthChange&&t.props.dayPickerProps.onMonthChange(e)})}},{key:\"handleDayClick\",value:function(e,t,n){var o=this,r=this.props,a=r.clickUnselectsDay,s=r.dayPickerProps,i=r.onDayChange,u=r.formatDate,l=r.format;if(s.onDayClick&&s.onDayClick(e,t,n),!(t.disabled||s&&s.classNames&&t[s.classNames.disabled])){if(t.selected&&a){var c=this.state.selectedDays;if(Array.isArray(c)){c=c.slice(0);var p=c.indexOf(e);c.splice(p,1)}else c&&(c=null);return this.setState({value:\"\",typedValue:\"\",selectedDays:c},this.hideAfterDayClick),void(i&&i(void 0,t,this))}var f=u(e,l,s.locale);this.setState({value:f,typedValue:\"\",month:e},function(){i&&i(e,t,o),o.hideAfterDayClick()})}}},{key:\"renderOverlay\",value:function(){var e=this,t=this.props,n=t.classNames,o=t.dayPickerProps,r=t.parseDate,a=t.formatDate,s=t.format,i=this.state,u=i.selectedDays,l=i.value,c=void 0;if(!u&&l){var p=r(l,s,o.locale);p&&(c=p)}else u&&(c=u);var f=void 0;o.todayButton&&(f=function(){return e.updateState(new Date,a(new Date,s,o.locale),e.hideAfterDayClick)});var d=this.props.overlayComponent;return y.default.createElement(d,{classNames:n,month:this.state.month,selectedDay:c,input:this.input,tabIndex:0,onFocus:this.handleOverlayFocus,onBlur:this.handleOverlayBlur},y.default.createElement(m.default,h({ref:function(t){return e.daypicker=t},onTodayButtonClick:f},o,{month:this.state.month,selectedDays:c,onDayClick:this.handleDayClick,onMonthChange:this.handleMonthChange})))}},{key:\"render\",value:function(){var e=this,t=this.props.component,n=this.props.inputProps;return y.default.createElement(\"div\",{className:this.props.classNames.container,style:this.props.style},y.default.createElement(t,h({ref:function(t){return e.input=t},placeholder:this.props.placeholder},n,{value:this.state.value||this.state.typedValue,onChange:this.handleInputChange,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onKeyDown:this.handleInputKeyDown,onKeyUp:this.handleInputKeyUp,onClick:n.disabled?void 0:this.handleInputClick})),this.state.showOverlay&&this.renderOverlay())}}]),t}(y.default.Component);w.defaultProps={dayPickerProps:{},value:\"\",typedValue:\"\",placeholder:\"YYYY-M-D\",format:\"L\",formatDate:c,parseDate:p,showOverlay:!1,hideOnDayClick:!0,clickUnselectsDay:!1,keepFocus:!0,component:\"input\",inputProps:{},overlayComponent:l,classNames:{container:\"DayPickerInput\",overlayWrapper:\"DayPickerInput-OverlayWrapper\",overlay:\"DayPickerInput-Overlay\"}},t.default=w}]).default});\n//# sourceMappingURL=react-day-picker.min.js.map","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nfunction componentWillMount() {\n  // Call this.constructor.gDSFP to support sub-classes.\n  var state = this.constructor.getDerivedStateFromProps(this.props, this.state);\n  if (state !== null && state !== undefined) {\n    this.setState(state);\n  }\n}\n\nfunction componentWillReceiveProps(nextProps) {\n  // Call this.constructor.gDSFP to support sub-classes.\n  // Use the setState() updater to ensure state isn't stale in certain edge cases.\n  function updater(prevState) {\n    var state = this.constructor.getDerivedStateFromProps(nextProps, prevState);\n    return state !== null && state !== undefined ? state : null;\n  }\n  // Binding \"this\" is important for shallow renderer support.\n  this.setState(updater.bind(this));\n}\n\nfunction componentWillUpdate(nextProps, nextState) {\n  try {\n    var prevProps = this.props;\n    var prevState = this.state;\n    this.props = nextProps;\n    this.state = nextState;\n    this.__reactInternalSnapshotFlag = true;\n    this.__reactInternalSnapshot = this.getSnapshotBeforeUpdate(\n      prevProps,\n      prevState\n    );\n  } finally {\n    this.props = prevProps;\n    this.state = prevState;\n  }\n}\n\n// React may warn about cWM/cWRP/cWU methods being deprecated.\n// Add a flag to suppress these warnings for this special case.\ncomponentWillMount.__suppressDeprecationWarning = true;\ncomponentWillReceiveProps.__suppressDeprecationWarning = true;\ncomponentWillUpdate.__suppressDeprecationWarning = true;\n\nfunction polyfill(Component) {\n  var prototype = Component.prototype;\n\n  if (!prototype || !prototype.isReactComponent) {\n    throw new Error('Can only polyfill class components');\n  }\n\n  if (\n    typeof Component.getDerivedStateFromProps !== 'function' &&\n    typeof prototype.getSnapshotBeforeUpdate !== 'function'\n  ) {\n    return Component;\n  }\n\n  // If new component APIs are defined, \"unsafe\" lifecycles won't be called.\n  // Error if any of these lifecycles are present,\n  // Because they would work differently between older and newer (16.3+) versions of React.\n  var foundWillMountName = null;\n  var foundWillReceivePropsName = null;\n  var foundWillUpdateName = null;\n  if (typeof prototype.componentWillMount === 'function') {\n    foundWillMountName = 'componentWillMount';\n  } else if (typeof prototype.UNSAFE_componentWillMount === 'function') {\n    foundWillMountName = 'UNSAFE_componentWillMount';\n  }\n  if (typeof prototype.componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'componentWillReceiveProps';\n  } else if (typeof prototype.UNSAFE_componentWillReceiveProps === 'function') {\n    foundWillReceivePropsName = 'UNSAFE_componentWillReceiveProps';\n  }\n  if (typeof prototype.componentWillUpdate === 'function') {\n    foundWillUpdateName = 'componentWillUpdate';\n  } else if (typeof prototype.UNSAFE_componentWillUpdate === 'function') {\n    foundWillUpdateName = 'UNSAFE_componentWillUpdate';\n  }\n  if (\n    foundWillMountName !== null ||\n    foundWillReceivePropsName !== null ||\n    foundWillUpdateName !== null\n  ) {\n    var componentName = Component.displayName || Component.name;\n    var newApiName =\n      typeof Component.getDerivedStateFromProps === 'function'\n        ? 'getDerivedStateFromProps()'\n        : 'getSnapshotBeforeUpdate()';\n\n    throw Error(\n      'Unsafe legacy lifecycles will not be called for components using new component APIs.\\n\\n' +\n        componentName +\n        ' uses ' +\n        newApiName +\n        ' but also contains the following legacy lifecycles:' +\n        (foundWillMountName !== null ? '\\n  ' + foundWillMountName : '') +\n        (foundWillReceivePropsName !== null\n          ? '\\n  ' + foundWillReceivePropsName\n          : '') +\n        (foundWillUpdateName !== null ? '\\n  ' + foundWillUpdateName : '') +\n        '\\n\\nThe above lifecycles should be removed. Learn more about this warning here:\\n' +\n        'https://fb.me/react-async-component-lifecycle-hooks'\n    );\n  }\n\n  // React <= 16.2 does not support static getDerivedStateFromProps.\n  // As a workaround, use cWM and cWRP to invoke the new static lifecycle.\n  // Newer versions of React will ignore these lifecycles if gDSFP exists.\n  if (typeof Component.getDerivedStateFromProps === 'function') {\n    prototype.componentWillMount = componentWillMount;\n    prototype.componentWillReceiveProps = componentWillReceiveProps;\n  }\n\n  // React <= 16.2 does not support getSnapshotBeforeUpdate.\n  // As a workaround, use cWU to invoke the new lifecycle.\n  // Newer versions of React will ignore that lifecycle if gSBU exists.\n  if (typeof prototype.getSnapshotBeforeUpdate === 'function') {\n    if (typeof prototype.componentDidUpdate !== 'function') {\n      throw new Error(\n        'Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype'\n      );\n    }\n\n    prototype.componentWillUpdate = componentWillUpdate;\n\n    var componentDidUpdate = prototype.componentDidUpdate;\n\n    prototype.componentDidUpdate = function componentDidUpdatePolyfill(\n      prevProps,\n      prevState,\n      maybeSnapshot\n    ) {\n      // 16.3+ will not execute our will-update method;\n      // It will pass a snapshot value to did-update though.\n      // Older versions will require our polyfilled will-update value.\n      // We need to handle both cases, but can't just check for the presence of \"maybeSnapshot\",\n      // Because for <= 15.x versions this might be a \"prevContext\" object.\n      // We also can't just check \"__reactInternalSnapshot\",\n      // Because get-snapshot might return a falsy value.\n      // So check for the explicit __reactInternalSnapshotFlag flag to determine behavior.\n      var snapshot = this.__reactInternalSnapshotFlag\n        ? this.__reactInternalSnapshot\n        : maybeSnapshot;\n\n      componentDidUpdate.call(this, prevProps, prevState, snapshot);\n    };\n  }\n\n  return Component;\n}\n\nexport { polyfill };\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bodyOpenClassName = exports.portalClassName = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require(\"react-dom\");\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _ModalPortal = require(\"./ModalPortal\");\n\nvar _ModalPortal2 = _interopRequireDefault(_ModalPortal);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _reactLifecyclesCompat = require(\"react-lifecycles-compat\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar portalClassName = exports.portalClassName = \"ReactModalPortal\";\nvar bodyOpenClassName = exports.bodyOpenClassName = \"ReactModal__Body--open\";\n\nvar isReact16 = _safeHTMLElement.canUseDOM && _reactDom2.default.createPortal !== undefined;\n\nvar createHTMLElement = function createHTMLElement(name) {\n  return document.createElement(name);\n};\n\nvar getCreatePortal = function getCreatePortal() {\n  return isReact16 ? _reactDom2.default.createPortal : _reactDom2.default.unstable_renderSubtreeIntoContainer;\n};\n\nfunction getParentElement(parentSelector) {\n  return parentSelector();\n}\n\nvar Modal = function (_Component) {\n  _inherits(Modal, _Component);\n\n  function Modal() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Modal);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Modal.__proto__ || Object.getPrototypeOf(Modal)).call.apply(_ref, [this].concat(args))), _this), _this.removePortal = function () {\n      !isReact16 && _reactDom2.default.unmountComponentAtNode(_this.node);\n      var parent = getParentElement(_this.props.parentSelector);\n      if (parent && parent.contains(_this.node)) {\n        parent.removeChild(_this.node);\n      } else {\n        // eslint-disable-next-line no-console\n        console.warn('React-Modal: \"parentSelector\" prop did not returned any DOM ' + \"element. Make sure that the parent element is unmounted to \" + \"avoid any memory leaks.\");\n      }\n    }, _this.portalRef = function (ref) {\n      _this.portal = ref;\n    }, _this.renderPortal = function (props) {\n      var createPortal = getCreatePortal();\n      var portal = createPortal(_this, _react2.default.createElement(_ModalPortal2.default, _extends({ defaultStyles: Modal.defaultStyles }, props)), _this.node);\n      _this.portalRef(portal);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Modal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!_safeHTMLElement.canUseDOM) return;\n\n      if (!isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n      this.node.className = this.props.portalClassName;\n\n      var parent = getParentElement(this.props.parentSelector);\n      parent.appendChild(this.node);\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"getSnapshotBeforeUpdate\",\n    value: function getSnapshotBeforeUpdate(prevProps) {\n      var prevParent = getParentElement(prevProps.parentSelector);\n      var nextParent = getParentElement(this.props.parentSelector);\n      return { prevParent: prevParent, nextParent: nextParent };\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, _, snapshot) {\n      if (!_safeHTMLElement.canUseDOM) return;\n      var _props = this.props,\n          isOpen = _props.isOpen,\n          portalClassName = _props.portalClassName;\n\n\n      if (prevProps.portalClassName !== portalClassName) {\n        this.node.className = portalClassName;\n      }\n\n      var prevParent = snapshot.prevParent,\n          nextParent = snapshot.nextParent;\n\n      if (nextParent !== prevParent) {\n        prevParent.removeChild(this.node);\n        nextParent.appendChild(this.node);\n      }\n\n      // Stop unnecessary renders if modal is remaining closed\n      if (!prevProps.isOpen && !isOpen) return;\n\n      !isReact16 && this.renderPortal(this.props);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (!_safeHTMLElement.canUseDOM || !this.node || !this.portal) return;\n\n      var state = this.portal.state;\n      var now = Date.now();\n      var closesAt = state.isOpen && this.props.closeTimeoutMS && (state.closesAt || now + this.props.closeTimeoutMS);\n\n      if (closesAt) {\n        if (!state.beforeClose) {\n          this.portal.closeWithTimeout();\n        }\n\n        setTimeout(this.removePortal, closesAt - now);\n      } else {\n        this.removePortal();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!_safeHTMLElement.canUseDOM || !isReact16) {\n        return null;\n      }\n\n      if (!this.node && isReact16) {\n        this.node = createHTMLElement(\"div\");\n      }\n\n      var createPortal = getCreatePortal();\n      return createPortal(_react2.default.createElement(_ModalPortal2.default, _extends({\n        ref: this.portalRef,\n        defaultStyles: Modal.defaultStyles\n      }, this.props)), this.node);\n    }\n  }], [{\n    key: \"setAppElement\",\n    value: function setAppElement(element) {\n      ariaAppHider.setElement(element);\n    }\n\n    /* eslint-disable react/no-unused-prop-types */\n\n    /* eslint-enable react/no-unused-prop-types */\n\n  }]);\n\n  return Modal;\n}(_react.Component);\n\nModal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  portalClassName: _propTypes2.default.string,\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\n    base: _propTypes2.default.string.isRequired,\n    afterOpen: _propTypes2.default.string.isRequired,\n    beforeClose: _propTypes2.default.string.isRequired\n  })]),\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  ariaHideApp: _propTypes2.default.bool,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  parentSelector: _propTypes2.default.func,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func\n};\nModal.defaultProps = {\n  isOpen: false,\n  portalClassName: portalClassName,\n  bodyOpenClassName: bodyOpenClassName,\n  role: \"dialog\",\n  ariaHideApp: true,\n  closeTimeoutMS: 0,\n  shouldFocusAfterRender: true,\n  shouldCloseOnEsc: true,\n  shouldCloseOnOverlayClick: true,\n  shouldReturnFocusAfterClose: true,\n  preventScroll: false,\n  parentSelector: function parentSelector() {\n    return document.body;\n  },\n  overlayElement: function overlayElement(props, contentEl) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      contentEl\n    );\n  },\n  contentElement: function contentElement(props, children) {\n    return _react2.default.createElement(\n      \"div\",\n      props,\n      children\n    );\n  }\n};\nModal.defaultStyles = {\n  overlay: {\n    position: \"fixed\",\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    backgroundColor: \"rgba(255, 255, 255, 0.75)\"\n  },\n  content: {\n    position: \"absolute\",\n    top: \"40px\",\n    left: \"40px\",\n    right: \"40px\",\n    bottom: \"40px\",\n    border: \"1px solid #ccc\",\n    background: \"#fff\",\n    overflow: \"auto\",\n    WebkitOverflowScrolling: \"touch\",\n    borderRadius: \"4px\",\n    outline: \"none\",\n    padding: \"20px\"\n  }\n};\n\n\n(0, _reactLifecyclesCompat.polyfill)(Modal);\n\nif (process.env.NODE_ENV !== \"production\") {\n  Modal.setCreateHTMLElement = function (fn) {\n    return createHTMLElement = fn;\n  };\n}\n\nexports.default = Modal;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require(\"react\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _focusManager = require(\"../helpers/focusManager\");\n\nvar focusManager = _interopRequireWildcard(_focusManager);\n\nvar _scopeTab = require(\"../helpers/scopeTab\");\n\nvar _scopeTab2 = _interopRequireDefault(_scopeTab);\n\nvar _ariaAppHider = require(\"../helpers/ariaAppHider\");\n\nvar ariaAppHider = _interopRequireWildcard(_ariaAppHider);\n\nvar _classList = require(\"../helpers/classList\");\n\nvar classList = _interopRequireWildcard(_classList);\n\nvar _safeHTMLElement = require(\"../helpers/safeHTMLElement\");\n\nvar _safeHTMLElement2 = _interopRequireDefault(_safeHTMLElement);\n\nvar _portalOpenInstances = require(\"../helpers/portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nrequire(\"../helpers/bodyTrap\");\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// so that our CSS is statically analyzable\nvar CLASS_NAMES = {\n  overlay: \"ReactModal__Overlay\",\n  content: \"ReactModal__Content\"\n};\n\nvar TAB_KEY = 9;\nvar ESC_KEY = 27;\n\nvar ariaHiddenInstances = 0;\n\nvar ModalPortal = function (_Component) {\n  _inherits(ModalPortal, _Component);\n\n  function ModalPortal(props) {\n    _classCallCheck(this, ModalPortal);\n\n    var _this = _possibleConstructorReturn(this, (ModalPortal.__proto__ || Object.getPrototypeOf(ModalPortal)).call(this, props));\n\n    _this.setOverlayRef = function (overlay) {\n      _this.overlay = overlay;\n      _this.props.overlayRef && _this.props.overlayRef(overlay);\n    };\n\n    _this.setContentRef = function (content) {\n      _this.content = content;\n      _this.props.contentRef && _this.props.contentRef(content);\n    };\n\n    _this.afterClose = function () {\n      var _this$props = _this.props,\n          appElement = _this$props.appElement,\n          ariaHideApp = _this$props.ariaHideApp,\n          htmlOpenClassName = _this$props.htmlOpenClassName,\n          bodyOpenClassName = _this$props.bodyOpenClassName;\n\n      // Remove classes.\n\n      bodyOpenClassName && classList.remove(document.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.remove(document.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      // Reset aria-hidden attribute if all modals have been removed\n      if (ariaHideApp && ariaHiddenInstances > 0) {\n        ariaHiddenInstances -= 1;\n\n        if (ariaHiddenInstances === 0) {\n          ariaAppHider.show(appElement);\n        }\n      }\n\n      if (_this.props.shouldFocusAfterRender) {\n        if (_this.props.shouldReturnFocusAfterClose) {\n          focusManager.returnFocus(_this.props.preventScroll);\n          focusManager.teardownScopedFocus();\n        } else {\n          focusManager.popWithoutFocus();\n        }\n      }\n\n      if (_this.props.onAfterClose) {\n        _this.props.onAfterClose();\n      }\n\n      _portalOpenInstances2.default.deregister(_this);\n    };\n\n    _this.open = function () {\n      _this.beforeOpen();\n      if (_this.state.afterOpen && _this.state.beforeClose) {\n        clearTimeout(_this.closeTimer);\n        _this.setState({ beforeClose: false });\n      } else {\n        if (_this.props.shouldFocusAfterRender) {\n          focusManager.setupScopedFocus(_this.node);\n          focusManager.markForFocusLater();\n        }\n\n        _this.setState({ isOpen: true }, function () {\n          _this.openAnimationFrame = requestAnimationFrame(function () {\n            _this.setState({ afterOpen: true });\n\n            if (_this.props.isOpen && _this.props.onAfterOpen) {\n              _this.props.onAfterOpen({\n                overlayEl: _this.overlay,\n                contentEl: _this.content\n              });\n            }\n          });\n        });\n      }\n    };\n\n    _this.close = function () {\n      if (_this.props.closeTimeoutMS > 0) {\n        _this.closeWithTimeout();\n      } else {\n        _this.closeWithoutTimeout();\n      }\n    };\n\n    _this.focusContent = function () {\n      return _this.content && !_this.contentHasFocus() && _this.content.focus({ preventScroll: true });\n    };\n\n    _this.closeWithTimeout = function () {\n      var closesAt = Date.now() + _this.props.closeTimeoutMS;\n      _this.setState({ beforeClose: true, closesAt: closesAt }, function () {\n        _this.closeTimer = setTimeout(_this.closeWithoutTimeout, _this.state.closesAt - Date.now());\n      });\n    };\n\n    _this.closeWithoutTimeout = function () {\n      _this.setState({\n        beforeClose: false,\n        isOpen: false,\n        afterOpen: false,\n        closesAt: null\n      }, _this.afterClose);\n    };\n\n    _this.handleKeyDown = function (event) {\n      if (event.keyCode === TAB_KEY) {\n        (0, _scopeTab2.default)(_this.content, event);\n      }\n\n      if (_this.props.shouldCloseOnEsc && event.keyCode === ESC_KEY) {\n        event.stopPropagation();\n        _this.requestClose(event);\n      }\n    };\n\n    _this.handleOverlayOnClick = function (event) {\n      if (_this.shouldClose === null) {\n        _this.shouldClose = true;\n      }\n\n      if (_this.shouldClose && _this.props.shouldCloseOnOverlayClick) {\n        if (_this.ownerHandlesClose()) {\n          _this.requestClose(event);\n        } else {\n          _this.focusContent();\n        }\n      }\n      _this.shouldClose = null;\n    };\n\n    _this.handleContentOnMouseUp = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleOverlayOnMouseDown = function (event) {\n      if (!_this.props.shouldCloseOnOverlayClick && event.target == _this.overlay) {\n        event.preventDefault();\n      }\n    };\n\n    _this.handleContentOnClick = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.handleContentOnMouseDown = function () {\n      _this.shouldClose = false;\n    };\n\n    _this.requestClose = function (event) {\n      return _this.ownerHandlesClose() && _this.props.onRequestClose(event);\n    };\n\n    _this.ownerHandlesClose = function () {\n      return _this.props.onRequestClose;\n    };\n\n    _this.shouldBeClosed = function () {\n      return !_this.state.isOpen && !_this.state.beforeClose;\n    };\n\n    _this.contentHasFocus = function () {\n      return document.activeElement === _this.content || _this.content.contains(document.activeElement);\n    };\n\n    _this.buildClassName = function (which, additional) {\n      var classNames = (typeof additional === \"undefined\" ? \"undefined\" : _typeof(additional)) === \"object\" ? additional : {\n        base: CLASS_NAMES[which],\n        afterOpen: CLASS_NAMES[which] + \"--after-open\",\n        beforeClose: CLASS_NAMES[which] + \"--before-close\"\n      };\n      var className = classNames.base;\n      if (_this.state.afterOpen) {\n        className = className + \" \" + classNames.afterOpen;\n      }\n      if (_this.state.beforeClose) {\n        className = className + \" \" + classNames.beforeClose;\n      }\n      return typeof additional === \"string\" && additional ? className + \" \" + additional : className;\n    };\n\n    _this.attributesFromObject = function (prefix, items) {\n      return Object.keys(items).reduce(function (acc, name) {\n        acc[prefix + \"-\" + name] = items[name];\n        return acc;\n      }, {});\n    };\n\n    _this.state = {\n      afterOpen: false,\n      beforeClose: false\n    };\n\n    _this.shouldClose = null;\n    _this.moveFromContentToOverlay = null;\n    return _this;\n  }\n\n  _createClass(ModalPortal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.isOpen) {\n        this.open();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (prevProps.bodyOpenClassName !== this.props.bodyOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"bodyOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n        if (prevProps.htmlOpenClassName !== this.props.htmlOpenClassName) {\n          // eslint-disable-next-line no-console\n          console.warn('React-Modal: \"htmlOpenClassName\" prop has been modified. ' + \"This may cause unexpected behavior when multiple modals are open.\");\n        }\n      }\n\n      if (this.props.isOpen && !prevProps.isOpen) {\n        this.open();\n      } else if (!this.props.isOpen && prevProps.isOpen) {\n        this.close();\n      }\n\n      // Focus only needs to be set once when the modal is being opened\n      if (this.props.shouldFocusAfterRender && this.state.isOpen && !prevState.isOpen) {\n        this.focusContent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.state.isOpen) {\n        this.afterClose();\n      }\n      clearTimeout(this.closeTimer);\n      cancelAnimationFrame(this.openAnimationFrame);\n    }\n  }, {\n    key: \"beforeOpen\",\n    value: function beforeOpen() {\n      var _props = this.props,\n          appElement = _props.appElement,\n          ariaHideApp = _props.ariaHideApp,\n          htmlOpenClassName = _props.htmlOpenClassName,\n          bodyOpenClassName = _props.bodyOpenClassName;\n\n      // Add classes.\n\n      bodyOpenClassName && classList.add(document.body, bodyOpenClassName);\n\n      htmlOpenClassName && classList.add(document.getElementsByTagName(\"html\")[0], htmlOpenClassName);\n\n      if (ariaHideApp) {\n        ariaHiddenInstances += 1;\n        ariaAppHider.hide(appElement);\n      }\n\n      _portalOpenInstances2.default.register(this);\n    }\n\n    // Don't steal focus from inner elements\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          id = _props2.id,\n          className = _props2.className,\n          overlayClassName = _props2.overlayClassName,\n          defaultStyles = _props2.defaultStyles,\n          children = _props2.children;\n\n      var contentStyles = className ? {} : defaultStyles.content;\n      var overlayStyles = overlayClassName ? {} : defaultStyles.overlay;\n\n      if (this.shouldBeClosed()) {\n        return null;\n      }\n\n      var overlayProps = {\n        ref: this.setOverlayRef,\n        className: this.buildClassName(\"overlay\", overlayClassName),\n        style: _extends({}, overlayStyles, this.props.style.overlay),\n        onClick: this.handleOverlayOnClick,\n        onMouseDown: this.handleOverlayOnMouseDown\n      };\n\n      var contentProps = _extends({\n        id: id,\n        ref: this.setContentRef,\n        style: _extends({}, contentStyles, this.props.style.content),\n        className: this.buildClassName(\"content\", className),\n        tabIndex: \"-1\",\n        onKeyDown: this.handleKeyDown,\n        onMouseDown: this.handleContentOnMouseDown,\n        onMouseUp: this.handleContentOnMouseUp,\n        onClick: this.handleContentOnClick,\n        role: this.props.role,\n        \"aria-label\": this.props.contentLabel\n      }, this.attributesFromObject(\"aria\", _extends({ modal: true }, this.props.aria)), this.attributesFromObject(\"data\", this.props.data || {}), {\n        \"data-testid\": this.props.testId\n      });\n\n      var contentElement = this.props.contentElement(contentProps, children);\n      return this.props.overlayElement(overlayProps, contentElement);\n    }\n  }]);\n\n  return ModalPortal;\n}(_react.Component);\n\nModalPortal.defaultProps = {\n  style: {\n    overlay: {},\n    content: {}\n  },\n  defaultStyles: {}\n};\nModalPortal.propTypes = {\n  isOpen: _propTypes2.default.bool.isRequired,\n  defaultStyles: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  style: _propTypes2.default.shape({\n    content: _propTypes2.default.object,\n    overlay: _propTypes2.default.object\n  }),\n  className: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  overlayClassName: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  bodyOpenClassName: _propTypes2.default.string,\n  htmlOpenClassName: _propTypes2.default.string,\n  ariaHideApp: _propTypes2.default.bool,\n  appElement: _propTypes2.default.oneOfType([_propTypes2.default.instanceOf(_safeHTMLElement2.default), _propTypes2.default.instanceOf(_safeHTMLElement.SafeHTMLCollection), _propTypes2.default.instanceOf(_safeHTMLElement.SafeNodeList), _propTypes2.default.arrayOf(_propTypes2.default.instanceOf(_safeHTMLElement2.default))]),\n  onAfterOpen: _propTypes2.default.func,\n  onAfterClose: _propTypes2.default.func,\n  onRequestClose: _propTypes2.default.func,\n  closeTimeoutMS: _propTypes2.default.number,\n  shouldFocusAfterRender: _propTypes2.default.bool,\n  shouldCloseOnOverlayClick: _propTypes2.default.bool,\n  shouldReturnFocusAfterClose: _propTypes2.default.bool,\n  preventScroll: _propTypes2.default.bool,\n  role: _propTypes2.default.string,\n  contentLabel: _propTypes2.default.string,\n  aria: _propTypes2.default.object,\n  data: _propTypes2.default.object,\n  children: _propTypes2.default.node,\n  shouldCloseOnEsc: _propTypes2.default.bool,\n  overlayRef: _propTypes2.default.func,\n  contentRef: _propTypes2.default.func,\n  id: _propTypes2.default.string,\n  overlayElement: _propTypes2.default.func,\n  contentElement: _propTypes2.default.func,\n  testId: _propTypes2.default.string\n};\nexports.default = ModalPortal;\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.assertNodeList = assertNodeList;\nexports.setElement = setElement;\nexports.validateElement = validateElement;\nexports.hide = hide;\nexports.show = show;\nexports.documentNotReadyOrSSRTesting = documentNotReadyOrSSRTesting;\n\nvar _warning = require(\"warning\");\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _safeHTMLElement = require(\"./safeHTMLElement\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar globalElement = null;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  if (globalElement) {\n    if (globalElement.removeAttribute) {\n      globalElement.removeAttribute(\"aria-hidden\");\n    } else if (globalElement.length != null) {\n      globalElement.forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    } else {\n      document.querySelectorAll(globalElement).forEach(function (element) {\n        return element.removeAttribute(\"aria-hidden\");\n      });\n    }\n  }\n  globalElement = null;\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var check = globalElement || {};\n    console.log(\"ariaAppHider ----------\");\n    console.log(check.nodeName, check.className, check.id);\n    console.log(\"end ariaAppHider ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction assertNodeList(nodeList, selector) {\n  if (!nodeList || !nodeList.length) {\n    throw new Error(\"react-modal: No elements were found for selector \" + selector + \".\");\n  }\n}\n\nfunction setElement(element) {\n  var useElement = element;\n  if (typeof useElement === \"string\" && _safeHTMLElement.canUseDOM) {\n    var el = document.querySelectorAll(useElement);\n    assertNodeList(el, useElement);\n    useElement = el;\n  }\n  globalElement = useElement || globalElement;\n  return globalElement;\n}\n\nfunction validateElement(appElement) {\n  var el = appElement || globalElement;\n  if (el) {\n    return Array.isArray(el) || el instanceof HTMLCollection || el instanceof NodeList ? el : [el];\n  } else {\n    (0, _warning2.default)(false, [\"react-modal: App element is not defined.\", \"Please use `Modal.setAppElement(el)` or set `appElement={el}`.\", \"This is needed so screen readers don't see main content\", \"when modal is opened. It is not recommended, but you can opt-out\", \"by setting `ariaHideApp={false}`.\"].join(\" \"));\n\n    return [];\n  }\n}\n\nfunction hide(appElement) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = validateElement(appElement)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var el = _step.value;\n\n      el.setAttribute(\"aria-hidden\", \"true\");\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n}\n\nfunction show(appElement) {\n  var _iteratorNormalCompletion2 = true;\n  var _didIteratorError2 = false;\n  var _iteratorError2 = undefined;\n\n  try {\n    for (var _iterator2 = validateElement(appElement)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n      var el = _step2.value;\n\n      el.removeAttribute(\"aria-hidden\");\n    }\n  } catch (err) {\n    _didIteratorError2 = true;\n    _iteratorError2 = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion2 && _iterator2.return) {\n        _iterator2.return();\n      }\n    } finally {\n      if (_didIteratorError2) {\n        throw _iteratorError2;\n      }\n    }\n  }\n}\n\nfunction documentNotReadyOrSSRTesting() {\n  globalElement = null;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n  before = after = null;\n  instances = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nvar htmlClassList = {};\nvar docBodyClassList = {};\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction removeClass(at, cls) {\n  at.classList.remove(cls);\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  var htmlElement = document.getElementsByTagName(\"html\")[0];\n  for (var cls in htmlClassList) {\n    removeClass(htmlElement, htmlClassList[cls]);\n  }\n\n  var body = document.body;\n  for (var _cls in docBodyClassList) {\n    removeClass(body, docBodyClassList[_cls]);\n  }\n\n  htmlClassList = {};\n  docBodyClassList = {};\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    var classes = document.getElementsByTagName(\"html\")[0].className;\n    var buffer = \"Show tracked classes:\\n\\n\";\n\n    buffer += \"<html /> (\" + classes + \"):\\n  \";\n    for (var x in htmlClassList) {\n      buffer += \"  \" + x + \" \" + htmlClassList[x] + \"\\n  \";\n    }\n\n    classes = document.body.className;\n\n    buffer += \"\\n\\ndoc.body (\" + classes + \"):\\n  \";\n    for (var _x in docBodyClassList) {\n      buffer += \"  \" + _x + \" \" + docBodyClassList[_x] + \"\\n  \";\n    }\n\n    buffer += \"\\n\";\n\n    console.log(buffer);\n  }\n}\n/* eslint-enable no-console */\n\n/**\n * Track the number of reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar incrementReference = function incrementReference(poll, className) {\n  if (!poll[className]) {\n    poll[className] = 0;\n  }\n  poll[className] += 1;\n  return className;\n};\n\n/**\n * Drop the reference of a class.\n * @param {object} poll The poll to receive the reference.\n * @param {string} className The class name.\n * @return {string}\n */\nvar decrementReference = function decrementReference(poll, className) {\n  if (poll[className]) {\n    poll[className] -= 1;\n  }\n  return className;\n};\n\n/**\n * Track a class and add to the given class list.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be tracked.\n */\nvar trackClass = function trackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    incrementReference(poll, className);\n    classListRef.add(className);\n  });\n};\n\n/**\n * Untrack a class and remove from the given class list if the reference\n * reaches 0.\n * @param {Object} classListRef A class list of an element.\n * @param {Object} poll         The poll to be used.\n * @param {Array}  classes      The list of classes to be untracked.\n */\nvar untrackClass = function untrackClass(classListRef, poll, classes) {\n  classes.forEach(function (className) {\n    decrementReference(poll, className);\n    poll[className] === 0 && classListRef.remove(className);\n  });\n};\n\n/**\n * Public inferface to add classes to the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar add = exports.add = function add(element, classString) {\n  return trackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};\n\n/**\n * Public inferface to remove classes from the document.body.\n * @param {string} bodyClass The class string to be added.\n *                           It may contain more then one class\n *                           with ' ' as separator.\n */\nvar remove = exports.remove = function remove(element, classString) {\n  return untrackClass(element.classList, element.nodeName.toLowerCase() == \"html\" ? htmlClassList : docBodyClassList, classString.split(\" \"));\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  focusLaterElements = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV !== \"production\") {\n    console.log(\"focusManager ----------\");\n    focusLaterElements.forEach(function (f) {\n      var check = f || {};\n      console.log(check.nodeName, check.className, check.id);\n    });\n    console.log(\"end focusManager ----------\");\n  }\n}\n/* eslint-enable no-console */\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.log = log;\nexports.resetState = resetState;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// Tracks portals that are open and emits events to subscribers\n\nvar PortalOpenInstances = function PortalOpenInstances() {\n  var _this = this;\n\n  _classCallCheck(this, PortalOpenInstances);\n\n  this.register = function (openInstance) {\n    if (_this.openInstances.indexOf(openInstance) !== -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Cannot register modal instance that's already open\");\n      }\n      return;\n    }\n    _this.openInstances.push(openInstance);\n    _this.emit(\"register\");\n  };\n\n  this.deregister = function (openInstance) {\n    var index = _this.openInstances.indexOf(openInstance);\n    if (index === -1) {\n      if (process.env.NODE_ENV !== \"production\") {\n        // eslint-disable-next-line no-console\n        console.warn(\"React-Modal: Unable to deregister \" + openInstance + \" as \" + \"it was never registered\");\n      }\n      return;\n    }\n    _this.openInstances.splice(index, 1);\n    _this.emit(\"deregister\");\n  };\n\n  this.subscribe = function (callback) {\n    _this.subscribers.push(callback);\n  };\n\n  this.emit = function (eventType) {\n    _this.subscribers.forEach(function (subscriber) {\n      return subscriber(eventType,\n      // shallow copy to avoid accidental mutation\n      _this.openInstances.slice());\n    });\n  };\n\n  this.openInstances = [];\n  this.subscribers = [];\n};\n\nvar portalOpenInstances = new PortalOpenInstances();\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"portalOpenInstances ----------\");\n  console.log(portalOpenInstances.openInstances.length);\n  portalOpenInstances.openInstances.forEach(function (p) {\n    return console.log(p);\n  });\n  console.log(\"end portalOpenInstances ----------\");\n}\n\n/* istanbul ignore next */\nfunction resetState() {\n  portalOpenInstances = new PortalOpenInstances();\n}\n/* eslint-enable no-console */\n\nexports.default = portalOpenInstances;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canUseDOM = exports.SafeNodeList = exports.SafeHTMLCollection = undefined;\n\nvar _exenv = require(\"exenv\");\n\nvar _exenv2 = _interopRequireDefault(_exenv);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EE = _exenv2.default;\n\nvar SafeHTMLElement = EE.canUseDOM ? window.HTMLElement : {};\n\nvar SafeHTMLCollection = exports.SafeHTMLCollection = EE.canUseDOM ? window.HTMLCollection : {};\n\nvar SafeNodeList = exports.SafeNodeList = EE.canUseDOM ? window.NodeList : {};\n\nvar canUseDOM = exports.canUseDOM = EE.canUseDOM;\n\nexports.default = SafeHTMLElement;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = scopeTab;\n\nvar _tabbable = require(\"./tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getActiveElement() {\n  var el = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document;\n\n  return el.activeElement.shadowRoot ? getActiveElement(el.activeElement.shadowRoot) : el.activeElement;\n}\n\nfunction scopeTab(node, event) {\n  var tabbable = (0, _tabbable2.default)(node);\n\n  if (!tabbable.length) {\n    // Do nothing, since there are no elements that can receive focus.\n    event.preventDefault();\n    return;\n  }\n\n  var target = void 0;\n\n  var shiftKey = event.shiftKey;\n  var head = tabbable[0];\n  var tail = tabbable[tabbable.length - 1];\n  var activeElement = getActiveElement();\n\n  // proceed with default browser behavior on tab.\n  // Focus on last element on shift + tab.\n  if (node === activeElement) {\n    if (!shiftKey) return;\n    target = tail;\n  }\n\n  if (tail === activeElement && !shiftKey) {\n    target = head;\n  }\n\n  if (head === activeElement && shiftKey) {\n    target = tail;\n  }\n\n  if (target) {\n    event.preventDefault();\n    target.focus();\n    return;\n  }\n\n  // Safari radio issue.\n  //\n  // Safari does not move the focus to the radio button,\n  // so we need to force it to really walk through all elements.\n  //\n  // This is very error prone, since we are trying to guess\n  // if it is a safari browser from the first occurence between\n  // chrome or safari.\n  //\n  // The chrome user agent contains the first ocurrence\n  // as the 'chrome/version' and later the 'safari/version'.\n  var checkSafari = /(\\bChrome\\b|\\bSafari\\b)\\//.exec(navigator.userAgent);\n  var isSafariDesktop = checkSafari != null && checkSafari[1] != \"Chrome\" && /\\biPod\\b|\\biPad\\b/g.exec(navigator.userAgent) == null;\n\n  // If we are not in safari desktop, let the browser control\n  // the focus\n  if (!isSafariDesktop) return;\n\n  var x = tabbable.indexOf(activeElement);\n\n  if (x > -1) {\n    x += shiftKey ? -1 : 1;\n  }\n\n  target = tabbable[x];\n\n  // If the tabbable element does not exist,\n  // focus head/tail based on shiftKey\n  if (typeof target === \"undefined\") {\n    event.preventDefault();\n    target = shiftKey ? tail : head;\n    target.focus();\n    return;\n  }\n\n  event.preventDefault();\n\n  target.focus();\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = findTabbableDescendants;\n/*!\n * Adapted from jQuery UI core\n *\n * http://jqueryui.com\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/category/ui-core/\n */\n\nvar tabbableNode = /input|select|textarea|button|object|iframe/;\n\nfunction hidesContents(element) {\n  var zeroSize = element.offsetWidth <= 0 && element.offsetHeight <= 0;\n\n  // If the node is empty, this is good enough\n  if (zeroSize && !element.innerHTML) return true;\n\n  try {\n    // Otherwise we need to check some styles\n    var style = window.getComputedStyle(element);\n    return zeroSize ? style.getPropertyValue(\"overflow\") !== \"visible\" ||\n    // if 'overflow: visible' set, check if there is actually any overflow\n    element.scrollWidth <= 0 && element.scrollHeight <= 0 : style.getPropertyValue(\"display\") == \"none\";\n  } catch (exception) {\n    // eslint-disable-next-line no-console\n    console.warn(\"Failed to inspect element style\");\n    return false;\n  }\n}\n\nfunction visible(element) {\n  var parentElement = element;\n  var rootNode = element.getRootNode && element.getRootNode();\n  while (parentElement) {\n    if (parentElement === document.body) break;\n\n    // if we are not hidden yet, skip to checking outside the Web Component\n    if (rootNode && parentElement === rootNode) parentElement = rootNode.host.parentNode;\n\n    if (hidesContents(parentElement)) return false;\n    parentElement = parentElement.parentNode;\n  }\n  return true;\n}\n\nfunction focusable(element, isTabIndexNotNaN) {\n  var nodeName = element.nodeName.toLowerCase();\n  var res = tabbableNode.test(nodeName) && !element.disabled || (nodeName === \"a\" ? element.href || isTabIndexNotNaN : isTabIndexNotNaN);\n  return res && visible(element);\n}\n\nfunction tabbable(element) {\n  var tabIndex = element.getAttribute(\"tabindex\");\n  if (tabIndex === null) tabIndex = undefined;\n  var isTabIndexNaN = isNaN(tabIndex);\n  return (isTabIndexNaN || tabIndex >= 0) && focusable(element, !isTabIndexNaN);\n}\n\nfunction findTabbableDescendants(element) {\n  var descendants = [].slice.call(element.querySelectorAll(\"*\"), 0).reduce(function (finished, el) {\n    return finished.concat(!el.shadowRoot ? [el] : findTabbableDescendants(el.shadowRoot));\n  }, []);\n  return descendants.filter(tabbable);\n}\nmodule.exports = exports[\"default\"];","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Modal = require(\"./components/Modal\");\n\nvar _Modal2 = _interopRequireDefault(_Modal);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _Modal2.default;\nmodule.exports = exports[\"default\"];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar __DEV__ = process.env.NODE_ENV !== 'production';\n\nvar warning = function() {};\n\nif (__DEV__) {\n  var printWarning = function printWarning(format, args) {\n    var len = arguments.length;\n    args = new Array(len > 1 ? len - 1 : 0);\n    for (var key = 1; key < len; key++) {\n      args[key - 1] = arguments[key];\n    }\n    var argIndex = 0;\n    var message = 'Warning: ' +\n      format.replace(/%s/g, function() {\n        return args[argIndex++];\n      });\n    if (typeof console !== 'undefined') {\n      console.error(message);\n    }\n    try {\n      // --- Welcome to debugging React ---\n      // This error was thrown as a convenience so that you can use this stack\n      // to find the callsite that caused this warning to fire.\n      throw new Error(message);\n    } catch (x) {}\n  }\n\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n          '`warning(condition, format, ...args)` requires a warning ' +\n          'message argument'\n      );\n    }\n    if (!condition) {\n      printWarning.apply(null, [format].concat(args));\n    }\n  };\n}\n\nmodule.exports = warning;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__24__;","module.exports = __WEBPACK_EXTERNAL_MODULE__314__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import React from 'react'\r\n\r\n// The original idea is by `what-input` library.\r\n// https://github.com/ten1seven/what-input\r\n//\r\n// Still, seems that \"Screen Readers\" emit all sorts of\r\n// pointer events even when using only keyboard navigation.\r\n// https://patrickhlauke.github.io/touch/tests/results/#desktop-assistive-technology-events\r\n//\r\n// So, listening to pointer events and deciding on the input method\r\n// is not a 100%-formally-correct technique (though it does make perfect sense).\r\n// So, for having one's ass covered it's not considered a reliable strategy.\r\n//\r\n// There's a script listening for `mousedown` events on each button/link/input\r\n// which then removes the outline (and adds it when it detects a keyboard event).\r\n// https://github.com/lindsayevans/outline.js\r\n\r\nexport default class KeyboardNavigationListener extends React.Component {\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('keydown', this.onKeyDown)\r\n\t\t// \"Pointer\" events are mouse/stylus/pen/touch events.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events\r\n\t\tif (window.PointerEvent) {\r\n\t\t\twindow.addEventListener('pointermove', this.onPointerEvent)\r\n\t\t\twindow.addEventListener('pointerdown', this.onPointerEvent)\r\n\t\t} else {\r\n\t\t\t// Mouse events.\r\n\t\t\twindow.addEventListener('mousemove', this.onPointerEvent)\r\n\t\t\twindow.addEventListener('mousedown', this.onPointerEvent)\r\n\t\t\t// Touch events.\r\n\t\t\tif ('ontouchstart' in window) {\r\n\t\t\t\twindow.addEventListener('touchstart', this.onPointerEvent)\r\n\t\t\t\twindow.addEventListener('touchend', this.onPointerEvent)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('keydown', this.onKeyDown)\r\n\t\t// \"Pointer\" events are mouse/stylus/pen/touch events.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events\r\n\t\tif (window.PointerEvent) {\r\n\t\t\twindow.removeEventListener('pointermove', this.onPointerEvent)\r\n\t\t\twindow.removeEventListener('pointerdown', this.onPointerEvent)\r\n\t\t} else {\r\n\t\t\t// Mouse events.\r\n\t\t\twindow.removeEventListener('mousemove', this.onPointerEvent)\r\n\t\t\twindow.removeEventListener('mousedown', this.onPointerEvent)\r\n\t\t\t// Touch events.\r\n\t\t\tif ('ontouchstart' in window) {\r\n\t\t\t\twindow.removeEventListener('touchstart', this.onPointerEvent)\r\n\t\t\t\twindow.removeEventListener('touchend', this.onPointerEvent)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown = (event) => {\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// \"Tab\".\r\n\t\t\tcase 9:\r\n\t\t\t\tif (!this.tabbing) {\r\n\t\t\t\t\tthis.tabbing = true\r\n\t\t\t\t\tdocument.body.classList.add('rrui__tabbing')\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tonPointerEvent = (event) => {\r\n\t\tif (this.tabbing) {\r\n\t\t\tthis.tabbing = false\r\n\t\t\tdocument.body.classList.remove('rrui__tabbing')\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn null\r\n\t}\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport createContext from 'create-react-context'\r\n\r\nexport const Context = createContext()\r\n\r\n// export const contextPropTypes = {\r\n// \tmenuIsExpanded     : PropTypes.bool.isRequired,\r\n// \ttoggleMenu         : PropTypes.func.isRequired,\r\n// \tregisterMenu       : PropTypes.func.isRequired,\r\n// \tregisterMenuButton : PropTypes.func.isRequired,\r\n// \tsetTogglerCooldown : PropTypes.func.isRequired,\r\n// \tgetTogglerNode     : PropTypes.func.isRequired\r\n// }\r\n\r\nexport default class PageAndMenu extends Component {\r\n\tconstructor() {\r\n\t\tsuper()\r\n\t\t// `state` is placed here to so that it's initialized\r\n\t\t// after all instance methods because it references them.\r\n\t\tthis.state = {\r\n\t\t\t// Using `undefined` for `menuIsExpanded` instead of `false`\r\n\t\t\t// because menu icon uses it to determine whether\r\n\t\t\t// the button has been activated yet.\r\n\t\t\tmenuIsExpanded     : undefined, // false,\r\n\t\t\ttoggleMenu         : this.toggleMenu,\r\n\t\t\tregisterMenu       : this.registerMenu,\r\n\t\t\tregisterMenuButton : this.registerMenuButton,\r\n\t\t\tsetTogglerCooldown : this.setTogglerCooldown,\r\n\t\t\tgetTogglerNode     : this.getTogglerNode\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { as: Component, ...rest } = this.props;\r\n\t\treturn (\r\n\t\t\t<Context.Provider value={this.state}>\r\n\t\t\t\t<Component {...rest}/>\r\n\t\t\t</Context.Provider>\r\n\t\t)\r\n\t}\r\n\r\n\ttoggleMenu = (expand) => {\r\n\t\tthis.menu.toggle(expand, {\r\n\t\t\tonCollapsed: () => {\r\n\t\t\t\tthis._onDidShowMenu(false)\r\n\t\t\t},\r\n\t\t\tonExpanded: () => {\r\n\t\t\t\tthis._onDidShowMenu(true)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t_onDidShowMenu = (isShown) => {\r\n\t\tthis.setState({\r\n\t\t\tmenuIsExpanded: isShown\r\n\t\t})\r\n\t\t// Focus the menu when it's expanded.\r\n\t\t// Focus the menu button when menu is collapsed.\r\n\t\tif (isShown) {\r\n\t\t\tconst menu = this.menu.menu()\r\n\t\t\t// If the menu element supports focus.\r\n\t\t\t// (for example, via `tabIndex={-1}`).\r\n\t\t\tif (menu && menu.focus) {\r\n\t\t\t\tmenu.focus()\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// The menu button might get unmounted when the menu is unmounted.\r\n\t\t\tif (this.menuButton) {\r\n\t\t\t\tthis.menuButton.element().focus()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tregisterMenu = (menu) => {\r\n\t\tif (this.menu) {\r\n\t\t\tthrow new Error('[react-responsive-ui] There already is a menu registered for this page.')\r\n\t\t}\r\n\t\tthis.menu = menu\r\n\t\t// Return `.unregister()`.\r\n\t\treturn () => {\r\n\t\t\tthis.menu = undefined\r\n\t\t\tthis._onDidShowMenu(false)\r\n\t\t}\r\n\t}\r\n\r\n\tregisterMenuButton = (menuButton) => {\r\n\t\tif (this.menuButton) {\r\n\t\t\tthrow new Error('[react-responsive-ui] There already is a menu button registered for this page.')\r\n\t\t}\r\n\t\tthis.menuButton = menuButton\r\n\t\t// Return `.unregister()`.\r\n\t\treturn () => {\r\n\t\t\tthis.menuButton = undefined\r\n\t\t}\r\n\t}\r\n\r\n\tsetTogglerCooldown = () => this.menuButton.setCooldown()\r\n\tgetTogglerNode = () => this.menuButton.element()\r\n}\r\n\r\nPageAndMenu.propTypes = {\r\n\tas: PropTypes.elementType.isRequired\r\n};\r\n\r\nPageAndMenu.defaultProps = {\r\n\tas: 'div'\r\n};","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { Context } from './PageAndMenu'\r\n\r\nconst _Page = (props) => (\r\n\t<Context.Consumer>\r\n\t\t{context => <Page {...props} menuIsExpanded={context.menuIsExpanded}/>}\r\n\t</Context.Consumer>\r\n)\r\n\r\nexport default _Page\r\n\r\n// // when adjusting this transition time also adjust it in styles/xs-m.scss\r\n// const menu_transition_duration = 0 // 210 // milliseconds\r\n\r\nclass Page extends Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tmenuIsExpanded : PropTypes.bool.isRequired\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tmenuIsExpanded,\r\n\t\t\t// children,\r\n\t\t\t// className,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// className={ classNames(className,\r\n\t\t// {\r\n\t\t// \t'rrui__page--menu-overlay' : menuIsExpanded\r\n\t\t// }) }>\r\n\r\n\t\t// Slideout menu pushes the page to the right\r\n\t\t// const page_style_with_menu_expanded = { transform: `translate3d(${this.state.menu_width}px, 0px, 0px)` }\r\n\t\t//\r\n\t\t// style={ this.state.show_menu ? { ...style.page, ...page_style_with_menu_expanded } : style.page }\r\n\t\t//\r\n\t\t// `translate3d` animation won't work:\r\n\t\t// http://stackoverflow.com/questions/14732403/position-fixed-not-working-for-header/14732712#14732712\r\n\r\n\t\t// style={style.page}\r\n\r\n\t\treturn (\r\n\t\t\t<div { ...rest }/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// const style =\r\n// {\r\n// \tpage:\r\n// \t{\r\n// \t\tposition : relative\r\n// \t\tz-index  : 0\r\n// \t\ttransition-duration : ${menu_transition_duration}ms\r\n// \t}\r\n// }","import React from 'react'\r\n\r\nexport default React.createRef || function createRef() {\r\n  var ref = function(_) { ref.current = _ }\r\n  ref(null)\r\n  return ref\r\n}\r\n","import requestAnimationFrame from 'raf';\nvar cancelAnimationFrame = requestAnimationFrame.cancel;\nexport function setTimeout(callback, delay) {\n  var startedAt = Date.now();\n  var animationFrame = requestAnimationFrame(tick);\n\n  function tick() {\n    if (Date.now() - startedAt >= delay) {\n      callback();\n    } else {\n      animationFrame = requestAnimationFrame(tick);\n    }\n  }\n\n  return {\n    clear: function clear() {\n      return cancelAnimationFrame(animationFrame);\n    }\n  };\n}\nexport function clearTimeout(timeout) {\n  if (timeout) {\n    timeout.clear();\n  }\n}\n//# sourceMappingURL=index.js.map","// Submits the form on `Ctrl` + `Enter` (or `Cmd` + `Enter`).\r\nexport function submitFormOnCtrlEnter(event, component)\r\n{\r\n\tif ((event.ctrlKey || event.metaKey) && event.keyCode === 13)\r\n\t{\r\n\t\tif (submitContainingForm(component))\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function submitContainingForm(node)\r\n{\r\n\twhile (node.parentElement)\r\n\t{\r\n\t\tnode = node.parentElement\r\n\t\tif (node instanceof HTMLFormElement)\r\n\t\t{\r\n\t\t\t// Won't use `node.submit()` because it bypasses `onSubmit`.\r\n\t\t\t// Will click the submit button instead.\r\n\t\t\tconst submit = node.querySelector('button[type=submit]')\r\n\t\t\tif (submit)\r\n\t\t\t{\r\n\t\t\t\tsubmit.click()\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// export function getScrollbarWidth()\r\n// {\r\n// \t// // `window.innerWidth` has a bug:\r\n// \t// // it's decreases as the page scale is increased.\r\n// \t// // Therefore not using it.\r\n// \t// // (Full width) - (Width minus scrollbar)\r\n// \t// return document.body.clientWidth - window.innerWidth\r\n//\r\n// \treturn 17\r\n// }\r\n\r\n// Detects Internet Explorer.\r\n// https://stackoverflow.com/questions/19999388/check-if-user-is-using-ie-with-jquery\r\nexport function isInternetExplorer()\r\n{\r\n\treturn window.navigator.userAgent.indexOf('MSIE ') > 0 ||\r\n\t\twindow.navigator.userAgent.indexOf('Trident/') > 0\r\n}\r\n\r\n// https://stackoverflow.com/questions/384286/javascript-isdom-how-do-you-check-if-a-javascript-object-is-a-dom-object\r\nexport function isElement(element) {\r\n\treturn element instanceof Element || element instanceof HTMLDocument\r\n}\r\n\r\n/**\r\n * Returns the DOM element's `top` and `left` offset relative to the document.\r\n * @param  {object} element\r\n * @return {object} `{ top: number, left: number, width: number, height: number }`\r\n */\r\nexport function getOffset(element) {\r\n\t// Copied from:\r\n\t// http://stackoverflow.com/questions/5598743/finding-elements-position-relative-to-the-document\r\n\r\n\tconst onScreenCoordinates = element.getBoundingClientRect()\r\n\r\n\tconst documentLeftBorderWidth = document.clientLeft || document.body.clientLeft || 0\r\n\tconst documentTopBorderWidth  = document.clientTop || document.body.clientTop || 0\r\n\r\n\t// `window.scrollY` and `window.scrollX` aren't supported in Internet Explorer.\r\n\tconst scrollY = window.pageYOffset\r\n\tconst scrollX = window.pageXOffset\r\n\r\n\tconst top  = onScreenCoordinates.top + scrollY - documentTopBorderWidth\r\n\tconst left = onScreenCoordinates.left + scrollX - documentLeftBorderWidth\r\n\r\n\treturn {\r\n\t\ttop,\r\n\t\tleft,\r\n\t\twidth: onScreenCoordinates.width,\r\n\t\theight: onScreenCoordinates.height\r\n\t}\r\n}","import { isInternetExplorer, isElement } from './dom'\r\n\r\nexport function onBlur(event, onFocusOut, getComponentNode, getComponentNode2, preventBlur)\r\n{\r\n\tfunction _onBlur(focusedNode)\r\n\t{\r\n\t\t// If the component is already unmounted then don't do anything.\r\n\t\t//\r\n\t\t// In some scenarios, selecting a value in a `<Select/>` may hide that select.\r\n\t\t// In that case, it won't be mounted anymore, so it won't make any difference\r\n\t\t// whether its `onBlur()` handler is called or not because it's UI-related\r\n\t\t// and `onChange()` has already been processed.\r\n\t\t//\r\n\t\tif (!getComponentNode()) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\tif (preventBlur) {\r\n\t\t\tif (preventBlur() === true) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If the currently focused element is inside the expandable\r\n\t\t// then don't collapse it.\r\n\t\tif (\r\n\t\t\tfocusedNode &&\r\n\t\t\t// Fixes \"Argument 1 of Node.contains does not implement interface Node.\".\r\n\t\t\tfocusedNode instanceof Element &&\r\n\t\t\t(\r\n\t\t\t\tgetComponentNode().contains(focusedNode) ||\r\n\t\t\t\t(getComponentNode2 && getComponentNode2().contains(focusedNode))\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\treturn false\r\n\t\t}\r\n\r\n\t\t// Collapse the expandable.\r\n\t\t// (clicked/tapped outside or tabbed-out)\r\n\t\tonFocusOut(event)\r\n\t\treturn true\r\n\t}\r\n\r\n\t// Blur `event.relatedTarget` doesn't work in Internet Explorer (in React).\r\n\t// https://github.com/gpbl/react-day-picker/issues/668\r\n\t// https://github.com/facebook/react/issues/3751\r\n\t//\r\n\t// Therefore, using a 30ms timeout hack in `onBlur` handler\r\n\t// to get the new currently focused page element\r\n\t// and check if that element is inside the component.\r\n\t// https://github.com/mui-org/material-ui/blob/v1-beta/packages/material-ui/src/Menu/MenuList.js\r\n\t// Until Internet Explorer is no longer a supported browser.\r\n\t//\r\n\tif (isInternetExplorer()) {\r\n\t\treturn setTimeout(() => _onBlur(document.activeElement), 30)\r\n\t}\r\n\r\n\t// // Safari (both macOS and iOS) has a bug: `<button/>`s not getting focus.\r\n\t// // https://stackoverflow.com/questions/20359962/jquery-mobile-focusout-event-for-relatedtarget-returns-incorrect-result-in-safar\r\n\t// if (!event.relatedTarget) {\r\n\t// \tif (getComponentNode2 && getComponentNode2().tagName.toLowerCase() === 'button') {\r\n\t// \t\t// The `<button/>` could be the actual `relatedTarget` in Safari.\r\n\t// \t\t// The Internet Explorer workaround won't work here too\r\n\t// \t\t// because `document.activeElement` is also `undefined`.\r\n\t// \t\t// No workaround here.\r\n\t// \t}\r\n\t// }\r\n\r\n\t// There was an error in Firefox 52:\r\n\t// \"Argument 1 of Node.contains does not implement interface Node\".\r\n\t// To prevent such errors `event.relatedTarget` is validated manually here.\r\n\treturn _onBlur(isElement(event.relatedTarget) ? event.relatedTarget : undefined)\r\n}\r\n\r\n/**\r\n * Focuses on a React component (if any).\r\n * @param  {?object} component\r\n */\r\nexport function focus(component)\r\n{\r\n\t// If the component has been already unmounted.\r\n\t// (safety)\r\n\tif (!component) {\r\n\t\treturn\r\n\t}\r\n\r\n\tif (typeof component.focus === 'function') {\r\n\t\tcomponent.focus()\r\n\t\treturn true\r\n\t}\r\n\r\n\t// `findDOMNode()` is deprecated in React.\r\n\t// https://reactjs.org/docs/strict-mode.html#warning-about-deprecated-finddomnode-usage\r\n\t// // For cases when `<List.Item/>` wraps some custom\r\n\t// // `<Button/>` component which renders a generic `<button/>`.\r\n\t// const node = ReactDOM.findDOMNode(component)\r\n\t// if (node && node.focus) {\r\n\t// \tnode.focus()\r\n\t// \treturn true\r\n\t// }\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { onBlur } from './utility/focus'\r\n\r\n/**\r\n * This \"component\" is only used to call its\r\n * `.onBlur()` method manually through a `ref`.\r\n */\r\nexport default class OnFocusOut extends React.Component\r\n{\r\n\tstatic propTypes = {\r\n\t\tonFocusOut: PropTypes.func.isRequired,\r\n\t\tgetTogglerNode: PropTypes.func,\r\n\t\tgetContainerNode: PropTypes.func.isRequired\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.blurTimer)\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst {\r\n\t\t\tgetContainerNode,\r\n\t\t\tgetTogglerNode,\r\n\t\t\tonFocusOut\r\n\t\t} = this.props\r\n\r\n\t\tif (getContainerNode()) {\r\n\t\t\tclearTimeout(this.blurTimer)\r\n\t\t\tconst result = onBlur(event, onFocusOut, getContainerNode, getTogglerNode)\r\n\t\t\tif (typeof result === 'number') {\r\n\t\t\t\tthis.blurTimer = result\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { children } = this.props\r\n\t\treturn children\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n/**\r\n * This \"component\" is only used to call its\r\n * `.listenToTouches()` and `.stopListeningToTouches()`\r\n * methods manually through a `ref`.\r\n */\r\nexport default class OnTapOutside extends React.Component\r\n{\r\n\tstatic propTypes = {\r\n\t\tonTapOutside: PropTypes.func.isRequired,\r\n\t\tgetTogglerNode: PropTypes.func,\r\n\t\tgetContainerNode: PropTypes.func.isRequired,\r\n\t\tmoveThreshold: PropTypes.number.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tmoveThreshold: 5\r\n\t}\r\n\r\n\tlistenToTouches()\r\n\t{\r\n\t\tdocument.addEventListener('touchstart', this.onTouchStart)\r\n\t\tdocument.addEventListener('touchmove', this.onTouchMove)\r\n\t\tdocument.addEventListener('touchend', this.onTouchEnd)\r\n\t\tdocument.addEventListener('touchcancel', this.onTouchCancel)\r\n\t}\r\n\r\n\tstopListeningToTouches()\r\n\t{\r\n\t\tdocument.removeEventListener('touchstart', this.onTouchStart)\r\n\t\tdocument.removeEventListener('touchmove', this.onTouchMove)\r\n\t\tdocument.removeEventListener('touchend', this.onTouchEnd)\r\n\t\tdocument.removeEventListener('touchcancel', this.onTouchCancel)\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis.stopListeningToTouches()\r\n\t}\r\n\r\n\tonTouchStart = (event) => {\r\n\t\t// Ignore multitouch.\r\n\t\tif (event.touches.length > 1) {\r\n\t\t\t// Reset.\r\n\t\t\treturn this.onTouchCancel()\r\n\t\t}\r\n\t\tconst touch = event.changedTouches[0]\r\n\t\tthis.initialTouchX = touch.clientX\r\n\t\tthis.initialTouchY = touch.clientY\r\n\t\tthis.touchId = touch.identifier\r\n\t\tthis.tapping = true\r\n\t}\r\n\r\n\tonTouchMove = (event) =>\r\n\t{\r\n\t\tconst { moveThreshold } = this.props\r\n\r\n\t\tif (!this.tapping) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tlet x\r\n\t\tlet y\r\n\t\tfor (const touch of event.changedTouches) {\r\n\t\t\tif (touch.identifier === this.touchId) {\r\n\t\t\t\tx = touch.clientX\r\n\t\t\t\ty = touch.clientY\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// If not the touch.\r\n\t\tif (x === undefined) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst deltaX = Math.abs(x - this.initialTouchX)\r\n\t\tconst deltaY = Math.abs(y - this.initialTouchY)\r\n\r\n\t\t// Reset on touch move.\r\n\t\tif (deltaX > moveThreshold || deltaY > moveThreshold) {\r\n\t\t\tthis.onTouchCancel()\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchEnd = (event) =>\r\n\t{\r\n\t\tif (!this.tapping) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tfor (const touch of event.changedTouches) {\r\n\t\t\tif (touch.identifier === this.touchId) {\r\n\t\t\t\t// Reset.\r\n\t\t\t\tthis.onTouchCancel()\r\n\t\t\t\t// Handle the tap.\r\n\t\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/Touch\r\n\t\t\t\tthis.onTap(event, touch.target)\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchCancel = () =>\r\n\t{\r\n\t\tthis.initialTouchX = undefined\r\n\t\tthis.initialTouchY = undefined\r\n\t\tthis.touchId = undefined\r\n\t\tthis.tapping = false\r\n\t}\r\n\r\n\t// On mobile devices \"blur\" event isn't triggered\r\n\t// when a user taps outside. This is to allow touch scrolling\r\n\t// while not losing focus on an input field or a button.\r\n\t// Adding a manual \"on click\" listener to emulate\r\n\t// \"on blur\" event when user taps outside (to collapse the expandable).\r\n\tonTap = (event, target) =>\r\n\t{\r\n\t\tconst {\r\n\t\t\tgetContainerNode,\r\n\t\t\tgetTogglerNode,\r\n\t\t\tonTapOutside\r\n\t\t} = this.props\r\n\r\n\t\tif (getContainerNode().contains(target)) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (getTogglerNode) {\r\n\t\t\tif (getTogglerNode().contains(target)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (onTapOutside) {\r\n\t\t\tthis.focusOut = true\r\n\t\t\tonTapOutside(event)\r\n\t\t\tthis.focusOut = undefined\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { children } = this.props\r\n\t\treturn children\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport createRef from 'react-create-ref'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport OnFocusOut from './OnFocusOut'\r\nimport OnTapOutside from './OnTapOutside'\r\n\r\n/**\r\n * `<OnFocusOutOrTapOutside/>` sets `onBlur` on the child element.\r\n * Calls `onFocusOut` on focus out or tap outside.\r\n */\r\nexport default class OnFocusOutOrTapOutside extends React.Component {\r\n\tonFocusOutRef = createRef()\r\n\tonTapOutsideRef = createRef()\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { listenToTouches } = this.props\r\n\t\tif (listenToTouches) {\r\n\t\t\tthis.listenToTouches()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.onTapOutsideTimer)\r\n\t}\r\n\r\n\t// These're called from outside in `<Expandable/>`.\r\n\tstopListeningToTouches = () => this.onTapOutsideRef.current.stopListeningToTouches()\r\n\tlistenToTouches = () => this.onTapOutsideRef.current.listenToTouches()\r\n\r\n\tonBlur = (event) => {\r\n\t\tif (this.onFocusOutRef.current) {\r\n\t\t\tthis.onFocusOutRef.current.onBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusOut = (event) => {\r\n\t\t// `onFocusOut` is triggered right after `onTapOutside`.\r\n\t\t// This workaround prevents duplicate `onFocusOut` call.\r\n\t\tif (this.onTapOutsideTimer) {\r\n\t\t\tclearTimeout(this.onTapOutsideTimer)\r\n\t\t\tthis.onTapOutsideTimer = undefined\r\n\t\t}\r\n\t\tconst { onFocusOut } = this.props\r\n\t\tonFocusOut(event)\r\n\t}\r\n\r\n\tonTapOutside = (event) => {\r\n\t\tconst { onTapOutsideDelay } = this.props\r\n\t\tclearTimeout(this.onTapOutsideTimer)\r\n\t\tthis.onTapOutsideTimer = setTimeout(() => {\r\n\t\t\t// `onFocusOut` is triggered right after `onTapOutside`.\r\n\t\t\t// This workaround prevents duplicate `onFocusOut` call.\r\n\t\t\tif (this.onTapOutsideTimer) {\r\n\t\t\t\tthis.onTapOutsideTimer = undefined\r\n\t\t\t\tconst { onFocusOut } = this.props\r\n\t\t\t\tonFocusOut(event)\r\n\t\t\t}\r\n\t\t}, onTapOutsideDelay)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { getTogglerNode, getContainerNode } = this.props\r\n\t\tlet { children } = this.props\r\n\r\n\t\tchildren = React.cloneElement(children, {\r\n\t\t\tonBlur: this.onBlur\r\n\t\t})\r\n\r\n\t\tchildren = (\r\n\t\t\t<OnFocusOut\r\n\t\t\t\tref={this.onFocusOutRef}\r\n\t\t\t\tgetContainerNode={getContainerNode}\r\n\t\t\t\tgetTogglerNode={getTogglerNode}\r\n\t\t\t\tonFocusOut={this.onFocusOut}>\r\n\t\t\t\t{children}\r\n\t\t\t</OnFocusOut>\r\n\t\t)\r\n\r\n\t\treturn (\r\n\t\t\t<OnTapOutside\r\n\t\t\t\tref={this.onTapOutsideRef}\r\n\t\t\t\tgetContainerNode={getContainerNode}\r\n\t\t\t\tgetTogglerNode={getTogglerNode}\r\n\t\t\t\tonTapOutside={this.onTapOutside}>\r\n\t\t\t\t{children}\r\n\t\t\t</OnTapOutside>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nOnFocusOutOrTapOutside.propTypes = {\r\n\tgetContainerNode: PropTypes.func.isRequired,\r\n\tgetTogglerNode: PropTypes.func,\r\n\tonFocusOut: PropTypes.func.isRequired,\r\n\tonTapOutsideDelay: PropTypes.number.isRequired,\r\n\tlistenToTouches: PropTypes.bool.isRequired,\r\n\tchildren: PropTypes.node.isRequired\r\n}\r\n\r\nOnFocusOutOrTapOutside.defaultProps = {\r\n\t// `onFocusOut` is triggered right after `onTapOutside`.\r\n\t// This workaround prevents duplicate `onFocusOut` call.\r\n\tonTapOutsideDelay: 30,\r\n\tlistenToTouches: true\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport createRef from 'react-create-ref'\r\nimport createContext from 'create-react-context'\r\n\r\nimport { Context as PageAndMenuContext } from './PageAndMenu'\r\nimport OnFocusOutOrTapOutside from './OnFocusOutOrTapOutside'\r\n\r\nexport const Context = createContext()\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class ContextAwareSlideoutMenu extends PureComponent {\r\n\tslideOutMenu = createRef()\r\n\r\n\tshow = () => this.slideOutMenu.current.show()\r\n\thide = () => this.slideOutMenu.current.hide()\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<PageAndMenuContext.Consumer>\r\n\t\t\t\t{context => (\r\n\t\t\t\t\t<SlideoutMenu\r\n\t\t\t\t\t\tref={this.slideOutMenu}\r\n\t\t\t\t\t\t{...this.props}\r\n\t\t\t\t\t\tregisterMenu={context.registerMenu}\r\n\t\t\t\t\t\ttoggleMenu={context.toggleMenu}\r\n\t\t\t\t\t\tsetTogglerCooldown={context.setTogglerCooldown}\r\n\t\t\t\t\t\tgetTogglerNode={context.getTogglerNode}/>\r\n\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t</PageAndMenuContext.Consumer>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// const ContextAwareSlideoutMenu = (props) => (\r\n// \t<PageAndMenuContext.Consumer>\r\n// \t\t{context => (\r\n// \t\t\t<SlideoutMenu\r\n// \t\t\t\t{...props}\r\n// \t\t\t\tregisterMenu={context.registerMenu}\r\n// \t\t\t\ttoggleMenu={context.toggleMenu}/>\r\n// \t\t\t)\r\n// \t\t}\r\n// \t</PageAndMenuContext.Consumer>\r\n// )\r\n\r\n// export default ContextAwareSlideoutMenu\r\n\r\n// Swipeable feature example source code:\r\n// https://github.com/mui-org/material-ui/blob/v1-beta/packages/material-ui/src/SwipeableDrawer/SwipeableDrawer.js\r\n\r\n// A slideout menu.\r\nclass SlideoutMenu extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tanchor : PropTypes.oneOf([\r\n\t\t\t'left',\r\n\t\t\t'right',\r\n\t\t\t'top',\r\n\t\t\t'bottom'\r\n\t\t]).isRequired,\r\n\r\n\t\t// isOpen : PropTypes.bool.isRequired,\r\n\r\n\t\tfullscreen : PropTypes.bool.isRequired,\r\n\r\n\t\t// A result of `React.createRef()`.\r\n\t\t// Will be focused when the menu is opened.\r\n\t\tmenuRef : PropTypes.object,\r\n\r\n\t\tonCollapse : PropTypes.func,\r\n\t\tonExpand : PropTypes.func,\r\n\r\n\t\ttoggleMenu: PropTypes.func.isRequired,\r\n\t\tregisterMenu: PropTypes.func.isRequired,\r\n\t\tsetTogglerCooldown: PropTypes.func.isRequired,\r\n\t\tgetTogglerNode: PropTypes.func.isRequired,\r\n\r\n\t\t// If `scrollIntoView` is `true` (which is the default)\r\n\t\t// then these two are gonna define the delay after which it scrolls into view.\r\n\t\texpandAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// isOpen : false,\r\n\t\tanchor : 'left',\r\n\t\tfullscreen : false,\r\n\r\n\t\texpandAnimationDuration : 220\r\n\t}\r\n\r\n\tstate = {\r\n\t\t// Initializing it to `false` is required for `if (expand === expanded)`.\r\n\t\t//\r\n\t\texpanded: false\r\n\t}\r\n\r\n\tcontainer = createRef()\r\n\tonFocusOutRef = createRef()\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { registerMenu, menuRef } = this.props\r\n\r\n\t\tthis.unregister = registerMenu\r\n\t\t({\r\n\t\t\ttoggle  : this.toggle,\r\n\t\t\telement : () => this.container.current,\r\n\t\t\tmenu    : () => menuRef ? menuRef.current : this.container.current\r\n\t\t})\r\n\r\n\t\t// // Hide on `Back`/`Forward` navigation.\r\n\t\t// window.addEventListener('popstate', this.hide)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.unregister()\r\n\t\t// window.removeEventListener('popstate', this.hide)\r\n\r\n\t\tif (this.cancelProcess) {\r\n\t\t\tthis.cancelProcess()\r\n\t\t}\r\n\t}\r\n\r\n\ttoggle = (expand, { onCollapsed, onExpanded } = {}) => {\r\n\t\t// This code was copy-pasted from `source/Expandable.js`.\r\n\r\n\t\tconst { onCollapse, onExpand } = this.props\r\n\r\n\t\tconst { expanded } = this.state\r\n\r\n\t\t// If no `expand` argument provided then just toggle.\r\n\t\tconst isExpandedState = (expanded && this.process !== 'unexpand') ||\r\n\t\t\t(this.process === 'expand')\r\n\t\tif (expand === undefined) {\r\n\t\t\texpand = !isExpandedState\r\n\t\t}\r\n\r\n\t\t// Don't collapse if already collapsed.\r\n\t\t// Don't expand if already expanded.\r\n\r\n\t\tif (expand === isExpandedState) {\r\n\t\t\treturn Promise.resolve()\r\n\t\t}\r\n\r\n\t\t// if (this.isToggling) {\r\n\t\t// \treturn Promise.resolve()\r\n\t\t// }\r\n\r\n\t\tif (this.cancelProcess) {\r\n\t\t\tthis.cancelProcess()\r\n\t\t}\r\n\r\n\t\tlet cancelled\r\n\r\n\t\tconst reset = () => {\r\n\t\t\tthis.process = undefined\r\n\t\t\tthis.processPhase = undefined\r\n\t\t\tthis.cancelProcess = undefined\r\n\t\t}\r\n\r\n\t\tconst nextPhase = (phase) => {\r\n\t\t\tif (!cancelled) {\r\n\t\t\t\tthis.processPhase = phase\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction endProcess() {\r\n\t\t\tnextPhase()\r\n\t\t\treset()\r\n\t\t}\r\n\r\n\t\tconst phaseCancellers = {}\r\n\t\tfunction onCancelPhase(phase, handler) {\r\n\t\t\tphaseCancellers[phase] = handler\r\n\t\t}\r\n\r\n\t\tthis.cancelProcess = () => {\r\n\t\t\tif (phaseCancellers[this.processPhase]) {\r\n\t\t\t\tphaseCancellers[this.processPhase]()\r\n\t\t\t}\r\n\t\t\tcancelled = true\r\n\t\t\treset()\r\n\t\t}\r\n\r\n\t\tif (expand) {\r\n\t\t\t// Expand.\r\n\t\t\tthis.process = 'expand'\r\n\t\t\tonCancelPhase('scheduleExpand', () => clearTimeout(this.expandTimeout))\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tif (!nextPhase('render')) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshouldRender: true\r\n\t\t\t\t},\r\n\t\t\t\t// Without an artificial delay for some reason the CSS \"expand\" animation won't play.\r\n\t\t\t\t// Perhaps a browser decides to optimize two subsequent renders\r\n\t\t\t\t// and doesn't render \"pre-expanded\" and \"expanded\" states separately.\r\n\t\t\t\t// Even with a 0ms delay it would randomly play/not-play the expand animation.\r\n\t\t\t\t() => {\r\n\t\t\t\t\tif (!nextPhase('scheduleExpand')) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (onExpand) {\r\n\t\t\t\t\t\tonExpand()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Using `requestAnimationFrame()` instead of `setTimeout()`\r\n\t\t\t\t\t// because otherwise there would be a weird and strange delay.\r\n\t\t\t\t\tthis.expandTimeout = setTimeout(() => {\r\n\t\t\t\t\t\tif (!nextPhase('expand')) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.expandTimeout = undefined\r\n\t\t\t\t\t\tthis.setState({ expanded: true }, () => {\r\n\t\t\t\t\t\t\tif (!nextPhase('expanded')) {\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (onExpanded) {\r\n\t\t\t\t\t\t\t\tonExpanded()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.onFocusOutRef.current) {\r\n\t\t\t\t\t\t\t\tthis.onFocusOutRef.current.listenToTouches()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tendProcess()\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// Un-Expand.\r\n\t\t\tthis.process = 'unexpand'\r\n\t\t\tonCancelPhase('unexpanded', () => clearTimeout(this.waitUnForExpandAnimationTimer))\r\n\t\t\tnextPhase('unexpand')\r\n\t\t\tif (this.onFocusOutRef.current) {\r\n\t\t\t\tthis.onFocusOutRef.current.stopListeningToTouches()\r\n\t\t\t}\r\n\t\t\tif (onCollapse) {\r\n\t\t\t\tonCollapse()\r\n\t\t\t}\r\n\t\t\t// Set `expanded` to `false` to play the collapse CSS animation.\r\n\t\t\t// Once that animation is finished remove\r\n\t\t\t// the contents of the `<Expanded/>` from DOM.\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tthis.setState({ expanded: false }, () => {\r\n\t\t\t\t\tif (!nextPhase('unexpanded')) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (onCollapsed) {\r\n\t\t\t\t\t\tonCollapsed()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst waitForUnExpandAnimation = () => {\r\n\t\t\t\t\t\tconst { expandAnimationDuration } = this.props\r\n\t\t\t\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\t\t\t\tthis.waitUnForExpandAnimationTimer = setTimeout(resolve, expandAnimationDuration * 1.1)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\twaitForUnExpandAnimation().then(() => {\r\n\t\t\t\t\t\tif (!nextPhase('unrender')) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setState({ shouldRender: false }, endProcess)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// `resolve()` doesn't wait for `removeFromDOMAfterCollapsed`\r\n\t\t\t\t\t// because other components use it like `.toggle().then(focus)`\r\n\t\t\t\t\t// where it shouldn't wait for the final phases.\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tshow = () => {\r\n\t\tconst { toggleMenu } = this.props\r\n\t\ttoggleMenu(true)\r\n\t}\r\n\r\n\thide = () => {\r\n\t\tconst { toggleMenu } = this.props\r\n\t\ttoggleMenu(false)\r\n\t}\r\n\r\n\tonKeyDown = (event) => {\r\n\t\tconst { toggleMenu } = this.props\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// Collapse on \"Escape\".\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\treturn toggleMenu(false)\r\n\t\t}\r\n\t}\r\n\r\n\t// Hide the menu on focus out.\r\n\tonFocusOut = () => {\r\n\t\tconst { toggleMenu, setTogglerCooldown } = this.props\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\ttoggleMenu(false)\r\n\t\t\tsetTogglerCooldown()\r\n\t\t}\r\n\t}\r\n\r\n\tgetContainerNode = () => this.container.current\r\n\r\n\trender()\r\n\t{\r\n\t\tconst {\r\n\t\t\tanchor,\r\n\t\t\tfullscreen,\r\n\t\t\tgetTogglerNode,\r\n\t\t\tclassName,\r\n\t\t\tchildren,\r\n\t\t\t// rest\r\n\t\t\tmenuRef,\r\n\t\t\tonExpand,\r\n\t\t\tonCollapse,\r\n\t\t\ttoggleMenu,\r\n\t\t\tregisterMenu,\r\n\t\t\tsetTogglerCooldown,\r\n\t\t\texpandAnimationDuration,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshouldRender,\r\n\t\t\texpanded\r\n\t\t} = this.state\r\n\r\n\t\tif (!shouldRender) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// ARIA menu notes:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/menu-button/menu-button-links.html\r\n\r\n\t\t// `tabIndex=\"-1\"` is for calling `this.container.current.focus()`\r\n\t\t// when no `menuRef` is supplied.\r\n\r\n\t\t// `<OnFocusOutOrTapOutside/>` sets `onBlur` on the `<div/>`.\r\n\t\treturn (\r\n\t\t\t<OnFocusOutOrTapOutside\r\n\t\t\t\tref={this.onFocusOutRef}\r\n\t\t\t\tgetContainerNode={this.getContainerNode}\r\n\t\t\t\tgetTogglerNode={getTogglerNode}\r\n\t\t\t\tonFocusOut={this.onFocusOut}\r\n\t\t\t\tlistenToTouches={false}>\r\n\t\t\t\t<div\r\n\t\t\t\t\t{ ...rest }\r\n\t\t\t\t\tref={ this.container }\r\n\t\t\t\t\taria-hidden={ !expanded }\r\n\t\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t/* Developers can define custom `:focus` style for the slideout menu. */\r\n\t\t\t\t\t\t/* (or better add `menuRef` property pointing to a component having `.focus()` method). */\r\n\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t'rrui__slideout-menu',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--left'       : anchor === 'left',\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--right'      : anchor === 'right',\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--top'        : anchor === 'top',\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--bottom'     : anchor === 'bottom',\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--fullscreen' : fullscreen,\r\n\t\t\t\t\t\t\t'rrui__slideout-menu--expanded'   : expanded\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</div>\r\n\t\t\t</OnFocusOutOrTapOutside>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default function MenuIcon({ expanded, className }) {\r\n\t// This is to prevent the `transform` animations\r\n\t// of menu icon bars from being played on page load.\r\n\t// (when styles are included on a page via javascript)\r\n\tconst activated = expanded !== undefined\r\n\treturn (\r\n\t\t<div className={classNames(className, 'rrui__menu-icon', {\r\n\t\t\t'rrui__menu-icon--collapsed': !expanded,\r\n\t\t\t'rrui__menu-icon--expanded': expanded\r\n\t\t})}>\r\n\t\t\t<div className=\"rrui__menu-icon__bar\"/>\r\n\t\t\t<div className=\"rrui__menu-icon__bar\"/>\r\n\t\t\t<div className=\"rrui__menu-icon__bar\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nMenuIcon.propTypes = {\r\n\texpanded : PropTypes.bool,\r\n\tclassName : PropTypes.string\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport { Context } from './PageAndMenu'\r\nimport MenuIcon from './MenuIcon'\r\n\r\nconst ContextAwareMenuButton = (props) => (\r\n\t<Context.Consumer>\r\n\t\t{(context) => (\r\n\t\t\t<MenuButton\r\n\t\t\t\t{...props}\r\n\t\t\t\tregisterMenuButton={context.registerMenuButton}\r\n\t\t\t\ttoggleMenu={context.toggleMenu}\r\n\t\t\t\tmenuIsExpanded={context.menuIsExpanded}/>\r\n\t\t)}\r\n\t</Context.Consumer>\r\n)\r\n\r\nexport default ContextAwareMenuButton\r\n\r\nclass MenuButton extends React.PureComponent {\r\n\tstatic propTypes = {\r\n\t\t// Context.\r\n\t\tregisterMenuButton : PropTypes.func.isRequired,\r\n\t\ttoggleMenu : PropTypes.func.isRequired,\r\n\t\tmenuIsExpanded : PropTypes.bool, //.isRequired,\r\n\r\n\t\t// A URL of the \"Menu\" page:\r\n\t\t// if a web browser has javascript disabled (e.g. Tor),\r\n\t\t// then the menu button will redirect to this Menu page URL.\r\n\t\t// If not set then won't redirect anywhere.\r\n\t\tlink        : PropTypes.string,\r\n\r\n\t\t// HTML `title` attribute.\r\n\t\ttitle       : PropTypes.string,\r\n\r\n\t\t// Menu button component.\r\n\t\tcomponent   : PropTypes.elementType,\r\n\r\n\t\t// Menu button icon component.\r\n\t\ticon        : PropTypes.func,\r\n\r\n\t\t// CSS class.\r\n\t\tclassName   : PropTypes.string,\r\n\r\n\t\t// CSS style object.\r\n\t\tstyle       : PropTypes.object,\r\n\r\n\t\tchildren    : PropTypes.oneOfType([\r\n\t\t\tPropTypes.node,\r\n\t\t\tPropTypes.func\r\n\t\t])\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { registerMenuButton } = this.props\r\n\t\tthis.unregister = registerMenuButton({\r\n\t\t\telement: () => this.button,\r\n\t\t\tsetCooldown: this.setCooldown\r\n\t\t})\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis.unregister()\r\n\t\tclearTimeout(this.cooldownTimer)\r\n\t}\r\n\r\n\tonClick = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tconst { toggleMenu } = this.props\r\n\t\t// A workaround for Safari (both macOS and iOS) bug: `<button/>`s not getting focus.\r\n\t\t// https://stackoverflow.com/questions/20359962/jquery-mobile-focusout-event-for-relatedtarget-returns-incorrect-result-in-safar\r\n\t\tif (!this.cooldown) {\r\n\t\t\ttoggleMenu()\r\n\t\t}\r\n\t}\r\n\r\n\tsetCooldown = () => {\r\n\t\t// A workaround for Safari (both macOS and iOS) bug: `<button/>`s not getting focus.\r\n\t\t// https://stackoverflow.com/questions/20359962/jquery-mobile-focusout-event-for-relatedtarget-returns-incorrect-result-in-safar\r\n\t\t// Sets a small \"cooldown\" on hide on focus out.\r\n\t\tthis.cooldown = true\r\n\t\tthis.cooldownTimer = setTimeout(() => this.cooldown = false, 30)\r\n\t}\r\n\r\n\tstoreButtonNode = (node) => this.button = node\r\n\r\n\tgetChildren() {\r\n\t\tconst {\r\n\t\t\tmenuIsExpanded,\r\n\t\t\tchildren,\r\n\t\t\ticon\r\n\t\t} = this.props;\r\n\r\n\t\tif (children) {\r\n\t\t\tif (typeof children === 'function') {\r\n\t\t\t\treturn children({ expanded: menuIsExpanded })\r\n\t\t\t}\r\n\t\t\treturn children\r\n\t\t}\r\n\r\n\t\treturn React.createElement(icon || MenuIcon, { expanded: menuIsExpanded })\r\n\t}\r\n\r\n\tgetButtonProps() {\r\n\t\tconst { menuIsExpanded } = this.props\r\n\t\treturn {\r\n\t\t\tref: this.storeButtonNode,\r\n\t\t\tonClick: this.onClick,\r\n\t\t\t// 'aria-label': 'Menu',\r\n\t\t\t// 'aria-haspopup': 'menu',\r\n\t\t\t// `menuIsExpanded` property can be `undefined` to differentiate\r\n\t\t\t// between \"has been toggled yet\"/\"has not been toggled yet\"\r\n\t\t\t// to workaround the CSS animation bug.\r\n\t\t\t'aria-expanded': menuIsExpanded ? true : false,\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tlink,\r\n\t\t\tclassName,\r\n\t\t\tcomponent,\r\n\r\n\t\t\t// Getting \"rest\" properties.\r\n\t\t\ticon: MenuButtonIcon,\r\n\t\t\tchildren,\r\n\t\t\tmenuIsExpanded,\r\n\t\t\ttoggleMenu,\r\n\t\t\tregisterMenuButton,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst properties = {\r\n\t\t\t...rest,\r\n\t\t\t...this.getButtonProps()\r\n\t\t}\r\n\r\n\t\tif (component) {\r\n\t\t\treturn React.createElement(component, properties)\r\n\t\t}\r\n\r\n\t\tproperties.className = classNames('rrui__button-reset', 'rrui__outline', className, {\r\n\t\t\t// Only when using an `icon` component.\r\n\t\t\t'rrui__menu-button': !component && !children\r\n\t\t})\r\n\r\n\t\t// A link.\r\n\t\tif (link) {\r\n\t\t\treturn React.createElement(\r\n\t\t\t\t'a',\r\n\t\t\t\t{\r\n\t\t\t\t\t...properties,\r\n\t\t\t\t\thref: link\r\n\t\t\t\t},\r\n\t\t\t\tthis.getChildren()\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\t// A button.\r\n\t\treturn React.createElement(\r\n\t\t\t'button',\r\n\t\t\t{\r\n\t\t\t\t...properties,\r\n\t\t\t\ttype: 'button'\r\n\t\t\t},\r\n\t\t\tthis.getChildren()\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nexport default class FadeInOut extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tshow: PropTypes.bool.isRequired,\r\n\t\tfadeInInitially: PropTypes.bool.isRequired,\r\n\t\tfadeInDuration: PropTypes.number,\r\n\t\tfadeOutDuration: PropTypes.number,\r\n\t\tfadeInClassName: PropTypes.string,\r\n\t\tchildren: PropTypes.element.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps = {\r\n\t\tshow: false,\r\n\t\tfadeInInitially: false,\r\n\t\tfadeInDuration: 0,\r\n\t\tfadeOutDuration: 0\r\n\t}\r\n\r\n\tstate = {\r\n\t\tshow: this.props.show\r\n\t}\r\n\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props)\r\n\r\n\t\tif (typeof props.children === 'string' || React.Children.count(props.children) !== 1) {\r\n\t\t\tthrow new Error('`<FadeInOut/>` expect an element as a child.')\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps)\r\n\t{\r\n\t\tif (!prevProps.show && this.props.show) {\r\n\t\t\tthis.show()\r\n\t\t} else if (prevProps.show && !this.props.show) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { show, fadeInInitially } = this.props\r\n\r\n\t\tthis._isMounted = true\r\n\r\n\t\tif (show && fadeInInitially) {\r\n\t\t\tthis.show()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : true,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : false\r\n\t\t})\r\n\r\n\t\tthis.showTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeIn: true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Adding a non-null delay in order to\r\n\t\t// prevent web browser from optimizing\r\n\t\t// adding CSS classes and doing it simultaneously\r\n\t\t// rather than sequentially (required for CSS transition).\r\n\t\t30)\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { fadeOutDuration } = this.props\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\r\n\t\tif (!this._isMounted) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : false,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : true\r\n\t\t})\r\n\r\n\t\t// Gives some time to CSS opacity transition to finish.\r\n\t\tthis.hideTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeOut : false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tfadeOutDuration)\r\n\t}\r\n\r\n\tgetFadeInStyle() {\r\n\t\tconst { fadeInDuration } = this.props\r\n\t\treturn {\r\n\t\t\topacity: 1,\r\n\t\t\ttransition: `opacity ${fadeInDuration}ms ease-out`\r\n\t\t}\r\n\t}\r\n\r\n\tgetFadeOutStyle() {\r\n\t\tconst { fadeOutDuration } = this.props\r\n\t\treturn {\r\n\t\t\topacity: 0,\r\n\t\t\ttransition: `opacity ${fadeOutDuration}ms ease-out`\r\n\t\t}\r\n\t}\r\n\r\n\tgetStyle() {\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tfadeInInitially\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tfadeIn,\r\n\t\t\tfadeOut\r\n\t\t} = this.state\r\n\r\n\t\tif (fadeIn) {\r\n\t\t\treturn this.getFadeInStyle()\r\n\t\t}\r\n\r\n\t\tif (fadeOut) {\r\n\t\t\treturn this.getFadeOutStyle()\r\n\t\t}\r\n\r\n\t\t// On first render.\r\n\t\t// If `show={true}` and hasn't faded in/out yet, then just show.\r\n\t\tif (show && fadeIn === undefined && !fadeInInitially) {\r\n\t\t\treturn SHOWN_STYLE\r\n\t\t}\r\n\r\n\t\treturn HIDDEN_STYLE\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfadeInClassName,\r\n\t\t\tstyle,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tfadeIn,\r\n\t\t\tfadeOut\r\n\t\t} = this.state\r\n\r\n\t\tif (show || fadeOut) {\r\n\t\t\tconst style = children.props.style\r\n\t\t\t\t? { ...children.props.style, ...this.getStyle() }\r\n\t\t\t\t: this.getStyle()\r\n\r\n\t\t\tif (fadeInClassName) {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\t// Set `opacity` correctly on first render\r\n\t\t\t\t\t// if `fadeInInitially` is not `true`.\r\n\t\t\t\t\tstyle: fadeIn === undefined ? style : undefined,\r\n\t\t\t\t\tclassName: classNames(children.props.className, {\r\n\t\t\t\t\t\t[fadeInClassName]: fadeIn\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\tstyle\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// return children\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nconst SHOWN_STYLE = {\r\n\topacity: 1\r\n}\r\n\r\nconst HIDDEN_STYLE = {\r\n\topacity: 0\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport ActivityIndicator from './ActivityIndicator'\r\nimport FadeInOut from './FadeInOut'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nclass Button_ extends PureComponent {\r\n\tstate = {}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isMounted = false\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tbuttonRef,\r\n\t\t\tcomponent,\r\n\t\t\tlink,\r\n\t\t\twait,\r\n\t\t\tbusy,\r\n\t\t\tdisabled,\r\n\t\t\taction,\r\n\t\t\tonClick,\r\n\t\t\tsubmit,\r\n\t\t\tstretch,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tchildren,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\tconst properties = {\r\n\t\t\t...rest,\r\n\t\t\tref: buttonRef,\r\n\t\t\tstyle,\r\n\t\t\tclassName: classNames(className, 'rrui__input', 'rrui__button-reset', 'rrui__outline', 'rrui__button', {\r\n\t\t\t\t'rrui__button--busy'       : wait || busy || this.state.wait,\r\n\t\t\t\t'rrui__button--disabled'   : disabled,\r\n\t\t\t\t'rrui__button--stretch'    : stretch,\r\n\t\t\t\t'rrui__button-reset--link' : link\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (link) {\r\n\t\t\tconst LinkComponent = component || 'a'\r\n\t\t\treturn (\r\n\t\t\t\t<LinkComponent\r\n\t\t\t\t\thref={ component ? undefined : link }\r\n\t\t\t\t\tonClick={ this.linkOnClick }\r\n\t\t\t\t\t{ ...properties }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</LinkComponent>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\ttype={ submit ? 'submit' : 'button' }\r\n\t\t\t\tdisabled={ wait || busy || this.state.wait || disabled }\r\n\t\t\t\tonClick={ this.buttonOnClick }\r\n\t\t\t\t{ ...properties }>\r\n\t\t\t\t<FadeInOut\r\n\t\t\t\t\tshow={ wait || busy || this.state.wait }\r\n\t\t\t\t\tfadeOutDuration={300}\r\n\t\t\t\t\tfadeInClassName=\"rrui__button__busy--after-show\">\r\n\t\t\t\t\t<span className=\"rrui__button__busy\"/>\r\n\t\t\t\t</FadeInOut>\r\n\t\t\t\t{ children }\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n\tlinkOnClick = (event) => {\r\n\t\tconst {\r\n\t\t\twait,\r\n\t\t\tbusy,\r\n\t\t\tdisabled,\r\n\t\t\taction,\r\n\t\t\tonClick\r\n\t\t} = this.props\r\n\r\n\t\t// Only handle left mouse button clicks\r\n\t\t// ignoring those ones with a modifier key pressed.\r\n\t\tif (event.button !== 0\r\n\t\t\t|| event.shiftKey\r\n\t\t\t|| event.altKey\r\n\t\t\t|| event.ctrlKey\r\n\t\t\t|| event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (wait || busy || this.state.wait || disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Could be just a \"submit\" button without having any `action`.\r\n\t\t// Could also be just a `link` button.\r\n\t\t// Therefore \"preventing default\" only if `action` is set:\r\n\t\t// for example, if `link` is set and no `action`\r\n\t\t// then it should proceed with navigating to the `link`.\r\n\t\t// And if `link` is set and `action` is specified too\r\n\t\t// then it will prevent it from navigating to the `link`.\r\n\t\tif (action || onClick) {\r\n\t\t\tevent.preventDefault()\r\n\t\t}\r\n\r\n\t\tthis.buttonOnClick()\r\n\t}\r\n\r\n\tbuttonOnClick = (event) => {\r\n\t\tconst { action, onClick } = this.props\r\n\r\n\t\tlet result\r\n\t\t// Could be just a `<button type=\"submit\"/>`\r\n\t\t// without any `action` supplied.\r\n\t\tif (action) {\r\n\t\t\tresult = action()\r\n\t\t} else if (onClick) {\r\n\t\t\tresult = onClick()\r\n\t\t}\r\n\r\n\t\tif (result && typeof result.then === 'function') {\r\n\t\t\tthis.setState({ wait: true })\r\n\t\t\tresult.then(\r\n\t\t\t\t() => this._isMounted && this.setState({ wait: false }),\r\n\t\t\t\t() => this._isMounted && this.setState({ wait: false })\r\n\t\t\t)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nconst Button = React.forwardRef((props, ref) => (\r\n\t<Button_ {...props} buttonRef={ref}/>\r\n))\r\n\r\nButton.propTypes = {\r\n\t// onClick handler.\r\n\t// Doesn't receive `event` by default.\r\n\t// Can be `async`/`await` or return a `Promise`\r\n\t// in which case it will show \"wait\" animation.\r\n\tonClick: PropTypes.func,\r\n\r\n\t// onClick handler.\r\n\t// (deprecated, use `onClick(event)` instead)\r\n\taction: PropTypes.func,\r\n\r\n\t// If `wait` is `true` then the button\r\n\t// will be disabled and a spinner will be shown.\r\n\twait: PropTypes.bool,\r\n\r\n\t// (deprecated)\r\n\t// (use `wait` instead)\r\n\t// If `busy` is `true` then the button\r\n\t// will be disabled and a spinner will be shown.\r\n\tbusy: PropTypes.bool,\r\n\r\n\t// Disables the button\r\n\tdisabled: PropTypes.bool,\r\n\r\n\t// When `true`, the button will submit an enclosing form.\r\n\tsubmit: PropTypes.bool,\r\n\r\n\t// If `link` is set, then the button is gonna be an <a/> tag.\r\n\tlink: PropTypes.oneOfType([ PropTypes.string, PropTypes.bool ]),\r\n\r\n\t// Custom React component for the button.\r\n\tcomponent: PropTypes.func,\r\n\r\n\t// Set to `true` to stretch the button to full width.\r\n\tstretch: PropTypes.bool,\r\n\r\n\t// CSS style object for the button container\r\n\tstyle: PropTypes.object,\r\n\r\n\t// CSS class name\r\n\tclassName: PropTypes.string\r\n}\r\n\r\nexport default Button","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default function Close(props)\r\n{\r\n\tconst {\r\n\t\tonClick,\r\n\t\tcloseLabel,\r\n\t\tclassName,\r\n\t\tchildren\r\n\t} = props\r\n\treturn (\r\n\t\t<button\r\n\t\t\ttype=\"button\"\r\n\t\t\tonClick={ onClick }\r\n\t\t\taria-label={ props['aria-label'] || closeLabel }\r\n\t\t\tclassName={ classNames('rrui__button-reset', 'rrui__outline', 'rrui__close', className) }>\r\n\t\t\t{ children }\r\n\t\t</button>\r\n\t)\r\n}\r\n\r\nexport const CloseIcon = () => (\r\n\t<svg viewBox=\"0 0 22 21\" className=\"rrui__close__icon\">\r\n\t\t<g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\" strokeLinecap=\"round\">\r\n\t\t\t<g className=\"rrui__close__icon-path\" transform=\"translate(-1367.000000, -40.000000)\" strokeWidth=\"1\">\r\n\t\t\t\t<g transform=\"translate(1368.000000, 41.000000)\">\r\n\t\t\t\t\t<path d=\"M0.807611845,0.307611845 L19.1923882,18.6923882\"></path>\r\n\t\t\t\t\t<path d=\"M0.807611845,0.307611845 L19.1923882,18.6923882\" transform=\"translate(10.000000, 9.500000) scale(-1, 1) translate(-10.000000, -9.500000) \"></path>\r\n\t\t\t\t</g>\r\n\t\t\t</g>\r\n\t\t</g>\r\n\t</svg>\r\n)\r\n\r\nClose.propTypes =\r\n{\r\n\tonClick : PropTypes.func.isRequired,\r\n\tcloseLabel : PropTypes.string.isRequired,\r\n\tclassName : PropTypes.string,\r\n\tchildren : PropTypes.node.isRequired\r\n}\r\n\r\nClose.defaultProps =\r\n{\r\n\tcloseLabel : 'Close'\r\n}","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport ReactModal from 'react-modal'\r\nimport createContext from 'create-react-context'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport Form from './Form'\r\nimport Button from './Button'\r\nimport Close, { CloseIcon } from './Close'\r\n\r\nexport const ModalContext = createContext()\r\n\r\n// Make sure to add `.rrui__fixed-full-width` CSS class\r\n// to all full-width `position: fixed` elements.\r\n// Such elements must not be `width: 100%`\r\n// but rather `width: auto` or `left: 0; right: 0;`.\r\nclass Modal extends Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// If `true` then the modal is shown\r\n\t\tisOpen           : PropTypes.bool.isRequired,\r\n\r\n\t\t// Closes the modal (must set the `isOpen` flag to `false`)\r\n\t\tclose            : PropTypes.func.isRequired,\r\n\r\n\t\t// A time required for CSS hiding animation to complete\r\n\t\t// (150 milliseconds by default)\r\n\t\tcloseTimeout     : PropTypes.number.isRequired,\r\n\r\n\t\t// Is called after the modal is shown\r\n\t\tafterOpen        : PropTypes.func,\r\n\r\n\t\t// Is called after the modal is closed\r\n\t\tafterClose       : PropTypes.func,\r\n\r\n\t\t// Enters fullscreen mode\r\n\t\tfullscreen       : PropTypes.bool,\r\n\r\n\t\t// Modal content\r\n\t\tchildren         : PropTypes.node,\r\n\r\n\t\t// If `wait` is `true` then the modal\r\n\t\t// won't close on click-out or Escape\r\n\t\t// and will show spinner on the overlay.\r\n\t\twait            : PropTypes.bool,\r\n\r\n\t\t// (deprecated)\r\n\t\t// (use `wait` instead)\r\n\t\t// If `busy` is `true` then the modal\r\n\t\t// won't close on click-out or Escape\r\n\t\t// and will show spinner on the overlay.\r\n\t\tbusy            : PropTypes.bool,\r\n\r\n\t\t// Resets the modal on close\r\n\t\t// (e.g. could reset edited form fields)\r\n\t\treset            : PropTypes.func,\r\n\r\n\t\t// \"Cancel\" button label.\r\n\t\t// If set, the modal will have a \"Cancel\" button.\r\n\t\t// (only if `<Form.Actions/>` is found in content)\r\n\t\tcloseLabel       : PropTypes.string,\r\n\r\n\t\t// The default `overflow-x` of the <body/>.\r\n\t\t// Is `auto` by default.\r\n\t\tbodyOverflowX    : PropTypes.string.isRequired,\r\n\r\n\t\t// The default `overflow-x` of the <body/>.\r\n\t\t// Is `scroll` by default\r\n\t\t// (which is better than `auto`\r\n\t\t//  because the document width won't be jumpy\r\n\t\t//  while navigating the website \r\n\t\t//  it will be consistent across all pages)\r\n\t\tbodyOverflowY    : PropTypes.string.isRequired,\r\n\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel        : PropTypes.string,\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tcontentLabel     : PropTypes.string,\r\n\r\n\t\t// `aria-hidden` will be set to true on the `appElement`.\r\n\t\tappElement       : PropTypes.any,\r\n\t\tappElementId     : PropTypes.string,\r\n\r\n\t\t// Whether to set `aria-hidden` on the `appElement`.\r\n\t\t// Is `true` inside `react-modal` by default.\r\n\t\tariaHideApp      : PropTypes.bool,\r\n\r\n\t\t// An optional close button icon (like a cross).\r\n\t\t// Set to `true` to show the default \"cross\" icon.\r\n\t\tcloseButtonIcon  : PropTypes.oneOfType([PropTypes.func, PropTypes.oneOf([true])]),\r\n\r\n\t\t// If set to `false` will prevent modal contents\r\n\t\t// from being unmounted when the modal is closed.\r\n\t\tunmount          : PropTypes.bool.isRequired,\r\n\r\n\t\t// Internal property\r\n\t\tcould_not_close_because_busy_animation_duration : PropTypes.number.isRequired,\r\n\r\n\t\t// CSS class for overlay (e.g. for fullscreen modal background color)\r\n\t\toverlayClassName : PropTypes.string,\r\n\r\n\t\t// CSS class\r\n\t\tclassName        : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle            : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tisOpen : false,\r\n\r\n\t\tbodyOverflowX : 'auto',\r\n\t\t// Prevents document width from jumping due to the\r\n\t\t// vertical scrollbar appearance/disappearance\r\n\t\tbodyOverflowY : 'scroll',\r\n\r\n\t\t// when changing this also change\r\n\t\t// your .ReactModal__Overlay and .ReactModal__Content\r\n\t\t// css transition times accordingly\r\n\t\tcloseTimeout : 150, // ms\r\n\r\n\t\t// Modal contents are unmounted when the modal is closed by default\r\n\t\tunmount : true,\r\n\r\n\t\t// When changing this also change\r\n\t\t// `.rrui__modal--could-not-close-because-busy`\r\n\t\t// css transition time accordingly\r\n\t\tcould_not_close_because_busy_animation_duration: 600 // ms\r\n\t}\r\n\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state =\r\n\t\t{\r\n\t\t\t// Using a counter instead of a boolean here\r\n\t\t\t// because a new form may be mounted before the old one is unmounted.\r\n\t\t\t// (React reconciliation algorythm implementation details)\r\n\t\t\tform : 0,\r\n\r\n\t\t\tcontext:\r\n\t\t\t{\r\n\t\t\t\tcloseLabel     : this.props.closeLabel,\r\n\t\t\t\tcloseIfNotBusy : this.closeIfNotBusy,\r\n\t\t\t\tregisterForm   : this.registerForm,\r\n\t\t\t\tunregisterForm : this.unregisterForm\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState)\r\n\t{\r\n\t\tconst { unmount, isOpen } = this.props\r\n\r\n\t\t// If prevent `<Modal/>` contents\r\n\t\t// from being unmounted upon close.\r\n\t\tif (!unmount)\r\n\t\t{\r\n\t\t\t// If has been opened.\r\n\t\t\tif (!prevProps.isOpen && isOpen)\r\n\t\t\t{\r\n\t\t\t\tthis.on_after_open()\r\n\t\t\t}\r\n\t\t\t// If has been closed.\r\n\t\t\telse if (prevProps.isOpen && !isOpen)\r\n\t\t\t{\r\n\t\t\t\tthis.on_after_close()\r\n\t\t\t\tthis.reset_content_scroll()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// A modal itself umounts only when the user leaves a page,\r\n\t// so in a \"Single Page Application\", for example,\r\n\t// if this was a regular popup and a user could still navigate\r\n\t// away via a hyperlink then this code becomes neccessary.\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tconst { isOpen } = this.props\r\n\r\n\t\tthis.unmounted = true\r\n\r\n\t\t// If the modal is still open\r\n\t\t// while a user navigates away\r\n\t\t// then \"close\" it properly\r\n\t\t// (restore the document scrollbars, etc).\r\n\t\tif (isOpen)\r\n\t\t{\r\n\t\t\tthis.on_after_close()\r\n\t\t}\r\n\r\n\t\tclearTimeout(this.could_not_close_because_busy_animation_timeout)\r\n\t\tthis.could_not_close_because_busy_animation_timeout = undefined\r\n\t}\r\n\r\n\tgetAppElement() {\r\n\t\tconst {\r\n\t\t\tappElement,\r\n\t\t\tappElementId\r\n\t\t} = this.props\r\n\r\n\t\tif (appElementId && typeof window !== 'undefined') {\r\n\t\t\treturn document.getElementById(appElementId)\r\n\t\t}\r\n\t\treturn appElement\r\n\t}\r\n\r\n\tstoreContentInstance = (ref) => this.content = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\twait,\r\n\t\t\tbusy,\r\n\t\t\tfullscreen,\r\n\t\t\tisOpen,\r\n\t\t\tcloseTimeout,\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tcontentLabel,\r\n\t\t\ttitle,\r\n\t\t\tcloseLabel,\r\n\t\t\tariaHideApp,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tactions,\r\n\t\t\tunmount,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\toverlayClassName,\r\n\t\t\tchildren,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tcould_not_close_because_busy,\r\n\t\t\tform\r\n\t\t}\r\n\t\t= this.state\r\n\r\n\t\t// `aria-modal` was added in WAI-ARIA 1.1 and is not supported yet.\r\n\t\t// https://www.levelaccess.com/differences-aria-1-0-1-1-deprecations-additions/\r\n\r\n\t\treturn (\r\n\t\t\t<ReactModal\r\n\t\t\t\t{...rest}\r\n\t\t\t\tisOpen={ unmount ? isOpen : true }\r\n\t\t\t\tonAfterOpen={ unmount ? this.on_after_open : undefined }\r\n\t\t\t\tonRequestClose={ this.on_request_close }\r\n\t\t\t\tcloseTimeoutMS={ closeTimeout }\r\n\t\t\t\tcontentLabel={ this.props['aria-label'] || ariaLabel || contentLabel }\r\n\t\t\t\tariaHideApp={ (this.getAppElement() || globalAppElement) ? ariaHideApp : false }\r\n\t\t\t\tappElement={ this.getAppElement() }\r\n\t\t\t\tstyle={ react_modal_style }\r\n\t\t\t\toverlayClassName={ classNames('rrui__modal__overlay',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__modal__overlay--busy'       : wait || busy,\r\n\t\t\t\t\t'rrui__modal__overlay--fullscreen' : fullscreen,\r\n\t\t\t\t\t'rrui__modal__overlay--hidden'     : !unmount && !isOpen\r\n\t\t\t\t},\r\n\t\t\t\toverlayClassName) }\r\n\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t// A `<Modal/>` gets focused when it gets open\r\n\t\t\t\t\t// and this causes an outline around it.\r\n\t\t\t\t\t// This outline doesn't relate that much to actual\r\n\t\t\t\t\t// accessibilty so it can be muted safely.\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__modal__container', {\r\n\t\t\t\t\t\t'rrui__modal__container--fullscreen' : fullscreen\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\r\n\t\t\t\t{/* Top margin, grows less than bottom margin */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ classNames('rrui__modal__vertical-margin', 'rrui__modal__vertical-margin--top',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t'rrui__modal__vertical-margin--fullscreen' : fullscreen\r\n\t\t\t\t\t}) }\r\n\t\t\t\t\tonClick={ this.on_request_close }/>\r\n\r\n\t\t\t\t{/* Modal window content */}\r\n\r\n\t\t\t\t<ModalContext.Provider value={ this.state.context }>\r\n\t\t\t\t\t<ModalContentWrapper\r\n\t\t\t\t\t\tref={ this.storeContentInstance }\r\n\t\t\t\t\t\tcloseLabel={ closeLabel }\r\n\t\t\t\t\t\tcloseButtonIcon={ closeButtonIcon }\r\n\t\t\t\t\t\tclose={ this.closeIfNotBusy }\r\n\t\t\t\t\t\tstyle={ style }\r\n\t\t\t\t\t\tclassName={ className }\r\n\t\t\t\t\t\tfullscreen={ fullscreen }\r\n\t\t\t\t\t\tcould_not_close_because_busy={ could_not_close_because_busy }\r\n\t\t\t\t\t\tcontainsForm={ form > 0 }\r\n\t\t\t\t\t\twait={ wait || busy }\r\n\t\t\t\t\t\treset={ this.on_after_close }>\r\n\t\t\t\t\t\t{ children }\r\n\t\t\t\t\t</ModalContentWrapper>\r\n\t\t\t\t</ModalContext.Provider>\r\n\r\n\t\t\t\t{/* Bottom margin, grows more than top margin */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={ classNames('rrui__modal__vertical-margin', 'rrui__modal__vertical-margin--bottom',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t'rrui__modal__vertical-margin--fullscreen' : fullscreen\r\n\t\t\t\t\t}) }\r\n\t\t\t\t\tonClick={ this.on_request_close }/>\r\n\t\t\t</ReactModal>\r\n\t\t)\r\n\t}\r\n\r\n\tregisterForm = () =>\r\n\t{\r\n\t\t// Using a counter instead of a boolean here\r\n\t\t// because a new form may be mounted before the old one is unmounted.\r\n\t\t// (React reconciliation algorythm implementation details)\r\n\t\tthis.setState(({ form }) => ({ form: form + 1 }))\r\n\t}\r\n\r\n\tunregisterForm = () =>\r\n\t{\r\n\t\tif (this.unmounted)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Using a counter instead of a boolean here\r\n\t\t// because a new form may be mounted before the old one is unmounted.\r\n\t\t// (React reconciliation algorythm implementation details)\r\n\t\tthis.setState(({ form }) => ({ form: form - 1 }))\r\n\t}\r\n\r\n\t// Play \"cannot close\" animation on the modal\r\n\tindicate_cannot_close()\r\n\t{\r\n\t\tconst { could_not_close_because_busy_animation_duration } = this.props\r\n\t\tconst { could_not_close_because_busy } = this.state\r\n\r\n\t\tif (!could_not_close_because_busy)\r\n\t\t{\r\n\t\t\tthis.could_not_close_because_busy_animation_timeout = setTimeout(() =>\r\n\t\t\t{\r\n\t\t\t\tthis.could_not_close_because_busy_animation_timeout = undefined\r\n\t\t\t\tthis.setState({ could_not_close_because_busy: false })\r\n\t\t\t},\r\n\t\t\t// Give it a bit of extra time to finish the CSS animation\r\n\t\t\tcould_not_close_because_busy_animation_duration * 1.1)\r\n\r\n\t\t\tthis.setState({ could_not_close_because_busy: true })\r\n\t\t}\r\n\t}\r\n\r\n\ton_request_close = (event) =>\r\n\t{\r\n\t\tconst { closeLabel } = this.props\r\n\t\tconst { form } = this.state\r\n\r\n\t\t// If the modal has an explicit \"Cancel\" button,\r\n\t\t// then allow closing it by hitting \"Escape\" key,\r\n\t\t// but don't close it on a click outside.\r\n\t\t// (because a user wouldn't want to loose form data due to a misclick)\r\n\t\tif (closeLabel && form && event && event.type !== 'keydown')\r\n\t\t{\r\n\t\t\tthis.indicate_cannot_close()\r\n\t\t\t// Focus on `<ReactModal/>` element.\r\n\t\t\treturn this.content.focus()\r\n\t\t}\r\n\r\n\t\tthis.closeIfNotBusy()\r\n\t}\r\n\r\n\tcloseIfNotBusy = () =>\r\n\t{\r\n\t\tconst { wait, busy, close, closeTimeout } = this.props\r\n\r\n\t\t// For weird messed development mode cases\r\n\t\tif (this.unmounted)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Don't close the modal if it's busy\r\n\t\tif (wait || busy)\r\n\t\t{\r\n\t\t\treturn this.indicate_cannot_close()\r\n\t\t}\r\n\r\n\t\t// Abruptly end \"couldn't close\" animation to make room for closing animation\r\n\t\tthis.setState({ could_not_close_because_busy: false })\r\n\r\n\t\t// Close the modal\r\n\t\tif (close)\r\n\t\t{\r\n\t\t\tclose()\r\n\t\t}\r\n\t}\r\n\r\n\t// If the user scrolled on a previously shown react-modal,\r\n\t// then reset that previously scrolled position.\r\n\treset_content_scroll()\r\n\t{\r\n\t\tdocument.querySelector('.ReactModal__Overlay').scrollTop = 0\r\n\t}\r\n\r\n\t// Hides the main (body) scrollbar upon showing a modal\r\n\t// and also adjusts the width of all \"full-width\" elements\r\n\t// so that they don't expand no that the scrollbar is absent.\r\n\t//\r\n\t// This doesn't account for window resizes\r\n\t// but since my body is always `overflow: visible` (a good practice)\r\n\t// there's no difference and it should work in any scenario.\r\n\t//\r\n\tadjust_scrollbar_after_open()\r\n\t{\r\n\t\t// A dummy `<div/>` to measure\r\n\t\t// the difference in width\r\n\t\t// needed for the \"full-width\" elements\r\n\t\t// after the main (body) scrollbar is deliberately hidden.\r\n\t\tconst div = document.createElement('div')\r\n\t\tdiv.style.position = 'fixed'\r\n\t\tdiv.style.left     = 0\r\n\t\tdiv.style.right    = 0\r\n\t\tdocument.body.appendChild(div)\r\n\r\n\t\t// Calculate the width of the dummy `<div/>`\r\n\t\t// before the main (body) scrollbar is deliberately hidden.\r\n\t\tconst width_before = div.clientWidth\r\n\r\n\t\t// Hide the main (body) scrollbar\r\n\t\t// so that when a user scrolls in an open modal\r\n\t\t// this `scroll` event doesn't go through\r\n\t\t// and scroll the main page.\r\n\t\tdocument.body.style.overflow = 'hidden'\r\n\r\n\t\t// All \"full-width\" elements will need their\r\n\t\t// width to be adjusted by this amount\r\n\t\t// because of the now-hidden main (body) scrollbar\r\n\r\n\t\t// Calculate the width of the dummy `<div/>`\r\n\t\t// after the main (body) scrollbar is deliberately hidden.\r\n\t\tconst width_adjustment = div.clientWidth - width_before\r\n\r\n\t\tdocument.body.removeChild(div)\r\n\r\n\t\t// \"full-width\" elements include `document.body`\r\n\t\t// and all `position: fixed` elements\r\n\t\t// which should be marked with this special CSS class.\r\n\t\t//\r\n\t\t// Make sure to add `.rrui__fixed-full-width` CSS class\r\n\t\t// to all full-width `position: fixed` elements.\r\n\t\t// Such elements must not be `width: 100%`\r\n\t\t// but rather `width: auto` or `left: 0; right: 0;`.\r\n\t\t//\r\n\t\t// Adjusts the width of all \"full-width\" elements\r\n\t\t// so that they don't expand by the width of the (now absent) scrollbar\r\n\t\t//\r\n\t\tfor (const element of get_full_width_elements())\r\n\t\t{\r\n\t\t\telement.style.marginRight = width_adjustment + 'px'\r\n\t\t}\r\n\r\n\t\tthis.reset_content_scroll()\r\n\t}\r\n\r\n\ton_after_open = () =>\r\n\t{\r\n\t\tconst { afterOpen } = this.props\r\n\r\n\t\tthis.adjust_scrollbar_after_open()\r\n\r\n\t\tif (afterOpen)\r\n\t\t{\r\n\t\t\tafterOpen()\r\n\t\t}\r\n\t}\r\n\r\n\t// Restores original `document` scrollbar.\r\n\tadjust_scrollbar_after_close()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tbodyOverflowX,\r\n\t\t\tbodyOverflowY\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// All \"full-width\" elements will need their\r\n\t\t// width to be restored back to the original value\r\n\t\t// now that the main (body) scrollbar is being restored.\r\n\r\n\t\t// \"full-width\" elements include `document.body`\r\n\t\t// and all `position: fixed` elements\r\n\t\t// which should be marked with this special CSS class.\r\n\t\t//\r\n\t\t// Make sure to add `.rrui__fixed-full-width` CSS class\r\n\t\t// to all full-width `position: fixed` elements.\r\n\t\t// Such elements must not be `width: 100%`\r\n\t\t// but rather `width: auto` or `left: 0; right: 0;`.\r\n\t\t//\r\n\t\t// Adjusts the width of all \"full-width\" elements back to their original value\r\n\t\t// now that the main (body) scrollbar is being restored.\r\n\t\t//\r\n\t\tfor (const element of get_full_width_elements())\r\n\t\t{\r\n\t\t\telement.style.marginRight = 0\r\n\t\t}\r\n\r\n\t\t// Restore the main (body) scrollbar.\r\n\t\tdocument.body.style.overflowX = bodyOverflowX\r\n\t\tdocument.body.style.overflowY = bodyOverflowY\r\n\t}\r\n\r\n\t// Restores original `document` scrollbar\r\n\t// and resets the modal content (e.g. a form)\r\n\ton_after_close = () =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tafterClose,\r\n\t\t\treset\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tif (reset)\r\n\t\t{\r\n\t\t\treset()\r\n\t\t}\r\n\r\n\t\tif (afterClose)\r\n\t\t{\r\n\t\t\tafterClose()\r\n\t\t}\r\n\r\n\t\tthis.adjust_scrollbar_after_close()\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state)\r\n\t{\r\n\t\tif (props.closeLabel !== state.context.closeLabel)\r\n\t\t{\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcontext:\r\n\t\t\t\t{\r\n\t\t\t\t\t...state.context,\r\n\t\t\t\t\tcloseLabel : props.closeLabel\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nclass ModalContentWrapper extends Component\r\n{\r\n\tfocus = () => this.node.focus()\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { reset } = this.props\r\n\t\tif (reset) {\r\n\t\t\treset()\r\n\t\t}\r\n\t}\r\n\r\n\ttransformChildren()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tcloseLabel,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tclose,\r\n\t\t\tcontainsForm,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tlet closeButtonAdded = false\r\n\t\treturn React.Children.map(children, (element) =>\r\n\t\t{\r\n\t\t\tif (closeButtonIcon && !closeButtonAdded)\r\n\t\t\t{\r\n\t\t\t\t// Workaround for `react-hot-loader`.\r\n\t\t\t\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\t\t\t\tif (element.type.displayName === 'ModalTitle' || element.type.displayName === 'ModalContent')\r\n\t\t\t\t{\r\n\t\t\t\t\tcloseButtonAdded = true\r\n\t\t\t\t\treturn React.cloneElement(element,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcloseButton : this.render_close_button()\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!closeButtonIcon && closeLabel && !containsForm && element.type === Modal.Actions)\r\n\t\t\t{\r\n\t\t\t\treturn React.cloneElement(element,\r\n\t\t\t\t{\r\n\t\t\t\t\tcloseButton: (\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName={ classNames('rrui__modal__close', 'rrui__modal__close--bottom') }\r\n\t\t\t\t\t\t\taction={ close }>\r\n\t\t\t\t\t\t\t{ closeLabel }\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\treturn element\r\n\t\t})\r\n\t}\r\n\r\n\tstoreNode = (ref) => this.node = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tfullscreen,\r\n\t\t\tclassName,\r\n\t\t\tstyle,\r\n\t\t\tcould_not_close_because_busy\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<section\r\n\t\t\t\tref={ this.storeNode }\r\n\t\t\t\tclassName={ classNames('rrui__modal__contents',\r\n\t\t\t\t{\r\n\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t'rrui__modal__contents--fullscreen' : fullscreen,\r\n\r\n\t\t\t\t\t// Strictly speaking it's not `.rrui__modal` but this CSS class name will do\r\n\t\t\t\t\t'rrui__modal--could-not-close-because-busy': could_not_close_because_busy\r\n\t\t\t\t},\r\n\t\t\t\tclassName) }\r\n\t\t\t\tstyle={ style }>\r\n\r\n\t\t\t\t{ this.transformChildren() }\r\n\t\t\t</section>\r\n\t\t)\r\n\t}\r\n\r\n\trender_close_button()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tcloseLabel,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tclose,\r\n\t\t\twait\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst CloseButtonIcon = closeButtonIcon === true ? CloseIcon : closeButtonIcon;\r\n\r\n\t\tif (!CloseButtonIcon)\r\n\t\t{\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<Close\r\n\t\t\t\tonClick={ close }\r\n\t\t\t\tcloseLabel={ closeLabel }\r\n\t\t\t\tclassName={ classNames('rrui__modal__close', 'rrui__modal__close--top',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__modal__close--busy' : wait\r\n\t\t\t\t}) }>\r\n\t\t\t\t<CloseButtonIcon/>\r\n\t\t\t</Close>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst react_modal_style =\r\n{\r\n\toverlay:\r\n\t{\r\n\t\tposition : 'fixed',\r\n\t\tleft     : 0,\r\n\t\ttop      : 0,\r\n\t\tright    : 0,\r\n\t\tbottom   : 0,\r\n\t\t// Will show a scrollbar in case of modal content overflowing viewport height\r\n\t\toverflow : 'auto'\r\n\t}\r\n}\r\n\r\n// \"full-width\" elements include `document.body`\r\n// and all `position: fixed` elements\r\n// which should be marked with this special CSS class.\r\n//\r\n// Make sure to add `.rrui__fixed-full-width` CSS class\r\n// to all full-width `position: fixed` elements.\r\n// Such elements must not be `width: 100%`\r\n// but rather `width: auto` or `left: 0; right: 0;`.\r\n//\r\nfunction get_full_width_elements()\r\n{\r\n\t// `Array.from` requires ES6 polyfill.\r\n\t// const full_width_elements = Array.from(document.querySelectorAll('.rrui__fixed-full-width'))\r\n\tconst full_width_elements = [].slice.call(document.querySelectorAll('.rrui__fixed-full-width'))\r\n\tfull_width_elements.push(document.body)\r\n\treturn full_width_elements\r\n}\r\n\r\nconst ModalTitle = ({ closeButton, className, children, ...rest }) => (\r\n\t<h1\r\n\t\tclassName={classNames('rrui__modal__title', className, {\r\n\t\t\t'rrui__modal__title--close-button' : closeButton\r\n\t\t})}\r\n\t\t{...rest}>\r\n\t\t{closeButton && <span className=\"rrui__modal__title-itself\">{children}</span>}\r\n\t\t{!closeButton && children}\r\n\t\t{closeButton}\r\n\t</h1>\r\n)\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nModalTitle.displayName = 'ModalTitle'\r\n\r\nconst ModalContent = ({ closeButton, className, children, ...rest }) => (\r\n\t<div\r\n\t\tclassName={classNames('rrui__modal__content', className, {\r\n\t\t\t'rrui__modal__content--close-button' : closeButton\r\n\t\t})}\r\n\t\t{...rest}>\r\n\t\t{closeButton && <div className=\"rrui__modal__content-itself\">{children}</div>}\r\n\t\t{!closeButton && children}\r\n\t\t{closeButton}\r\n\t</div>\r\n)\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nModalContent.displayName = 'ModalContent'\r\n\r\nconst ModalActions = ({ closeButton, className, children }) => (\r\n\t<div className={classNames(className, 'rrui__modal__actions')}>\r\n\t\t{closeButton}\r\n\t\t{children}\r\n\t</div>\r\n)\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nModalActions.displayName = 'ModalActions'\r\n\r\nModal = reactLifecyclesCompat(Modal)\r\n\r\nModal.Title = ModalTitle\r\nModal.Content = ModalContent\r\nModal.Actions = ModalActions\r\n\r\nlet globalAppElement\r\nModal.setAppElement = (element) => {\r\n\tglobalAppElement = element\r\n\tReactModal.setAppElement(element)\r\n}\r\n\r\nexport default Modal","import React, { Component } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport Button from './Button'\r\nimport { ModalContext } from './Modal'\r\n\r\n// Prevents `<form/> submission when `wait` is `true`.\r\n// And also inserts `<Form.Error/>` when `error` is passed.\r\n// Using `Component` here instead of `PureComponent`\r\n// because `<Form.Actions>` depends on `context` and therefore\r\n// should be rerendered even if the `props` haven't changed.\r\n// And probably that was also why it would keep displaying an old error\r\n// (and not resetting it for some reason).\r\nexport default class Form extends Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// `onSubmit` handler\r\n\t\tsubmit      : PropTypes.func,\r\n\r\n\t\t// On `Escape` keydown handler\r\n\t\tcancel      : PropTypes.func,\r\n\r\n\t\t// `error` can be passed for non-javascript old-school forms.\r\n\t\t// e.g. when a form submitted via HTTP POST request had an error,\r\n\t\t// then this error is rendered as part of the form.\r\n\t\terror       : PropTypes.oneOfType([PropTypes.string, PropTypes.bool, PropTypes.node]),\r\n\r\n\t\t// The HTML form `action` attribute,\r\n\t\t// i.e. the URL to which the form will be posted\r\n\t\t// in case of a non-javascript old-school POST submission.\r\n\t\tpost        : PropTypes.string,\r\n\r\n\t\t// Is form submission in progress\r\n\t\twait        : PropTypes.bool.isRequired,\r\n\r\n\t\t// (deprecated)\r\n\t\t// (use `wait` instead)\r\n\t\t// Is form submission in progress\r\n\t\tbusy        : PropTypes.bool.isRequired,\r\n\r\n\t\t// CSS class\r\n\t\tclassName   : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle       : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\twait : false,\r\n\t\tbusy : false\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst { post, error, className, style } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<form\r\n\t\t\t\tonSubmit={ this.submit }\r\n\t\t\t\tonKeyDown={ this.on_key_down }\r\n\t\t\t\taction={ post }\r\n\t\t\t\tmethod=\"POST\"\r\n\t\t\t\tclassName={ classNames('rrui__form', className) }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tnoValidate>\r\n\r\n\t\t\t\t{ this.render_children(error) }\r\n\t\t\t</form>\r\n\t\t)\r\n\t}\r\n\r\n\t// Adds `error` element to the form\r\n\trender_children(error)\r\n\t{\r\n\t\tconst { children } = this.props\r\n\r\n\t\tconst form_elements = React.Children.toArray(children)\r\n\r\n\t\t// Insert `error` element\r\n\t\tif (error)\r\n\t\t{\r\n\t\t\t// Will be set to `null` upon insertion\r\n\t\t\tlet error_element = <FormError key=\"form-error\">{ error }</FormError>\r\n\r\n\t\t\t// Show form error above form actions,\r\n\t\t\t// so that the error will be visible and won't be overlooked.\r\n\t\t\tlet index = 0\r\n\t\t\tfor (const child of form_elements)\r\n\t\t\t{\r\n\t\t\t\t// Workaround for `react-hot-loader`.\r\n\t\t\t\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\t\t\t\tif (child.type.displayName === 'FormError')\r\n\t\t\t\t{\r\n\t\t\t\t\tform_elements[index] = React.cloneElement(child, { key: 'form-error' }, error)\r\n\t\t\t\t\terror_element = null\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\t// Workaround for `react-hot-loader`.\r\n\t\t\t\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\t\t\t\tif (child.type.displayName === 'FormActions')\r\n\t\t\t\t{\r\n\t\t\t\t\tform_elements.insert_at(index, error_element)\r\n\t\t\t\t\terror_element = null\r\n\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindex++\r\n\t\t\t}\r\n\r\n\t\t\tif (error_element)\r\n\t\t\t{\r\n\t\t\t\tform_elements.push(error_element)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn form_elements\r\n\t}\r\n\r\n\tsubmit = (event) =>\r\n\t{\r\n\t\tif (event)\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t}\r\n\r\n\t\tconst { wait, busy, submit } = this.props\r\n\r\n\t\t// Prevent form double submit\r\n\t\t// (because not only buttons submit a form,\r\n\t\t//  therefore just disabling buttons is not enough).\r\n\t\tif (wait || busy)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submit)\r\n\t\t{\r\n\t\t\treturn submit()\r\n\t\t}\r\n\t}\r\n\r\n\ton_key_down = (event) =>\r\n\t{\r\n\t\t// Cancel editing on \"Escape\" key\r\n\t\tif (event.keyCode === 27)\r\n\t\t{\r\n\t\t\tconst { cancel } = this.props\r\n\r\n\t\t\tif (cancel)\r\n\t\t\t{\r\n\t\t\t\tcancel()\r\n\t\t\t}\r\n\r\n\t\t\tevent.preventDefault()\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// I guess `<Form.Error/>` isn't used anywhere\r\n// and is therefore considered deprecated.\r\nfunction FormError({ children }) {\r\n\treturn (\r\n\t\t<div className=\"rrui__form__error\">\r\n\t\t\t{ children }\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nFormError.displayName = 'FormError'\r\n\r\n// I guess `<Form.Error/>` isn't used anywhere\r\n// and is therefore considered deprecated.\r\nForm.Error = FormError\r\n\r\n// I guess `<Form.Actions/>` aren't used anywhere\r\n// and are therefore considered deprecated.\r\nclass FormActions extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst { context } = this.props\r\n\t\tif (context) {\r\n\t\t\tcontext.registerForm()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { context } = this.props\r\n\t\tif (context) {\r\n\t\t\tcontext.unregisterForm()\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcontext,\r\n\t\t\tchildren,\r\n\t\t\tclassName,\r\n\t\t\tstyle\r\n\t\t} = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tclassName={ classNames('rrui__form__actions', className) }\r\n\t\t\t\tstyle={ style }>\r\n\t\t\t\t{ context &&\r\n\t\t\t\t\t<Button action={ context.closeIfNotBusy }>\r\n\t\t\t\t\t\t{ context.closeLabel }\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t}\r\n\t\t\t\t{ children }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nFormActions.displayName = 'FormActions'\r\n\r\n// I guess `<Form.Actions/>` aren't used anywhere\r\n// and are therefore considered deprecated.\r\nForm.Actions = function({ children }) {\r\n\treturn (\r\n\t\t<ModalContext.Consumer>\r\n\t\t\t{context => (\r\n\t\t\t\t<FormActions context={ context }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</FormActions>\r\n\t\t\t)}\r\n\t\t</ModalContext.Consumer>\r\n\t)\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport createRef from 'react-create-ref'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// Sits at the bottom of a page and displays notifications\r\nexport default class Snackbar extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// Snackbar value (either a message, or an object)\r\n\t\tvalue : PropTypes.shape\r\n\t\t({\r\n\t\t\t// Notification content.\r\n\t\t\tcontent : PropTypes.oneOfType\r\n\t\t\t([\r\n\t\t\t\tPropTypes.string,\r\n\t\t\t\tPropTypes.node\r\n\t\t\t]),\r\n\r\n\t\t\t// Instead of `content` property one may supply `component` property\r\n\t\t\t// which must be a React component which receives all \"rest\" `value` properties\r\n\t\t\t// and also `hide`property (a function that hides the notification).\r\n\t\t\tcomponent : PropTypes.func,\r\n\r\n\t\t\t// `props` are passed to `component`.\r\n\t\t\tprops : PropTypes.object,\r\n\r\n\t\t\t// If `content` is a `string` then its `length` is calculated automatically.\r\n\t\t\t// Otherwise one may pass `length` manually.\r\n\t\t\t// It's used for calculating notification `duration`.\r\n\t\t\tlength : PropTypes.number,\r\n\r\n\t\t\t// `type` is appended as a BEM modifier to `.rrui__snackbar` CSS class.\r\n\t\t\t// E.g. `.rrui__snackbar--error` for `{ type: \"error\" }`.\r\n\t\t\ttype : PropTypes.string,\r\n\r\n\t\t\t// How long does the notification stay.\r\n\t\t\t// Pass `-1` for it to stay until it's closed manually.\r\n\t\t\tduration : PropTypes.number,\r\n\r\n\t\t\t// (optional)\r\n\t\t\t// Action button on the right side.\r\n\t\t\taction: PropTypes.shape({\r\n\t\t\t\tonClick: PropTypes.func.isRequired,\r\n\t\t\t\ttitle: PropTypes.string.isRequired\r\n\t\t\t}),\r\n\r\n\t\t\t// (optional)\r\n\t\t\t// Set to `true` to show a close button.\r\n\t\t\t// Close button is automatically shown\r\n\t\t\t// when `content` is text and `duration` is `-1`.\r\n\t\t\tclose: PropTypes.bool\r\n\t\t}),\r\n\r\n\t\t// Snackbar placement.\r\n\t\tplacement: PropTypes.oneOf([\r\n\t\t\t'top',\r\n\t\t\t'top-start',\r\n\t\t\t'top-end',\r\n\t\t\t'bottom',\r\n\t\t\t'bottom-start',\r\n\t\t\t'bottom-end'\r\n\t\t]).isRequired,\r\n\r\n\t\t// // \"Snack\" showing CSS animation duration.\r\n\t\t// // Is 225 milliseconds by default.\r\n\t\t// showAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\t// \"Snack\" hiding CSS animation duration.\r\n\t\t// Is 195 milliseconds by default.\r\n\t\thideAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\t// The total display duration (in milliseconds) of a snack\r\n\t\t// is `minTime + message.length * lengthTimeFactor`\r\n\t\tminTime          : PropTypes.number.isRequired,\r\n\t\tlengthTimeFactor : PropTypes.number.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tplacement: 'bottom-start',\r\n\t\t// showAnimationDuration : 225,\r\n\t\thideAnimationDuration : 195,\r\n\t\tminTime : 1200,\r\n\t\tlengthTimeFactor : 60\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tsnackbar = createRef()\r\n\r\n\tstatus = 'idle'\r\n\tqueue = []\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tclearTimeout(this.auto_hide_timer)\r\n\t\tclearTimeout(this.show_next_snack_timeout)\r\n\t\tclearTimeout(this.show_snack_timeout)\r\n\t}\r\n\r\n\treceiveNewValue(prevProps)\r\n\t{\r\n\t\tconst { value } = this.props\r\n\r\n\t\t// If `value` has changed then push it to the queue.\r\n\t\tif (value && value !== prevProps.value)\r\n\t\t{\r\n\t\t\t// Add the notification to the queue\r\n\t\t\tthis.push(value)\r\n\t\t}\r\n\t}\r\n\r\n\t// Adds a notification to the queue\r\n\tpush(newValue)\r\n\t{\r\n\t\t// Add the notification to the queue\r\n\t\tthis.queue.push(newValue)\r\n\t\tthis.setState({\r\n\t\t\tqueueSize: this.queue.length\r\n\t\t})\r\n\t\t// If the notification queue was empty\r\n\t\t// then kick-start it.\r\n\t\tif (this.status === 'idle') {\r\n\t\t\tthis.next()\r\n\t\t}\r\n\t}\r\n\r\n\t// Displays the next notification in the queue\r\n\tnext = () => {\r\n\t\t// Get the next notification from the queue\r\n\t\t// (will be `undefined` if the queue is empty)\r\n\t\tconst value = this.queue.shift()\r\n\r\n\t\t// Reset the notification display\r\n\t\tthis.setState({\r\n\t\t\tvalue,\r\n\t\t\tqueueSize: this.queue.length,\r\n\t\t\theight: undefined,\r\n\t\t\t// wide: undefined,\r\n\t\t\thiding: false\r\n\t\t})\r\n\r\n\t\tif (value) {\r\n\t\t\tthis.status = 'active'\r\n\t\t\t// `state.show` will be set to `true` later,\r\n\t\t\t// when the height of the element is measured\r\n\t\t\t// (which is after it renders)\r\n\t\t} else {\r\n\t\t\t// If the queue is empty, then just exit\r\n\t\t\tthis.status = 'idle'\r\n\t\t}\r\n\t}\r\n\r\n\tscheduleAutoHide() {\r\n\t\tconst { minTime, lengthTimeFactor } = this.props\r\n\t\tconst { value } = this.state\r\n\t\tif (value.duration === -1) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// The total display duration (in milliseconds) of a snack\r\n\t\t// is `minTime + message.length * lengthTimeFactor`\r\n\t\tconst length = typeof value.content === 'string' ? value.content.length : value.length || 0\r\n\t\tconst duration = value.duration || (minTime + length * lengthTimeFactor)\r\n\t\t// Hide the notification after it expires.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tthis.auto_hide_timer = setTimeout(this.hide, duration)\r\n\t\t}\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tconst { hideAnimationDuration } = this.props\r\n\r\n\t\t// Start the hiding animation for the notification\r\n\t\tthis.setState({ show: false, hiding: true })\r\n\r\n\t\t// Display the next notification\r\n\t\t// after the currently being hidden one\r\n\t\t// finishes its hiding animation.\r\n\t\tthis.show_next_snack_timeout = setTimeout(this.next, hideAnimationDuration)\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState) {\r\n\t\tlet { height, value } = this.state\r\n\t\tconst { show } = this.state\r\n\r\n\t\t// If `value` got updated then push it to the list of `queue`.\r\n\t\tthis.receiveNewValue(prevProps)\r\n\r\n\t\t// The notification DOM element has just been rendered\r\n\t\t// which means its dimensions are set by now.\r\n\t\t// Calculate the notification container DOM element height\r\n\t\t// so that the slide-from-bottom animation knows\r\n\t\t// its target Y-position for the CSS `translate` transform.\r\n\t\tif (value) {\r\n\t\t\tif (height === undefined) {\r\n\t\t\t\theight = this.snackbar.current.offsetHeight\r\n\t\t\t\t// const wide = this.snackbar.current.offsetWidth === document.documentElement.clientWidth\r\n\t\t\t\tconst marginBottom = parseInt(getComputedStyle(this.snackbar.current).marginBottom)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\theight,\r\n\t\t\t\t\t// wide,\r\n\t\t\t\t\tmarginBottom\r\n\t\t\t\t})\r\n\t\t\t} else if (prevState.height === undefined) {\r\n\t\t\t\t// An \"anti-lag\" timeout added in order to set `show: true`\r\n\t\t\t\t// after the web browser has re-rendered.\r\n\t\t\t\t// Otherwise it would jump to fully shown in Chrome when\r\n\t\t\t\t// there's a queue of snacks waiting to be shown\r\n\t\t\t\tconst anti_lag_timeout = 100\r\n\t\t\t\t// Handle the changed state (due to the `.setState()` call above).\r\n\t\t\t\tthis.show_snack_timeout = setTimeout(() => {\r\n\t\t\t\t\t// Sometimes (for example, when the browser tab was in background)\r\n\t\t\t\t\t// this timer hasn't fired until the timeout\r\n\t\t\t\t\tthis.setState({ show: true })\r\n\t\t\t\t}, anti_lag_timeout)\r\n\t\t\t} else if (!prevState.show && show) {\r\n\t\t\t\tthis.scheduleAutoHide()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst {\r\n\t\t\ttype,\r\n\t\t\tplacement\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tvalue,\r\n\t\t\theight,\r\n\t\t\t// wide,\r\n\t\t\tmarginBottom,\r\n\t\t\thiding,\r\n\t\t\tqueueSize\r\n\t\t} = this.state\r\n\r\n\t\tconst style = {}\r\n\r\n\t\tif (show) {\r\n\t\t\tlet transform = `translateY(0)`\r\n\t\t\tif (getAlignment(placement) === 'center') {\r\n\t\t\t\ttransform = `translateX(-50%) ${transform}`\r\n\t\t\t}\r\n\t\t\tstyle.transform = transform\r\n\t\t} else {\r\n\t\t\t// If no snack is being shown,\r\n\t\t\t// or if a snack is about to be shown,\r\n\t\t\t// then shift it under the screen's bottom border\r\n\t\t\t// to show the slide-from-bottom animation at the next step.\r\n\t\t\tif (height !== undefined) {\r\n\t\t\t\tlet transform = `translateY(${height + marginBottom}px)`\r\n\t\t\t\tif (getAlignment(placement) === 'center') {\r\n\t\t\t\t\ttransform = `translateX(-50%) ${transform}`\r\n\t\t\t\t}\r\n\t\t\t\tstyle.transform = transform\r\n\t\t\t}\r\n\t\t\tif (!hiding) {\r\n\t\t\t\tstyle.transition = 'none'\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst showCloseButton = value && (value.close || (typeof value.content === 'string' && value.duration === -1))\r\n\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tref={this.snackbar}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t'rrui__snackbar',\r\n\t\t\t\t\tvalue && value.type && `rrui__snackbar--${value.type}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'rrui__snackbar--top': getEdge(placement) === 'top',\r\n\t\t\t\t\t\t'rrui__snackbar--bottom': getEdge(placement) === 'bottom',\r\n\t\t\t\t\t\t'rrui__snackbar--left': getAlignment(placement) === 'start',\r\n\t\t\t\t\t\t'rrui__snackbar--right': getAlignment(placement) === 'end',\r\n\t\t\t\t\t\t'rrui__snackbar--center': getAlignment(placement) === 'center',\r\n\t\t\t\t\t\t'rrui__snackbar--hidden': !show\r\n\t\t\t\t\t}\r\n\t\t\t\t)}>\r\n\r\n\t\t\t\t{/* Render the default content component. */}\r\n\t\t\t\t{value && !value.component &&\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t{typeof value.content === 'string' &&\r\n\t\t\t\t\t\t\t<p className=\"rrui__snackbar__text\">\r\n\t\t\t\t\t\t\t\t{value.content}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{typeof value.content !== 'string' &&\r\n\t\t\t\t\t\t\tvalue.content\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* Render a custom content component. */}\r\n\t\t\t\t{value && value.component &&\r\n\t\t\t\t\tReact.createElement(value.component, {\r\n\t\t\t\t\t\t...value.props,\r\n\t\t\t\t\t\thide: this.hide\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{(value && value.action || showCloseButton) &&\r\n\t\t\t\t\t<div className=\"rrui__snackbar__actions\">\r\n\t\t\t\t\t\t{value && value.action &&\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tonClick={value.action.onClick}\r\n\t\t\t\t\t\t\t\tclassName=\"rrui__snackbar__action rrui__button-reset\">\r\n\t\t\t\t\t\t\t\t{value.action.title}\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t{showCloseButton &&\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tonClick={this.hide}\r\n\t\t\t\t\t\t\t\tclassName=\"rrui__snackbar__close rrui__button-reset\">\r\n\t\t\t\t\t\t\t\t<Close/>\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* value && value.duration === -1 && */}\r\n\t\t\t\t{queueSize > 0 &&\r\n\t\t\t\t\t<div className=\"rrui__snackbar__count\">\r\n\t\t\t\t\t\t{queueSize + 1}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction Close() {\r\n\treturn (\r\n\t\t<svg className=\"rrui__snackbar__close-icon\" viewBox=\"0 0 100 100\">\r\n\t\t\t<line stroke=\"currentColor\" strokeWidth=\"10\" x1=\"2\" y1=\"2\" x2=\"98\" y2=\"98\"/>\r\n\t\t\t<line stroke=\"currentColor\" strokeWidth=\"10\" x1=\"2\" y1=\"98\" x2=\"98\" y2=\"2\"/>\r\n\t\t</svg>\r\n\t)\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"top\", \"bottom\".\r\n */\r\nfunction getEdge(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(0, dashIndex)\r\n\t}\r\n\treturn placement\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"left\", \"right\", \"center\".\r\n */\r\nfunction getAlignment(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(dashIndex + '-'.length)\r\n\t}\r\n\treturn 'center'\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport { getOffset } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// https://github.com/Dogfalo/materialize/blob/master/js/tooltip.js\r\nexport default class Tooltip extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// Tooltip placement.\r\n\t\tplacement : PropTypes.oneOf([\r\n\t\t\t'top',\r\n\t\t\t'top-start',\r\n\t\t\t'top-end',\r\n\t\t\t'left',\r\n\t\t\t'left-start',\r\n\t\t\t'left-end',\r\n\t\t\t'bottom',\r\n\t\t\t'bottom-start',\r\n\t\t\t'bottom-end',\r\n\t\t\t'right',\r\n\t\t\t'right-start',\r\n\t\t\t'right-end'\r\n\t\t]).isRequired,\r\n\r\n\t\t// Tooltip content.\r\n\t\tcontent : PropTypes.node,\r\n\r\n\t\t// Tooltip content component.\r\n\t\t// Will have access to `hide()` property.\r\n\t\tcomponent : PropTypes.func,\r\n\t\tcomponentProps : PropTypes.object,\r\n\r\n\t\t// Whether this element should be displayed as `inline-block`.\r\n\t\t// (is `true` by default)\r\n\t\tinline : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `true` then the tooltip will be accessible via keyboard.\r\n\t\t// The tooltipped element will be wrapped in a focusable `<button/>`\r\n\t\t// that will show/hide the tooltip on click.\r\n\t\t// Tooltip contents will be focused upon being shown.\r\n\t\t// The tooltip will be closeable via `Esc` key.\r\n\t\t// The tooltip will still be shown/hidden on mouseover.\r\n\t\t// (is `false` by default)\r\n\t\taccessible : PropTypes.bool,\r\n\r\n\t\t// The delay before the tooltip is shown (in milliseconds)\r\n\t\tdelay : PropTypes.number.isRequired,\r\n\r\n\t\t// The duration of the tooltip hiding animation.\r\n\t\t// The DOM element will retain `display: block` for this time period.\r\n\t\t// When changing this timeout also change `transition` time for\r\n\t\t// `.tooltip--after-show` and `.tooltip--before-hide` CSS classes.\r\n\t\t// Is `120` by default.\r\n\t\thidingAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\t// (`hideTimeout` is deprecated, use `hideDelay` instead)\r\n\t\t// The tooltip waits `hideTimeout` milliseconds before hiding\r\n\t\t// to support mouseovering over itself.\r\n\t\thideTimeout : PropTypes.number,\r\n\r\n\t\t// The tooltip waits `hideDelay` milliseconds before hiding\r\n\t\t// to support mouseovering over itself.\r\n\t\thideDelay : PropTypes.number.isRequired,\r\n\r\n\t\tscreenMargin : PropTypes.number.isRequired,\r\n\t\t// When passing `offsetTop`, also set `--rrui-tooltip-visible-distance` to `0px`.\r\n\t\toffsetTop : PropTypes.number.isRequired,\r\n\r\n\t\t// `container: () => DOMElement` property is optional\r\n\t\t// and is gonna be the parent DOM Element for the tooltip itself\r\n\t\t// (`document.body` by default).\r\n\t\t// (in which case make sure that `document.body` has no `margin`\r\n\t\t//  otherwise tooltip `left` and `top` positions will be slightly off).\r\n\t\tcontainer : PropTypes.func,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class name\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// Tooltip CSS class name\r\n\t\ttooltipClassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tplacement: 'top',\r\n\t\tinline: true,\r\n\t\tdelay: 350, // in milliseconds\r\n\t\thidingAnimationDuration: 200, // in milliseconds\r\n\t\thideDelay: 50, // in milliseconds\r\n\t\tscreenMargin: 4, // in pixels\r\n\t\toffsetTop: 0, // in pixels\r\n\t\tcontainer: () => document.body\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isMounted = false\r\n\t\tthis.destroy_tooltip()\r\n\t\tclearTimeout(this.show_timeout)\r\n\t\t// The `mousemove` listener might have, or might have not,\r\n\t\t// been added, so remove it (if it has been added).\r\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\r\n\t}\r\n\r\n\tcreateTooltip()\r\n\t{\r\n\t\tconst {\r\n\t\t\ttooltipClassName,\r\n\t\t\tplacement,\r\n\t\t\taccessible\r\n\t\t} = this.props\r\n\r\n\t\tthis.tooltip = document.createElement('div')\r\n\r\n\t\tthis.tooltip.style.position = 'absolute'\r\n\t\tthis.tooltip.style.left = 0\r\n\t\tthis.tooltip.style.top  = 0\r\n\r\n\t\tif (accessible) {\r\n\t\t\t// An \"accessible\" tooltip is focused upon being shown.\r\n\t\t\tthis.tooltip.setAttribute('tabIndex', -1)\r\n\t\t\tthis.tooltip.classList.add('rrui__outline')\r\n\t\t\tthis.tooltip.addEventListener('focusout', this.onFocusOut)\r\n\t\t}\r\n\r\n\t\tthis.tooltip.classList.add('rrui__tooltip')\r\n\t\tthis.tooltip.classList.add(`rrui__tooltip--${getEdge(placement)}`)\r\n\r\n\t\tif (tooltipClassName) {\r\n\t\t\tfor (const className of tooltipClassName.split(/\\s+/)) {\r\n\t\t\t\tthis.tooltip.classList.add(className)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.tooltip.addEventListener('mouseenter', this.onMouseEnterTooltip)\r\n\t\tthis.tooltip.addEventListener('mouseleave', this.onMouseLeaveTooltip)\r\n\t\tthis.tooltip.addEventListener('keydown', this.onKeyDown)\r\n\r\n\t\tthis.container().appendChild(this.tooltip)\r\n\t}\r\n\r\n\tdestroy_tooltip()\r\n\t{\r\n\t\tclearTimeout(this.hide_timeout)\r\n\t\tclearTimeout(this.hide_on_mouse_leave_timeout)\r\n\r\n\t\tif (this.tooltip)\r\n\t\t{\r\n\t\t\t// Won't throw an exception\r\n\t\t\tthis.tooltip.parentNode.removeChild(this.tooltip)\r\n\t\t\tthis.tooltip = undefined\r\n\t\t}\r\n\t}\r\n\r\n\tcontainer()\r\n\t{\r\n\t\tconst { container } = this.props\r\n\t\treturn container()\r\n\t}\r\n\r\n\tcalculate_coordinates()\r\n\t{\r\n\t\tconst { placement, screenMargin, offsetTop } = this.props\r\n\r\n\t\tconst width  = this.tooltip.offsetWidth\r\n\t\tconst height = this.tooltip.offsetHeight\r\n\r\n\t\tconst origin = getOffset(this.origin)\r\n\r\n\t\tlet top\r\n\t\tlet left\r\n\r\n\t\tswitch (getEdge(placement)) {\r\n\t\t\tcase 'top':\r\n\t\t\t\ttop = origin.top - height\r\n\t\t\t\tbreak\r\n\t\t\tcase 'bottom':\r\n\t\t\t\ttop = origin.top + origin.height\r\n\t\t\t\tbreak\r\n\t\t\tcase 'left':\r\n\t\t\t\tleft = origin.left - width\r\n\t\t\t\tbreak\r\n\t\t\tcase 'right':\r\n\t\t\t\tleft = origin.left + origin.width\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\tswitch (getEdge(placement)) {\r\n\t\t\tcase 'top':\r\n\t\t\tcase 'bottom':\r\n\t\t\t\tswitch (getSide(placement)) {\r\n\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\tleft = origin.left\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\tleft = origin.left + origin.width - width\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t// Default: \"center\".\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tleft = origin.left + (origin.width - width) / 2\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t\tcase 'left':\r\n\t\t\tcase 'right':\r\n\t\t\t\tswitch (getSide(placement)) {\r\n\t\t\t\t\tcase 'start':\r\n\t\t\t\t\t\ttop = origin.top\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'end':\r\n\t\t\t\t\t\ttop = origin.top + origin.height - height\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\t// Default: \"center\".\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttop = origin.top + (origin.height - height) / 2\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\tbreak\r\n\t\t}\r\n\r\n\t\treturn fitOnScreen(\r\n\t\t\tleft,\r\n\t\t\ttop + offsetTop - getOffset(this.container()).top,\r\n\t\t\twidth,\r\n\t\t\theight,\r\n\t\t\tscreenMargin\r\n\t\t)\r\n\t}\r\n\r\n\tshow = () =>\r\n\t{\r\n\t\tthis.isShown = true\r\n\r\n\t\t// Play tooltip showing animation\r\n\t\tlet animate = false\r\n\r\n\t\t// If hiding animation is being played,\r\n\t\t// then cancel it, and cancel setting\r\n\t\t// `display` to `none` after it finishes playing.\r\n\t\tif (this.hide_timeout)\r\n\t\t{\r\n\t\t\tclearTimeout(this.hide_timeout)\r\n\t\t\tthis.hide_timeout = undefined\r\n\r\n\t\t\t// Abort tooltip hiding animation.\r\n\t\t\t// It will automatically return to the \"showing\" state.\r\n\t\t\tthis.tooltip.classList.remove('rrui__tooltip--before-hide')\r\n\t\t}\r\n\t\t// Otherwise, the tooltip is hidden (or never been shown)\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Not creating in `componentDidMount()`\r\n\t\t\t// therefore create it here.\r\n\t\t\tif (!this.tooltip)\r\n\t\t\t{\r\n\t\t\t\tthis.createTooltip()\r\n\t\t\t}\r\n\r\n\t\t\t// Play tooltip showing animation\r\n\t\t\tanimate = true\r\n\t\t}\r\n\r\n\t\t// Now that `this.tooltip` has been created,\r\n\t\t// re-render the component so that `ReactDOM.createPortal()` is called.\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.setState({ isShown: true }, () => {\r\n\t\t\t\tconst { accessible } = this.props\r\n\t\t\t\tconst { x, y } = this.calculate_coordinates()\r\n\r\n\t\t\t\tthis.tooltip.style.left = `${x}px`\r\n\t\t\t\tthis.tooltip.style.top  = `${y}px`\r\n\r\n\t\t\t\t// Play tooltip showing animation\r\n\t\t\t\t// (doing it after setting position because\r\n\t\t\t\t//  setting position applies `display: block`)\r\n\t\t\t\t// (whatever that meant, the animation won't work\r\n\t\t\t\t//  if this is done before setting `left` and `top`)\r\n\t\t\t\tif (animate) {\r\n\t\t\t\t\tthis.tooltip.classList.add('rrui__tooltip--after-show')\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.isTouchDevice) {\r\n\t\t\t\t\tdocument.addEventListener('touchstart', this.hideOnTouchOutside)\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve()\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\thide = () =>\r\n\t{\r\n\t\tthis.isShown = false\r\n\r\n\t\tconst { hidingAnimationDuration } = this.props\r\n\r\n\t\t// If already hiding, or if already hidden, then do nothing.\r\n\t\t// if (this.hide_timeout || this.tooltip.style.display === 'none')\r\n\t\tif (this.hide_timeout || !this.tooltip) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\tdocument.removeEventListener('touchstart', this.hideOnTouchOutside)\r\n\t\t}\r\n\r\n\t\t// Play tooltip hiding animation\r\n\t\tthis.tooltip.classList.add('rrui__tooltip--before-hide')\r\n\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\t// Set the tooltip to `display: none`\r\n\t\t\t// after its hiding animation finishes.\r\n\t\t\tthis.hide_timeout = setTimeout(() => {\r\n\t\t\t\tthis.hide_timeout = undefined\r\n\t\t\t\tthis.destroy_tooltip()\r\n\t\t\t\tif (this._isMounted) {\r\n\t\t\t\t\tthis.setState({ isShown: false }, resolve)\r\n\t\t\t\t}\r\n\t\t\t}, hidingAnimationDuration)\r\n\t\t})\r\n\t}\r\n\r\n\thideOnTouchOutside = (event) => {\r\n\t\tif (this.isShown) {\r\n\t\t\t// `this.tooltip` can be `undefined` when `this.isShown` is `true`\r\n\t\t\t// because `this.destroy_tooltip()` method is called before\r\n\t\t\t// `this.setState({ isShown: false })`, and also on \"will unmount\".\r\n\t\t\tif (this.tooltip) {\r\n\t\t\t\tif (!this.tooltip.contains(event.target) &&\r\n\t\t\t\t\t!this.origin.contains(event.target)) {\r\n\t\t\t\t\tthis.hide()\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tscheduleHide() {\r\n\t\tconst { hideTimeout, hideDelay } = this.props\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tthis.hide_on_mouse_leave_timeout = setTimeout(this.hide, hideTimeout || hideDelay)\r\n\t\t}\r\n\t}\r\n\r\n\tcancelHide() {\r\n\t\tclearTimeout(this.hide_on_mouse_leave_timeout)\r\n\t\tthis.hide_on_mouse_leave_timeout = undefined\r\n\t}\r\n\r\n\tonClick = () => {\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide()\r\n\t\t} else {\r\n\t\t\tthis.show().then(() => {\r\n\t\t\t\t// An \"accessible\" tooltip is focused upon being shown.\r\n\t\t\t\tthis.tooltip.focus()\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseMove = () => {\r\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\r\n\t\tthis.onMouseEnter()\r\n\t}\r\n\r\n\tonMouseEnterTooltip = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.isPointerInsideTooltip = true\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.cancelHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseLeaveTooltip = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.isPointerInsideTooltip = false\r\n\r\n\t\tif (this.isPointerInsideElement) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.scheduleHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseEnter = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (DocumentMouseMove.wasMouseMoved) {\r\n\t\t\tthis._onMouseEnter()\r\n\t\t} else {\r\n\t\t\t// This code handles the case when a user has scrolled\r\n\t\t\t// and the mouse pointer got placed over the minimized quote\r\n\t\t\t// but that didn't trigger the \"expand\" action (intentionally)\r\n\t\t\t// and then the user moves the mouse and that should expand\r\n\t\t\t// the minimized quote.\r\n\t\t\tdocument.addEventListener('mousemove', this.onMouseMove)\r\n\t\t}\r\n\t}\r\n\r\n\t_onMouseEnter() {\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.isPointerInsideElement = true\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\treturn this.cancelHide()\r\n\t\t}\r\n\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\t// If the tooltip has no content\r\n\t\t// (e.g. `react-time-ago` first render)\r\n\t\t// or if React Portal API is not available\r\n\t\t// then don't show the tooltip.\r\n\t\tif (!content || !ReactDOM.createPortal) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Shouldn't happen, because\r\n\t\t// `mouse leave` event clears this timeout.\r\n\t\tif (this.show_timeout) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// If the tooltip hiding animation is currently playing,\r\n\t\t// then cancel it and re-show the tooltip.\r\n\t\tif (this.hide_timeout) {\r\n\t\t\treturn this.show()\r\n\t\t}\r\n\r\n\t\tconst { delay } = this.props\r\n\r\n\t\t// Don't show the tooltip immediately\r\n\t\t// but rather wait for the user to\r\n\t\t// \"mouse over\" it for a short time interval.\r\n\t\t// (prevents false positives)\r\n\t\tthis.show_timeout = setTimeout(() => {\r\n\t\t\tthis.show_timeout = undefined\r\n\t\t\tthis.show()\r\n\t\t},\r\n\t\tdelay)\r\n\t}\r\n\r\n\tonMouseLeave = () =>\r\n\t{\r\n\t\t// mouse enter and mouse leave events\r\n\t\t// are triggered on mobile devices too\r\n\t\tif (this.isTouchDevice) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// The `mousemove` listener might have, or might have not,\r\n\t\t// been added, so remove it (if it has been added).\r\n\t\tdocument.removeEventListener('mousemove', this.onMouseMove)\r\n\r\n\t\tthis.isPointerInsideElement = false\r\n\r\n\t\tif (this.isPointerInsideTooltip) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// If tooltip hasn't been shown yet,\r\n\t\t// then cancel showing it.\r\n\t\tif (this.show_timeout) {\r\n\t\t\tclearTimeout(this.show_timeout)\r\n\t\t\tthis.show_timeout = undefined\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Otherwise, the tooltip is shown, so hide it.\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.scheduleHide()\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchStartSetTouchDevice = () => this.isTouchDevice = true\r\n\r\n\tonTouchStart = () =>\r\n\t{\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\t// mouse enter events won't be processed from now on\r\n\t\tthis.isTouchDevice = true\r\n\r\n\t\t// If the tooltip has no content\r\n\t\t// (e.g. `react-time-ago` first render)\r\n\t\t// or if React Portal API is not available\r\n\t\t// then don't show the tooltip.\r\n\t\tif (!content || !ReactDOM.createPortal) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (this.isShown) {\r\n\t\t\tthis.hide()\r\n\t\t} else {\r\n\t\t\tthis.show()\r\n\t\t}\r\n\t}\r\n\r\n\tonTouchEnd = () => {}\r\n\r\n\t// Is used on the tooltip itself in \"accessible\" mode.\r\n\tonFocusOut = (event) => {\r\n\t\tif (!this.tooltip.contains(event.relatedTarget) &&\r\n\t\t\t!this.origin.contains(event.relatedTarget)) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\t// This handler is used both on tooltip toggle button\r\n\t// and the tooltip itself.\r\n\tonKeyDown = (event) => {\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// Hide on \"Escape\".\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Hide (if not already hidden).\r\n\t\t\t\tthis.hide()\r\n\t\t\t\tconst { accessible } = this.props\r\n\t\t\t\tif (accessible) {\r\n\t\t\t\t\tthis.origin.focus()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tstoreOriginNode = (ref) => this.origin = ref\r\n\r\n\trenderContent() {\r\n\t\tconst {\r\n\t\t\tcontent,\r\n\t\t\tcomponent: Component,\r\n\t\t\tcomponentProps\r\n\t\t} = this.props\r\n\t\tif (content) {\r\n\t\t\treturn content\r\n\t\t}\r\n\t\tif (Component) {\r\n\t\t\treturn (\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...componentProps}\r\n\t\t\t\t\thide={this.hide}/>\r\n\t\t\t)\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\t// Shows tooltip on mouse over when on desktop.\r\n\t\t// Shows tooltip on touch when on mobile.\r\n\r\n\t\t// `ReactDOM.createPortal()` requires React >= 16.\r\n\t\t// If it's not available then it won't show the tooltip.\r\n\r\n\t\tconst content = this.renderContent()\r\n\r\n\t\tconst tooltip = this.tooltip && content && ReactDOM.createPortal &&\r\n\t\t\tReactDOM.createPortal(content, this.tooltip)\r\n\r\n\t\t// For React >= 16.2.\r\n\t\t// Disable React portal event bubbling.\r\n\t\t// https://github.com/facebook/react/issues/11387#issuecomment-340019419\r\n\t\tif (React.Fragment) {\r\n\t\t\treturn (\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t{this._render()}\r\n\t\t\t\t\t{tooltip}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t)\r\n\t\t} else {\r\n\t\t\t// Legacy version support.\r\n\t\t\t// Can be a bit buggy in some rare cases of mouseentering and mouseleaving.\r\n\t\t\t// Will be removed in some future major version release.\r\n\t\t\treturn this._render(tooltip)\r\n\t\t}\r\n\t}\r\n\r\n\t_render(extraChildren) {\r\n\t\tconst\r\n\t\t{\r\n\t\t\taccessible,\r\n\t\t\tinline,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tchildren,\r\n\t\t\t// Rest.\r\n\t\t\tplacement,\r\n\t\t\tcontent,\r\n\t\t\tcontainer,\r\n\t\t\tcomponent,\r\n\t\t\tcomponentProps,\r\n\t\t\tdelay,\r\n\t\t\thideDelay,\r\n\t\t\thideTimeout,\r\n\t\t\thidingAnimationDuration,\r\n\t\t\tscreenMargin,\r\n\t\t\toffsetTop,\r\n\t\t\ttooltipClassName,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isShown } = this.state\r\n\r\n\t\tconst Component = accessible ? 'button' : 'div'\r\n\r\n\t\t// There's no WAI-ARIA example of an `aria-role=\"tooltip\"` widget.\r\n\t\t// https://www.w3.org/TR/wai-aria-practices-1.1/#tooltip\r\n\t\t//\r\n\t\t// `aria-haspopup`:\r\n\t\t// https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup\r\n\t\t// WAI-ARIA 1.1 is not yet supported, so not using `aria-haspopup=\"...\"`.\r\n\r\n\t\treturn (\r\n\t\t\t<Component\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ this.storeOriginNode }\r\n\t\t\t\tonMouseEnter={ this.onMouseEnter }\r\n\t\t\t\tonMouseLeave={ this.onMouseLeave }\r\n\t\t\t\tonClick={ accessible ? this.onClick : undefined }\r\n\t\t\t\tonTouchStart={ accessible ? this.onTouchStartSetTouchDevice : this.onTouchStart }\r\n\t\t\t\tonTouchEnd={ accessible ? undefined : this.onTouchEnd }\r\n\t\t\t\tonTouchMove={ accessible ? undefined : this.hide }\r\n\t\t\t\tonTouchCancel={ accessible ? undefined : this.hide }\r\n\t\t\t\taria-expanded={ accessible ? isShown : undefined}\r\n\t\t\t\ttype={ accessible ? 'button' : undefined }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__tooltip__target', {\r\n\t\t\t\t\t'rrui__button-reset': accessible,\r\n\t\t\t\t\t'rrui__tooltip__target--inline': inline\r\n\t\t\t\t}) }>\r\n\t\t\t\t{ children }\r\n\t\t\t\t{ extraChildren }\r\n\t\t\t</Component>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction fitOnScreen(x, y, width, height, minimal_margin)\r\n{\r\n\tif (x < minimal_margin)\r\n\t{\r\n\t\tx = minimal_margin\r\n\t}\r\n\telse if (x + width + minimal_margin > window.innerWidth)\r\n\t{\r\n\t\tx -= (x + width + minimal_margin) - window.innerWidth\r\n\t}\r\n\r\n\tif (y < window.pageYOffset + minimal_margin)\r\n\t{\r\n\t\ty = window.pageYOffset + minimal_margin\r\n\t}\r\n\telse if (y + height + minimal_margin > window.pageYOffset + window.innerHeight)\r\n\t{\r\n\t\ty -= (y + height + minimal_margin) - (window.pageYOffset + window.innerHeight)\r\n\t}\r\n\r\n\treturn { x, y }\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"top\", \"right\", \"bottom\", \"left\".\r\n */\r\nfunction getEdge(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(0, dashIndex)\r\n\t}\r\n\treturn placement\r\n}\r\n\r\n/**\r\n * @param  {string} placement\r\n * @return {string} One of: \"start\", \"center\", \"end\".\r\n */\r\nfunction getSide(placement) {\r\n\tconst dashIndex = placement.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn placement.slice(dashIndex + '-'.length)\r\n\t}\r\n\treturn 'center'\r\n}\r\n\r\nconst DocumentMouseMove = {\r\n\twasMouseMoved: false\r\n}\r\n\r\nfunction onDocumentMouseMove() {\r\n\tDocumentMouseMove.wasMouseMoved = true\r\n}\r\n\r\nfunction onDocumentScroll() {\r\n\tDocumentMouseMove.wasMouseMoved = false\r\n}\r\n\r\n// There could be several thousand minimized post link quotes on a page\r\n// (when not using `<VirtualScroller/>`). So, in order not to add\r\n// several thousand `mousemove` and `scroll` listeners,\r\n// a single one for each of these two events is added instead.\r\nif (typeof document !== 'undefined') {\r\n\tdocument.addEventListener('mousemove', onDocumentMouseMove)\r\n\tdocument.addEventListener('scroll', onDocumentScroll)\r\n}","// Taken from:\r\n// https://loading.io/css/\r\n//\r\n// A colored variation:\r\n// https://codeburst.io/how-to-create-a-simple-css-loading-spinner-make-it-accessible-e5c83c2e464c\r\n\r\nimport React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default function ActivityIndicator(props)\r\n{\r\n\tconst { className } = props\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\t{ ...props }\r\n\t\t\tclassName={ classNames('rrui__activity-indicator', className) }>\r\n\t\t\t<div className=\"rrui__activity-indicator__arc\"/>\r\n\t\t\t<div className=\"rrui__activity-indicator__arc\"/>\r\n\t\t\t<div className=\"rrui__activity-indicator__arc\"/>\r\n\t\t\t<div className=\"rrui__activity-indicator__arc\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nActivityIndicator.propTypes =\r\n{\r\n\t// CSS class\r\n\tclassName : PropTypes.string,\r\n\r\n\t// CSS style object\r\n\tstyle     : PropTypes.object\r\n}","import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\n// https://martinwolf.org/blog/2015/01/pure-css-savingloading-dots-animation\r\nexport default function Ellipsis({ className, style })\r\n{\r\n\treturn (\r\n\t\t<div className={ classNames('rrui__ellipsis', className) } style={ style }>\r\n\t\t\t<div className=\"rrui__ellipsis__size\">\r\n\t\t\t\t<div className=\"rrui__ellipsis__dots\">\r\n\t\t\t\t\t<div className=\"rrui__ellipsis__dot rrui__ellipsis__dot--1\" />\r\n\t\t\t\t\t<div className=\"rrui__ellipsis__dot rrui__ellipsis__dot--2\" />\r\n\t\t\t\t\t<div className=\"rrui__ellipsis__dot rrui__ellipsis__dot--3\" />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}","import React, { useRef, useMemo, useCallback, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport throttle from 'lodash/throttle'\r\nimport createRef from 'react-create-ref'\r\n\r\nimport { getModularGridUnit } from './utility/grid'\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\n\r\nfunction TextInput({\r\n\tvalue,\r\n\tmultiline,\r\n\tinputComponent,\r\n\t// `focus` property is deprecated. Use `autoFocus` instead.\r\n\tfocus,\r\n\tonChange,\r\n\tonKeyDown,\r\n\tdisabled,\r\n\treadOnly,\r\n\tlabel,\r\n\tplaceholder,\r\n\ttype,\r\n\tautoresize,\r\n\terror,\r\n\tinitialHeight,\r\n\tonHeightChange,\r\n\tinputStyle: originalInputStyle,\r\n\tclassName,\r\n\r\n\t// Rest\r\n\tcontainerRef,\r\n\tfloatingLabel,\r\n\trequired,\r\n\tchildren,\r\n\t...rest\r\n}, ref) {\r\n\tconst input = useRef()\r\n\tconst hiddenTextArea = useRef()\r\n\t// hiddenTextAreaSingleLine = createRef()\r\n\r\n\tconst autoResize = useMemo(() => {\r\n\t\tif (multiline && autoresize) {\r\n\t\t\treturn new Autoresize(\r\n\t\t\t\t() => input.current,\r\n\t\t\t\t() => hiddenTextArea.current,\r\n\t\t\t\t{\r\n\t\t\t\t\tinitialHeight,\r\n\t\t\t\t\tonHeightChange\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\t}, [])\r\n\r\n\t// On component update.\r\n\tuseEffect(() => {\r\n\t\tif (multiline && autoresize) {\r\n\t\t\tif (autoResize.initialized) {\r\n\t\t\t\tautoResize.resize()\r\n\t\t\t}\r\n\t\t}\r\n\t})\r\n\r\n\t// Client side rendering, javascript is enabled\r\n\tuseEffect(() =>  {\r\n\t\tif (multiline && autoresize) {\r\n\t\t\t// Doing `this.init()` here\r\n\t\t\t// because `<textarea/>` should autoresize\r\n\t\t\t// in case its `value` is set up front.\r\n\t\t\tautoResize.init()\r\n\t\t\tconst onWindowResize = throttle((event) => autoResize.resize(), 100)\r\n\t\t\twindow.addEventListener('resize', onWindowResize)\r\n\t\t\treturn () => {\r\n\t\t\t\twindow.removeEventListener('resize', onWindowResize)\r\n\t\t\t}\r\n\t\t}\r\n\t}, [])\r\n\r\n\t// The underlying `input` component\r\n\t// can pass both `event`s and `value`s\r\n\t// to this parent `onChange` listener.\r\n\tconst _onChange = useCallback((event) => {\r\n\t\t// Extract `value` from the argument\r\n\t\t// of this `onChange` listener\r\n\t\t// (for convenience)\r\n\t\tlet newValue = event\r\n\t\tif (event && event.target) {\r\n\t\t\tnewValue = event.target.value\r\n\t\t}\r\n\t\t// Call the parent `onChange` handler\r\n\t\t// with the `value` as an argument (for convenience).\r\n\t\t// Call `onChange` only if `value` did actually change\r\n\t\tif (newValue !== value) {\r\n\t\t\tonChange(newValue)\r\n\t\t}\r\n\t}, [value, onChange])\r\n\r\n\tconst _onKeyDown = useCallback((event) => {\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (submitFormOnCtrlEnter(event, input.current)) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}, [onKeyDown, input])\r\n\r\n\tconst storeInputNode = useCallback((node) => {\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(node)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = node\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput.current = node\r\n\t}, [input, ref]);\r\n\r\n\tconst inputStyle = useMemo(() => {\r\n\t\tif (multiline && autoresize) {\r\n\t\t\treturn {\r\n\t\t\t\tresize: 'none',\r\n\t\t\t\t...originalInputStyle\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn originalInputStyle\r\n\t}, [multiline, autoresize, originalInputStyle])\r\n\r\n\tconst inputStyleAutoHeight = useMemo(() => {\r\n\t\tif (multiline && autoresize) {\r\n\t\t\treturn {\r\n\t\t\t\theight: autoResize.getHeight(),\r\n\t\t\t\t...inputStyle\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn inputStyle\r\n\t}, [multiline, autoresize, inputStyle, autoResize])\r\n\r\n\tconst properties = {\r\n\t\t// Placed `autoFocus` before `...rest` so that\r\n\t\t// it doesn't override an already passed `autoFocus`.\r\n\t\t// `focus` property is deprecated. Use `autoFocus` instead.\r\n\t\tautoFocus: focus,\r\n\t\tplaceholder,\r\n\t\tdisabled,\r\n\t\treadOnly,\r\n\t\t...rest,\r\n\r\n\t\t// Set `aria-label`, if none passed.\r\n\t\t'aria-label': rest['aria-label'] === undefined\r\n\t\t\t? (rest['aria-labelledby'] || rest['aria-describedby']\r\n\t\t\t\t? undefined\r\n\t\t\t\t: label\r\n\t\t\t)\r\n\t\t\t: rest['aria-label'],\r\n\r\n\t\t// Set `aria-required`, if none passed.\r\n\t\t'aria-required': rest['aria-required'] === undefined\r\n\t\t\t? (required ? true : undefined)\r\n\t\t\t: rest['aria-required'],\r\n\r\n\t\t// Set `aria-invalid`, if none passed.\r\n\t\t'aria-invalid': rest['aria-invalid'] === undefined\r\n\t\t\t? (error ? true : undefined)\r\n\t\t\t: rest['aria-invalid'],\r\n\r\n\t\tref: storeInputNode,\r\n\t\tvalue: isEmptyValue(value) ? '' : value,\r\n\t\tonChange: _onChange,\r\n\t\tonKeyDown: _onKeyDown,\r\n\t\tstyle: inputStyleAutoHeight,\r\n\t\tclassName: classNames(\r\n\t\t\tclassName,\r\n\t\t\t// `<TextInput/>` has `border-color` to indicate its `:focus` state.\r\n\t\t\t// Therefore the `outline` can be safely removed.\r\n\t\t\t'rrui__outline',\r\n\t\t\t'rrui__input-element',\r\n\t\t\t'rrui__input-field', {\r\n\t\t\t\t'rrui__input-field--empty': isEmptyValue(value),\r\n\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t'rrui__input-field--invalid'   : error,\r\n\t\t\t\t'rrui__input-field--disabled'  : disabled || readOnly,\r\n\t\t\t\t'rrui__input-field--multiline' : multiline\r\n\t\t\t}\r\n\t\t)\r\n\t}\r\n\r\n\t// In case of `multiline` set to `true`\r\n\t// this is gonna be a `<textarea/>`\r\n\tif (multiline) {\r\n\t\tif (autoresize) {\r\n\t\t\treturn [\r\n\t\t\t\t// <textarea\r\n\t\t\t\t// \tkey=\"textarea-measurement-single-line\"\r\n\t\t\t\t// \tref={this.hiddenTextAreaSingleLine}\r\n\t\t\t\t// \trows=\"1\"\r\n\t\t\t\t// \treadOnly\r\n\t\t\t\t// \taria-hidden=\"true\"\r\n\t\t\t\t// \tvalue=\"\"\r\n\t\t\t\t// \ttabIndex={-1}\r\n\t\t\t\t// \tclassName={properties.className}\r\n\t\t\t\t// \tstyle={inputStyle ? { ...inputStyle, ...HIDDEN_TEXTAREA_STYLE } : HIDDEN_TEXTAREA_STYLE}/>,\r\n\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tkey=\"textarea-measurement\"\r\n\t\t\t\t\tref={hiddenTextArea}\r\n\t\t\t\t\treadOnly\r\n\t\t\t\t\taria-hidden\r\n\t\t\t\t\tvalue={properties.value}\r\n\t\t\t\t\trows={properties.rows}\r\n\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\tclassName={properties.className}\r\n\t\t\t\t\tstyle={inputStyle ? { ...inputStyle, ...HIDDEN_TEXTAREA_STYLE } : HIDDEN_TEXTAREA_STYLE}/>,\r\n\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tkey=\"textarea\"\r\n\t\t\t\t\t{ ...properties }/>\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\treturn <textarea key=\"textarea\" { ...properties }/>\r\n\t}\r\n\r\n\t// Add `<input/>` `type` property.\r\n\tif (inputComponent === 'input') {\r\n\t\tproperties.type = type || 'text'\r\n\t}\r\n\r\n\treturn React.createElement(inputComponent, properties)\r\n}\r\n\r\nTextInput = React.forwardRef(TextInput)\r\n\r\nTextInput.propTypes =\r\n{\r\n\t// `<input type/>` attribute.\r\n\ttype : PropTypes.string,\r\n\r\n\t// Whether `<textarea/>` should autoresize itself\r\n\t// (is `true` by default)\r\n\tautoresize : PropTypes.bool.isRequired,\r\n\r\n\tinitialHeight: PropTypes.number,\r\n\tonHeightChange: PropTypes.func,\r\n\r\n\t// In order for this to work properly\r\n\t// `<textarea/>` vertical padding should be `0`\r\n\t// and instead the padding should be defined on `<textarea/>` parent `<div/>`\r\n\t// like it's done in Material UI.\r\n\t// Otherwise it won't look pretty and the line of text near the top border\r\n\t// will be partially visible resulting in weird UX.\r\n\t// If `<textarea/>` vertical padding was `0`\r\n\t// the line of text near the top border wouldn't be visible.\r\n\t// // The maximum number of rows <textarea/> grows up to.\r\n\t// rowsMax          : PropTypes.number.isRequired,\r\n\r\n\t// Set to `false` to prevent the `<label/>` from floating\r\n\tfloatingLabel    : PropTypes.bool.isRequired,\r\n\r\n\t// A custom input component.\r\n\t// (is `<input/>` by default)\r\n\tinputComponent   : PropTypes.elementType.isRequired,\r\n\r\n\t// Indicates that the input is invalid.\r\n\terror: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool\r\n\t]),\r\n}\r\n\r\nTextInput.defaultProps =\r\n{\r\n\t// `<textarea/>` should autoresize itself\r\n\tautoresize : true,\r\n\r\n\t// Set to `false` to prevent the `<label/>` from floating\r\n\tfloatingLabel : true,\r\n\r\n\t// A custom input component.\r\n\t// (is `<input/>` by default)\r\n\tinputComponent : 'input',\r\n\r\n\t// // The maximum number of rows <textarea/> grows up to.\r\n\t// rowsMax : 12\r\n}\r\n\r\nexport default TextInput\r\n\r\n// https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/InputBase/Textarea.js\r\nconst HIDDEN_TEXTAREA_STYLE = {\r\n\t// Overflow also needed to here to remove the extra row\r\n\t// added to `<textarea/>`s in Firefox.\r\n\toverflow: 'hidden',\r\n\t// Visibility needed to hide the extra `<textarea/>` on iPads.\r\n\tvisibility: 'hidden',\r\n\tposition: 'absolute',\r\n\t// Don't know why is it here.\r\n\twhiteSpace: 'pre-wrap'\r\n}\r\n\r\nfunction isEmptyValue(value) {\r\n\treturn value === '' || value === undefined || value === null\r\n}\r\n\r\nclass Autoresize {\r\n\tconstructor(getInput, getHiddenTextArea, {\r\n\t\tinitialHeight,\r\n\t\tonHeightChange\r\n\t}) {\r\n\t\tthis.getInput = getInput\r\n\t\tthis.getHiddenTextArea = getHiddenTextArea\r\n\t\tthis.onHeightChange = onHeightChange\r\n\r\n\t\tthis.currentHeight = initialHeight\r\n\t\tthis.verticalPadding = 0\r\n\t\tthis.bordersHeight = 0\r\n\r\n\t\tthis.initAttempts = 0\r\n\t}\r\n\r\n\tgetHeight() {\r\n\t\treturn this.currentHeight\r\n\t}\r\n\r\n\t// Copy-pasted from Material UI on Oct 24th, 2018.\r\n\t// https://github.com/mui-org/material-ui/blob/master/packages/material-ui/src/InputBase/Textarea.js\r\n\t// There's a newer version of it (didn't copy-paste):\r\n\t// https://github.com/mui/material-ui/blob/master/packages/mui-base/src/TextareaAutosize/TextareaAutosize.js\r\n\tresize() {\r\n\t\tconst hiddenTextArea = this.getHiddenTextArea()\r\n\r\n\t\t// \"Guarding for **broken** shallow rendering method that call componentDidMount\r\n\t\t//  but doesn't handle refs correctly.\r\n\t\t//  To remove once the shallow rendering has been fixed.\"\r\n\t\tif (!hiddenTextArea) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// const lineHeight = this.hiddenTextAreaSingleLine.current.scrollHeight - verticalPadding.current\r\n\t\tlet height = hiddenTextArea.scrollHeight\r\n\r\n\t\t// \"Guarding for jsdom, where scrollHeight isn't present.\r\n\t\t//  See https://github.com/tmpvar/jsdom/issues/1013\"\r\n\t\tif (height === undefined) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// `.scrollHeight` doesn't include borders.\r\n\t\t// `.style.height` does include borders.\r\n\t\theight += this.bordersHeight\r\n\r\n\t\t// `.scrollHeight` doesn't support fractional pixels precision (\"retina\" screens):\r\n\t\t// https://stackoverflow.com/questions/21666892/fractional-scrollheight\r\n\t\t// That would sometimes result in weird sub-pixel changes of height where they aren't required.\r\n\t\t// For example, when initially rendering a \"stub\" single-row `<textarea/>`\r\n\t\t// and then, after measuring it, rendering the \"real\" one that is `0.5px` higher.\r\n\t\t// Libraries like `virtual-scroller` wouldn't like such \"unmotivated\" changes in the height.\r\n\t\tconst nonScrollHeight = hiddenTextArea.getBoundingClientRect().height\r\n\t\tif (Math.abs(height - nonScrollHeight) < 1) {\r\n\t\t\t// `nonScrollHeight` has fractional pixel precision.\r\n\t\t\theight = nonScrollHeight\r\n\t\t}\r\n\r\n\t\t// if (height <= this.minHeight) {\r\n\t\t// \theight = this.minHeight\r\n\t\t// }\r\n\r\n\t\t// This seems no longer relevant:\r\n\t\t//\r\n\t\t// // For some weird reason Chrome on Windows 10\r\n\t\t// // requires an extra pixel been added\r\n\t\t// // to avoid showing vertical scrollbar.\r\n\t\t// // (Oct 24th, 2018)\r\n\t\t// // else {\r\n\t\t// \theight += 1\r\n\t\t// // }\r\n\r\n\t\t// \"Need a large enough different to update the height.\r\n\t\t//  This prevents infinite rendering loop.\"\r\n\t\t// By that, they were referring to the `> 1` condition below.\r\n\t\t// It's unclear what exact cause of the issue they were talking about.\r\n\t\tif (this.currentHeight === undefined || Math.abs(this.currentHeight - height) > 1) {\r\n\t\t\tthis.currentHeight = height\r\n\t\t\t// `.style.height` includes borders.\r\n\t\t\tthis.getInput().style.height = height + 'px'\r\n\r\n\t\t\tif (this.onHeightChange) {\r\n\t\t\t\tthis.onHeightChange(height)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// `height` works incorrectly in some weird cases.\r\n\t// For example, when `<textarea/>` is hidden when mounted\r\n\t// or when there's no stylesheet loaded yet.\r\n\t// For example, when stylesheets are included \"dynamically\"\r\n\t// like Webpack's `style-loader` does (is used in development mode,\r\n\t// or when using \"code splitting\" when \"chunks\" are `import()`ed dynamically).\r\n\t//\r\n\t// https://stackoverflow.com/questions/39400038/how-to-ensure-that-hot-css-loads-before-js-in-webpack-dev-server\r\n\t// https://github.com/webpack-contrib/style-loader/issues/269\r\n\t//\r\n\t// An alternative solution would be:\r\n\t//\r\n\t// input.current.minHeight = 0\r\n\t// input.current.minHeight = input.current.scrollHeight + bordersHeight.current\r\n\t//\r\n\t// or:\r\n\t//\r\n\t// input.current.minHeight = hiddenTextArea.current.scrollHeight + bordersHeight.current\r\n\t//\r\n\t// which wouldn't ever undersize the <textarea/>\r\n\t// but it would oversize it due to the incorrect\r\n\t// <textarea/> width before styles are loaded.\r\n\t//\r\n\tinit = () => {\r\n\t\t// Exit if the component is no longer mounted.\r\n\t\tif (!this.getInput()) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.initAttempts++\r\n\t\tthis.getMeasurements()\r\n\t\tif (this.haveStylesLoaded()) {\r\n\t\t\tthis.resize()\r\n\t\t}\r\n\t\tthis.initialized = true\r\n\t\t// Even if padding on <textarea/> has been set\r\n\t\t// it's still possible that `font-size` hasn't been set yet.\r\n\t\t// Or it could be another padding in a subsequent stylesheet.\r\n\t\t// So keep re-initializing <textarea/>, say, for a second.\r\n\t\tif (this.initAttempts <= 5) {\r\n\t\t\tsetTimeout(this.init, 200)\r\n\t\t}\r\n\t}\r\n\r\n\tgetMeasurements() {\r\n\t\tconst style = getComputedStyle(this.getInput())\r\n\r\n\t\t// // Measurements can be in `em`s/`rem`s/`pt`s which can give fractional pixel sizes.\r\n\t\t// // `style.height` includes borders.\r\n\t\t// currentHeight.current = parseFloat(style.height)\r\n\t\t// this.minHeight = currentHeight.current\r\n\r\n\t\t// Get vertical padding.\r\n\t\t// Measurements can be in `em`s/`rem`s/`pt`s which can give fractional pixel sizes.\r\n\t\tthis.verticalPadding = parseFloat(style.paddingTop) + parseFloat(style.paddingBottom)\r\n\r\n\t\t// Top and bottom borders are extra height,\r\n\t\t// because `.scrollHeight` doesn't include borders.\r\n\t\t// Measurements can be in `em`s/`rem`s/`pt`s which can give fractional pixel sizes.\r\n\t\tthis.bordersHeight =\r\n\t\t\tparseFloat(style.borderTopWidth) +\r\n\t\t\tparseFloat(style.borderBottomWidth)\r\n\t}\r\n\r\n\t// Even if padding on <textarea/> has been set\r\n\t// it's still possible that `font-size` hasn't been set yet.\r\n\t// (it happened in a project)\r\n\t// So this function doesn't guarantee anything.\r\n\thaveStylesLoaded() {\r\n\t\t// The default <textarea/> top/bottom padding in Chrome on Windows is 2px.\r\n\t\t// `react-responsive-ui` multiline text inputs are supposed to have larger padding.\r\n\t\treturn this.verticalPadding > 2 * 2\r\n\t}\r\n}","import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\nexport default function TextInputLabel({\r\n\tinputId,\r\n\tvalue,\r\n\trequired,\r\n\tinvalid,\r\n\tfloats,\r\n\tchildren,\r\n\t...rest\r\n}) {\r\n\treturn (\r\n\t\t<label\r\n\t\t\t{...rest}\r\n\t\t\thtmlFor={inputId}\r\n\t\t\tclassName={classNames('rrui__input-label',\r\n\t\t\t{\r\n\t\t\t\t'rrui__input-label--required'          : required && isEmptyOrBlank(value),\r\n\t\t\t\t'rrui__input-label--required-field'    : required,\r\n\t\t\t\t'rrui__input-label--invalid'           : invalid,\r\n\t\t\t\t'rrui__input-label--floating'          : floats,\r\n\t\t\t\t'rrui__text-input__label--placeholder' : floats && isEmptyOrBlank(value)\r\n\t\t\t})}>\r\n\t\t\t{children}\r\n\t\t</label>\r\n\t)\r\n}\r\n\r\nfunction isEmptyOrBlank(value) {\r\n\t// Whitespace strings are considered empty.\r\n\tif (typeof value === 'string') {\r\n\t\treturn !value || !value.trim()\r\n\t}\r\n\treturn value === undefined || value === null\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport Input from './TextInputInput'\r\nimport Label from './TextInputLabel'\r\n\r\n// `<input/>` and its `<label/>`.\r\nfunction TextInputComponent({\r\n\ticon: Icon,\r\n\tclassName,\r\n\tchildren,\r\n\t...rest\r\n}, ref) {\r\n\tconst {\r\n\t\tid,\r\n\t\tvalue,\r\n\t\trequired,\r\n\t\tfloatingLabel,\r\n\t\tlabel,\r\n\t\tplaceholder,\r\n\t\tmultiline,\r\n\t\terror,\r\n\t\tcontainerRef\r\n\t} = rest\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tref={containerRef}\r\n\t\t\tclassName={classNames('rrui__input', {\r\n\t\t\t\t'rrui__input--multiline' : multiline,\r\n\t\t\t})}>\r\n\r\n\t\t\t{Icon &&\r\n\t\t\t\t<Icon className=\"rrui__input-field__icon\"/>\r\n\t\t\t}\r\n\r\n\t\t\t{/* `<input/>` */}\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tclassName={classNames(className, {\r\n\t\t\t\t\t'rrui__input-field--with-icon': Icon\r\n\t\t\t\t})}/>\r\n\r\n\t\t\t{/* Input `<label/>`. */}\r\n\t\t\t{/* It is rendered after the input to utilize the\r\n\t\t       `input:focus + label` CSS selector rule */}\r\n\t\t\t{label &&\r\n\t\t\t\t<Label\r\n\t\t\t\t\taria-hidden\r\n\t\t\t\t\tinputId={id}\r\n\t\t\t\t\tvalue={value}\r\n\t\t\t\t\trequired={required}\r\n\t\t\t\t\tinvalid={error}\r\n\t\t\t\t\tfloats={floatingLabel && !placeholder}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</Label>\r\n\t\t\t}\r\n\r\n\t\t\t{/* `children` are placed after the `<input/>`\r\n\t\t\t    so that in cases when they're `position: absolute`\r\n\t\t\t    then their default top position is right below the `<input/>`.\r\n\t\t\t    For example, this is used in `<DatePicker/>` so that\r\n\t\t\t    the list of options is displayed right below the `<input/>`. */}\r\n\t\t\t{children}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nTextInputComponent = React.forwardRef(TextInputComponent)\r\n\r\nTextInputComponent.propTypes = {\r\n\t// Set to `true` to mark the field as required.\r\n\trequired : PropTypes.bool.isRequired,\r\n\r\n\t// Indicates that the input is invalid.\r\n\terror: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool\r\n\t]),\r\n\r\n\t// Labels float by default.\r\n\tfloatingLabel : PropTypes.bool.isRequired,\r\n\r\n\t// `<input/>` icon.\r\n\ticon : PropTypes.func\r\n}\r\n\r\nTextInputComponent.defaultProps = {\r\n\t// Set to `true` to mark the field as required.\r\n\trequired : false,\r\n\r\n\t// Labels float by default.\r\n\tfloatingLabel : true\r\n}\r\n\r\nexport default TextInputComponent","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\n/**\r\n * .rrui__interaction--pointer {\r\n *   outline: none;\r\n *   box-shadow: none;\r\n * }\r\n * <Interaction><input .../></Interaction>\r\n * <Interaction><button .../></Interaction>\r\n */\r\nexport default function WithError(props) {\r\n\tconst {\r\n\t\tsetRef,\r\n\t\terror,\r\n\t\tchildren,\r\n\t\t...rest\r\n\t} = props\r\n\treturn (\r\n\t\t<div ref={setRef} {...rest}>\r\n\t\t\t{children}\r\n\t\t\t{/* Error message */}\r\n\t\t\t{error && typeof error === 'string' &&\r\n\t\t\t\t<div className=\"rrui__input-error\">\r\n\t\t\t\t\t{error}\r\n\t\t\t\t</div>\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nWithError.propTypes = {\r\n\tsetRef : PropTypes.func,\r\n\r\n\t// Renders an error message below the `<input/>`\r\n\terror : PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool\r\n\t]),\r\n\r\n\t// CSS style object\r\n\tstyle : PropTypes.object,\r\n\r\n\t// CSS name\r\n\tclassName : PropTypes.string,\r\n\r\n\tchildren : PropTypes.node.isRequired\r\n}","// This `onBlur` interceptor is a workaround for `redux-form`,\r\n// so that it gets the right (parsed, not the formatted one)\r\n// `event.target.value` in its `onBlur` handler.\r\nexport function onBlurForReduxForm(onBlur, event, value)\r\n{\r\n\tconst _event =\r\n\t{\r\n\t\t...event,\r\n\t\ttarget:\r\n\t\t{\r\n\t\t\t...event.target,\r\n\t\t\tvalue\r\n\t\t}\r\n\t}\r\n\r\n\t// For `redux-form` event detection.\r\n\t// https://github.com/erikras/redux-form/blob/v5/src/events/isEvent.js\r\n\t_event.stopPropagation = event.stopPropagation\r\n\t_event.preventDefault  = event.preventDefault\r\n\r\n\tonBlur(_event)\r\n}","import React, { useState, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport Input from './TextInputComponent'\r\nimport WithError from './WithError'\r\n\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\n\r\nfunction TextInput({\r\n\tvalue,\r\n\tonFocus,\r\n\tonBlur,\r\n\tshowErrorMessage,\r\n\terror,\r\n\tstyle,\r\n\tclassName,\r\n\t// Deprecated.\r\n\t// Use `type=\"password\"` instead.\r\n\tpassword,\r\n\t// Deprecated.\r\n\t// Use `type=\"email\"` instead.\r\n\temail,\r\n\t...rest\r\n}, ref) {\r\n\tconst [isFocused, setFocused] = useState()\r\n\r\n\tconst _onFocus = useCallback((event) => {\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\tsetFocused(true)\r\n\t}, [onFocus, setFocused])\r\n\r\n\tconst _onBlur = useCallback((event) => {\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t\tsetFocused(false)\r\n   }, [onBlur, setFocused, value])\r\n\r\n\t// Deprecated.\r\n\t// Use `type=\"password\"` instead.\r\n\tif (password) {\r\n\t\trest.type = 'password'\r\n\t}\r\n\r\n\t// Deprecated.\r\n\t// Use `type=\"email\"` instead.\r\n\tif (email) {\r\n\t\trest.type = 'email'\r\n\t}\r\n\r\n\treturn (\r\n\t\t<WithError\r\n\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={classNames(className, 'rrui__text-input', {\r\n\t\t\t\t'rrui__text-input--focus': isFocused\r\n\t\t\t})}>\r\n\r\n\t\t\t<Input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ref}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\terror={error}\r\n\t\t\t\tonFocus={_onFocus}\r\n\t\t\t\tonBlur={_onBlur} />\r\n\t\t</WithError>\r\n\t)\r\n}\r\n\r\nTextInput = React.forwardRef(TextInput)\r\n\r\nTextInput.propTypes =\r\n{\r\n\t// Text field label\r\n\tlabel            : PropTypes.string,\r\n\r\n\t// HTML form input `name` attribute\r\n\tname             : PropTypes.string,\r\n\r\n\t// Text field value\r\n\tvalue            : PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n\r\n\t// Is called when the `value` is edited\r\n\tonChange         : PropTypes.func.isRequired,\r\n\r\n\t// A custom input component.\r\n\tinputComponent   : PropTypes.oneOfType\r\n\t([\r\n\t\tPropTypes.func,\r\n\t\tPropTypes.string\r\n\t]),\r\n\r\n\t// Indicates that the input is invalid.\r\n\terror: PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool\r\n\t]),\r\n\r\n\t// If this flag is `true` then the `error` is shown (if passed).\r\n\t// If this flag is `false` then the `error` is not shown (even if passed).\r\n\tshowErrorMessage  : PropTypes.bool,\r\n\r\n\t// Set to `true` to mark the field as required\r\n\trequired         : PropTypes.bool,\r\n\r\n\t// `<input/>` placeholder\r\n\tplaceholder      : PropTypes.string,\r\n\r\n\t// `<textarea/>` instead of an `<input type=\"text\"/>`\r\n\tmultiline        : PropTypes.bool,\r\n\r\n\t// Autoresize state saving/restoring for a `multiline` text input:\r\n\tinitialHeight: PropTypes.number,\r\n\tonHeightChange: PropTypes.func,\r\n\r\n\t// Deprecated.\r\n\t// Use `type=\"email\"` instead.\r\n\t// Sets HTML input `type` attribute to `email`\r\n\temail            : PropTypes.bool,\r\n\r\n\t// Deprecated.\r\n\t// Use `type=\"password\"` instead.\r\n\t// Sets HTML input `type` attribute to `password`\r\n\tpassword         : PropTypes.bool,\r\n\r\n\t// Autofocuses the input field.\r\n\t// Deprecated. Use `autoFocus` instead.\r\n\tfocus            : PropTypes.bool,\r\n\r\n\t// HTML `tabindex` attribute\r\n\ttabIndex         : PropTypes.number,\r\n\r\n\t// `<textarea/>` `rows` attribute (row count, i.e. height)\r\n\trows             : PropTypes.number,\r\n\r\n\t// `<textarea/>` `cols` attribute (column count, i.e. width)\r\n\tcols             : PropTypes.number,\r\n\r\n\t// Is called when the input is focused\r\n\tonFocus          : PropTypes.func,\r\n\r\n\t// `onKeyDown` event handler\r\n\tonKeyDown        : PropTypes.func,\r\n\r\n\t// Is called when the input is blurred\r\n\tonBlur           : PropTypes.func,\r\n\r\n\t// Is called when the input is clicked\r\n\tonClick           : PropTypes.func,\r\n\r\n\t// CSS style object\r\n\tstyle            : PropTypes.object,\r\n\r\n\t// CSS name\r\n\tclassName        : PropTypes.string,\r\n\r\n\t// CSS style object for `<input/>`\r\n\tinputStyle       : PropTypes.object\r\n}\r\n\r\nTextInput.defaultProps =\r\n{\r\n\t// Show `error` (if passed).\r\n\tshowErrorMessage : true\r\n}\r\n\r\nexport default TextInput","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport Divider from './Divider'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlur, focus } from './utility/focus'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class List extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// (optional) HTML `id` attribute.\r\n\t\t// Can be used for WAI-ARIA stuff.\r\n\t\t// Example: `<input role=\"combobox\"/>` with `aria-owns={listId}`.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\tvalue : PropTypes.any,\r\n\t\tonChange : PropTypes.func,\r\n\r\n\t\t// If a `<List/>` has `onChange` then it wraps `<List.Item/>`s with `<button/>`s.\r\n\t\t// The `onChange` added by `<ExpandableList/>` overrides the original `onChange`.\r\n\t\t// If there was no `onChange`  there will be one.\r\n\t\t// So to retain that info `hasOnChange` property is used as a workaround.\r\n\t\t// `undefined` means \"ignore this property\".\r\n\t\thasOnChange : PropTypes.bool,\r\n\r\n\t\t// If `items` property is supplied then it's used to\r\n\t\t// detect \"on items changed\" event in `getDerivedStateFromProps`.\r\n\t\t// It seems to be the only usage of the `items` property.\r\n\t\titems : PropTypes.arrayOf(PropTypes.object),\r\n\r\n\t\t// Legacy method, use `onChange` instead.\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\thighlightSelectedItem : PropTypes.bool.isRequired,\r\n\r\n\t\tonFocusIn : PropTypes.func,\r\n\t\tonFocusItem : PropTypes.func,\r\n\t\tonKeyDown : PropTypes.func,\r\n\r\n\t\t// ARIA `role` attribute.\r\n\t\trole : PropTypes.string,\r\n\r\n\t\t// If a `<List/>` is `expandable`\r\n\t\t// then it won't be `.rrui__list:not(.rrui__list--focus)`.\r\n\t\t// `.rrui__list:not(.rrui__list--focus)` is only for standalone lists.\r\n\t\texpandable : PropTypes.bool,\r\n\r\n\t\t// If `tabbable` is `true` (default behavior)\r\n\t\t// then the first item of the list\r\n\t\t// (or the last focused item of the list)\r\n\t\t// will be focused when the list gets focused.\r\n\t\ttabbable : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `shouldFocus` is set to `false`\r\n\t\t// (which is not the default behavior)\r\n\t\t// then the list items won't actually\r\n\t\t// be `.focus()`ed (though they'll be\r\n\t\t// indicated as if they're focused).\r\n\t\t// This feature is used in `<Autocomplete/>`\r\n\t\t// that always keeps the actual focus on the `<input/>`.\r\n\t\tshouldFocus : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `highlightFirstItem` is `true`\r\n\t\t// then by default the first item of the list\r\n\t\t// will be focused every time it's items change.\r\n\t\t// (and also when it's mounted)\r\n\t\thighlightFirstItem : PropTypes.bool.isRequired,\r\n\r\n\t\tcreateButtons : PropTypes.bool.isRequired,\r\n\r\n\t\t// For select options list keyboard navigation via typing.\r\n\t\tresetInputTimeout : PropTypes.number.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\ttabbable : true,\r\n\t\tshouldFocus : true,\r\n\t\thighlightFirstItem : false,\r\n\t\tcreateButtons : true,\r\n\t\thighlightSelectedItem : true,\r\n\t\tresetInputTimeout : 1000\r\n\t}\r\n\r\n\tstate = {\r\n\t\titems: this.props.items\r\n\t}\r\n\r\n\t// `ref`s of all items currently rendered.\r\n\titemRefs = []\r\n\r\n\t// For select options list keyboard navigation via typing.\r\n\tinput = ''\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst {\r\n\t\t\thighlightFirstItem\r\n\t\t} = this.props\r\n\r\n\t\tif (highlightFirstItem) {\r\n\t\t\tthis.focusItem(0)\r\n\t\t}\r\n\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps, prevState)\r\n\t{\r\n\t\tconst {\r\n\t\t\tvalue,\r\n\t\t\titems,\r\n\t\t\tchildren,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\thighlightFirstItem\r\n\t\t} = this.props\r\n\r\n\t\t// If `items` property is supplied\r\n\t\t// then it's used to detect \"on items changed\" event.\r\n\t\tif (prevState.items && prevState.items !== items)\r\n\t\t{\r\n\t\t\tthis.setState({ items })\r\n\t\t\t// `findItemIndexByValue()` must return `undefined` for \"no such item\".\r\n\t\t\tconst selectedItemIndex = highlightSelectedItem ? findItemIndexByValue(value, children) : undefined\r\n\t\t\tthis.focusItem(selectedItemIndex === undefined ? (highlightFirstItem ? 0 : undefined) : selectedItemIndex)\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\t\tclearTimeout(this.blurTimer)\r\n\t\tclearTimeout(this.resetInputTimer)\r\n\t}\r\n\r\n\tchooseFocusedItem() {\r\n\t\tconst { focusedItemIndex } = this.state\r\n\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\tconst itemRef = this.itemRefs[focusedItemIndex]\r\n\t\t\tif (itemRef.click) {\r\n\t\t\t\titemRef.click()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetFocusedItemIndex = () => this.state.focusedItemIndex\r\n\tclearFocus = () => this.focusItem()\r\n\t// Deprecated method name.\r\n\tunfocus = this.clearFocus\r\n\r\n\t// Focuses the list.\r\n\tfocus = () => {\r\n\t\tconst { focusedItemIndex } = this.state\r\n\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\treturn this.focusItem(focusedItemIndex)\r\n\t\t}\r\n\t\tthis.list.focus()\r\n\t}\r\n\r\n\tgetFirstFocusableItemIndex()\r\n\t{\r\n\t\tlet i = 0\r\n\t\twhile (i < this.itemRefs.length) {\r\n\t\t\tif (this.itemRefs[i]) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetItemValue(index)\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tconst item = React.Children.toArray(children)[index]\r\n\t\treturn item.props.value\r\n\t}\r\n\r\n\t// Can be public API for programmatically focusing a certain `<List.Item/>`.\r\n\tfocusItem = (focusedItemIndex, options = {}) =>\r\n\t{\r\n\t\tconst { onFocusItem, shouldFocus } = this.props\r\n\r\n\t\tif (onFocusItem) {\r\n\t\t\tonFocusItem(focusedItemIndex, options)\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\t// Focus the item.\r\n\t\t\tfocusedItemIndex,\r\n\t\t\t// Store the focused item value.\r\n\t\t\t// This is used for cases like autocomplete\r\n\t\t\t// where the list of options changes but\r\n\t\t\t// the focused option stays focused.\r\n\t\t\tfocusedItemValue: focusedItemIndex === undefined ? undefined : this.getItemValue(focusedItemIndex)\r\n\t\t}, () => {\r\n\t\t\t// Actually focus the item.\r\n\t\t\tif (focusedItemIndex !== undefined) {\r\n\t\t\t\tif (shouldFocus && this._isMounted) {\r\n\t\t\t\t\tif (!focus(this.itemRefs[focusedItemIndex])) {\r\n\t\t\t\t\t\tconsole.error(`<List.Item/> #${focusedItemIndex + 1}'s child component doesn't have a \".focus()\" method.`)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown, children } = this.props\r\n\t\tconst { focusedItemIndex } = this.state\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (React.Children.count(children) > 0)\r\n\t\t{\r\n\t\t\tswitch (event.keyCode)\r\n\t\t\t{\r\n\t\t\t\t// \"Up\" arrow.\r\n\t\t\t\t// Select the previous item (if present).\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst previousIndex = this.getPreviousFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (previousIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(previousIndex, { interaction: true })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\r\n\t\t\t\t// \"Down\" arrow.\r\n\t\t\t\t// Select the next item (if present).\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tconst nextIndex = this.getNextFocusableItemIndex()\r\n\r\n\t\t\t\t\tif (nextIndex !== undefined) {\r\n\t\t\t\t\t\tthis.focusItem(nextIndex, { interaction: true })\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyPress = (event) => {\r\n\t\tconst { resetInputTimeout } = this.props\r\n\t\tconst characters = event.char || String.fromCharCode(event.charCode)\r\n\t\tif (characters) {\r\n\t\t\tthis.input += characters\r\n\t\t\tthis.onInput()\r\n\t\t\tclearTimeout(this.resetInputTimer)\r\n\t\t\tthis.resetInputTimer = setTimeout(this.resetInput, resetInputTimeout)\r\n\t\t}\r\n\t}\r\n\r\n\tonInput() {\r\n\t\tconst { children } = this.props\r\n\t\tconst index = findItemIndexByLabel(this.input, children)\r\n\t\tif (index !== undefined) {\r\n\t\t\tthis.focusItem(index)\r\n\t\t}\r\n\t}\r\n\r\n\tresetInput = () => this.input = ''\r\n\tisInputInProgress = () => this.input !== ''\r\n\r\n\tonInputSpacebar = () => {\r\n\t\tif (this.input) {\r\n\t\t\tthis.input += ' '\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the previous option (relative to the currently focused option)\r\n\tgetPreviousFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = React.Children.count(children)\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex > 0) {\r\n\t\t\tfocusedItemIndex--\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the next option (relative to the currently focused option)\r\n\tgetNextFocusableItemIndex()\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tlet { focusedItemIndex } = this.state\r\n\r\n\t\tif (focusedItemIndex === undefined) {\r\n\t\t\tfocusedItemIndex = -1\r\n\t\t}\r\n\r\n\t\twhile (focusedItemIndex < React.Children.count(children) - 1) {\r\n\t\t\tfocusedItemIndex++\r\n\t\t\tif (this.isFocusableItemIndex(focusedItemIndex)) {\r\n\t\t\t\treturn focusedItemIndex\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonItemFocus = (event) => {\r\n\t\tconst { expandable } = this.props\r\n\t\tif (expandable) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.onFocusIn()\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { expandable } = this.props\r\n\t\tif (expandable) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tclearTimeout(this.blurTimer)\r\n\t\tconst result = onBlur(event, this.onFocusOut, () => this.list)\r\n\t\tif (typeof result === 'number') {\r\n\t\t\tthis.blurTimer = result\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusIn = () => {\r\n\t\tconst { onFocusIn } = this.props\r\n\t\tif (onFocusIn) {\r\n\t\t\tonFocusIn()\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisFocused: true\r\n\t\t})\r\n\t}\r\n\r\n\tonFocusOut = () => {\r\n\t\tconst { value } = this.props\r\n\t\tif (value === undefined) {\r\n\t\t\tthis.clearFocus()\r\n\t\t}\r\n\t\tthis.setState({\r\n\t\t\tisFocused: false\r\n\t\t})\r\n\t}\r\n\r\n\tisFocusableItemIndex = (index) => this.itemRefs[index] !== undefined\r\n\r\n\tisFocusableItem = (item) => !isDivider(item)\r\n\r\n\t// `this.list` is also being accessed from `<ScrollableList/>`.\r\n\tstoreListNode = (node) => this.list = node\r\n\r\n\t// Is only used by `<ScrollableList/>` so set `max-height` immediately,\r\n\t// without waiting for the next React render cycle.\r\n\tgetDOMNode = () => this.list\r\n\r\n\tstoreItemRef = (ref, i) => this.itemRefs[i] = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\texpandable,\r\n\t\t\tdisabled,\r\n\t\t\ttabbable,\r\n\t\t\tvalue,\r\n\t\t\thasOnChange,\r\n\t\t\tonChange,\r\n\t\t\t// `onSelectItem` is deprecated, use `onChange` instead.\r\n\t\t\tonSelectItem,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tcreateButtons,\r\n\t\t\tclassName,\r\n\t\t\tstyle,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tlet { role } = this.props\r\n\r\n\t\tconst {\r\n\t\t\tfocusedItemIndex,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\t// ARIA (accessibility) roles info:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\r\n\t\tif (!role && (onChange || onSelectItem)) {\r\n\t\t\trole = 'listbox'\r\n\t\t}\r\n\r\n\t\t// if (this.props['aria-hidden']) {\r\n\t\t// \trole = undefined\r\n\t\t// }\r\n\r\n\t\t// `tabIndex={ -1 }` makes the `<ul/>` focusable.\r\n\t\t// So that `<Expandable/>` doesn't collapse on click inside it (top, bottom).\r\n\r\n\t\treturn (\r\n\t\t\t<ul\r\n\t\t\t\tref={ this.storeListNode }\r\n\t\t\t\tid={ id }\r\n\t\t\t\trole={ role }\r\n\t\t\t\taria-label={ this.props['aria-label'] }\r\n\t\t\t\taria-labelledby={ this.props['aria-labelledby'] }\r\n\t\t\t\taria-describedby={ this.props['aria-describedby'] }\r\n\t\t\t\taria-hidden={ this.props['aria-hidden'] }\r\n\t\t\t\taria-required={ this.props['aria-required'] }\r\n\t\t\t\taria-invalid={ this.props['aria-invalid'] }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\tonKeyPress={ this.onKeyPress }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__outline', 'rrui__list', {\r\n\t\t\t\t\t'rrui__list--focus': isFocused\r\n\t\t\t\t}) }>\r\n\r\n\t\t\t\t{ React.Children.map(children, (item, i) =>\r\n\t\t\t\t{\r\n\t\t\t\t\t// Workaround for `react-hot-loader`.\r\n\t\t\t\t\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\t\t\t\t\tif (item.type.displayName !== 'ListItem') {\r\n\t\t\t\t\t\tthrow new Error(`Only <List.Item/>s can be placed inside a <List/> (and remove any whitespace).`)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn React.cloneElement(item,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tkey       : i,\r\n\t\t\t\t\t\tindex     : i,\r\n\t\t\t\t\t\titemRef   : this.isFocusableItem(item) ? this.storeItemRef : undefined,\r\n\t\t\t\t\t\trole      : role === 'listbox' ? 'option' : item.props.role,\r\n\t\t\t\t\t\tfocus     : this.focusItem,\r\n\t\t\t\t\t\tfocused   : (expandable || isFocused) && focusedItemIndex === i,\r\n\t\t\t\t\t\tdisabled  : disabled || item.props.disabled,\r\n\t\t\t\t\t\ttabIndex  : tabbable && (focusedItemIndex === undefined ? i === 0 : i === focusedItemIndex) ? 0 : -1,\r\n\t\t\t\t\t\tcreateButton : createButtons,\r\n\t\t\t\t\t\tisInputInProgress : this.isInputInProgress,\r\n\t\t\t\t\t\tonInputSpacebar : this.onInputSpacebar,\r\n\t\t\t\t\t\tonItemFocus : this.onItemFocus,\r\n\t\t\t\t\t\tonItemBlur : this.onBlur,\r\n\t\t\t\t\t\tonSelectItem : onChange || onSelectItem,\r\n\t\t\t\t\t\thasOnSelectItem : hasOnChange,\r\n\t\t\t\t\t\tselectedItemValue : value,\r\n\t\t\t\t\t\thighlightSelectedItem : (onChange || onSelectItem) && highlightSelectedItem\r\n\t\t\t\t\t})\r\n\t\t\t\t}) }\r\n\t\t\t</ul>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport class ListItem extends React.Component\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// (optional) HTML `id` attribute.\r\n\t\t// Can be used for WAI-ARIA stuff.\r\n\t\t// Example: `<input role=\"combobox\"/>` with `aria-activedescendant={focusedListItemId}`.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\tvalue : PropTypes.any,\r\n\t\tindex : PropTypes.number,\r\n\t\tfocused : PropTypes.bool,\r\n\t\tonClick : PropTypes.func,\r\n\t\t// `onSelect` is deprecated, use `onClick` instead.\r\n\t\tonSelect : PropTypes.func,\r\n\t\tonSelectItem : PropTypes.func,\r\n\t\t// If a `<List/>` has `onChange` then it wraps `<List.Item/>`s with `<button/>`s.\r\n\t\t// The `onChange` added by `<ExpandableList/>` overrides the original `onChange`.\r\n\t\t// If there was no `onChange`  there will be one.\r\n\t\t// So to retain that info `hasOnChange` property is used as a workaround.\r\n\t\t// `undefined` means \"ignore this property\".\r\n\t\thasOnSelectItem : PropTypes.bool,\r\n\t\tselectedItemValue : PropTypes.any,\r\n\t\thighlightSelectedItem : PropTypes.bool,\r\n\t\tcreateButton : PropTypes.bool,\r\n\t\t// Deprecated. Use `createButton` instead.\r\n\t\tshouldCreateButton : PropTypes.bool,\r\n\t\t// The button won't be pressed on \"Space\" key\r\n\t\t// if the user is currently typing.\r\n\t\tisInputInProgress : PropTypes.func,\r\n\t\tonInputSpacebar : PropTypes.func\r\n\t}\r\n\r\n\tonButtonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { isInputInProgress, onInputSpacebar } = this.props\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// \"Spacebar\".\r\n\t\t\tcase 32:\r\n\t\t\t\t// If the user is currently typing.\r\n\t\t\t\tif (isInputInProgress()) {\r\n\t\t\t\t\t// Don't press the option button.\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t// Append space character.\r\n\t\t\t\t\tonInputSpacebar()\r\n\t\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseDown = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tindex,\r\n\t\t\tfocus,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onMouseDown` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onMouseDown` defined on the `<List.Item/>` child element\r\n\t\t// because `onMouseDown` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onMouseDown = this.shouldCreateButton() ? this.props.onMouseDown : children.props.onMouseDown\r\n\r\n\t\t// Without this Safari (both mobile and desktop)\r\n\t\t// won't select any item in an expanded list\r\n\t\t// because it will collapse the list immediately\r\n\t\t// on `mouseDown` due to `blur` event being fired.\r\n\t\tevent.preventDefault()\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onMouseDown) {\r\n\t\t\tonMouseDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocus = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tfocus,\r\n\t\t\tindex,\r\n\t\t\tonItemFocus,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onFocus` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onFocus` defined on the `<List.Item/>` child element\r\n\t\t// because `onFocus` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onFocus = this.shouldCreateButton() ? this.props.onFocus : children.props.onFocus\r\n\r\n\t\tif (this.isSelectable()) {\r\n\t\t\tfocus(index)\r\n\t\t}\r\n\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\r\n\t\tif (onItemFocus) {\r\n\t\t\tonItemFocus(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) =>\r\n\t{\r\n\t\tconst { onItemBlur, children } = this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onBlur` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onFocus` defined on the `<List.Item/>` child element\r\n\t\t// because `onBlur` gets overridden for `<List.Item/>` child element.\r\n\r\n\t\tconst onBlur = this.shouldCreateButton() ? this.props.onBlur : children.props.onBlur\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlur(event)\r\n\t\t}\r\n\r\n\t\tif (onItemBlur) {\r\n\t\t\tonItemBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\tindex,\r\n\t\t\tvalue,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// If `<List.Item/>` child element gets wrapped in a `<button/>`\r\n\t\t// then call `onClick` defined on the `<List.Item/>`.\r\n\t\t// If `<List.Item/>` child element doesn't get wrapped in a `<button/>`\r\n\t\t// then manually call `onClick` defined on the `<List.Item/>` child element\r\n\t\t// because `onClick` gets overridden for `<List.Item/>` child element,\r\n\t\t// and also call `onClick` defined on the `<List.Item/>` (if any).\r\n\r\n\t\tif (onClick) {\r\n\t\t\tonClick(event)\r\n\t\t}\r\n\r\n\t\tif (!this.shouldCreateButton()) {\r\n\t\t\t// Since `onClick` gets overridden\r\n\t\t\t// for `<List.Item/>` child element\r\n\t\t\t// call its original `onClick` manually here.\r\n\t\t\tif (children.props.onClick) {\r\n\t\t\t\tchildren.props.onClick(event)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this.isSelectable())\r\n\t\t{\r\n\t\t\tif (onSelect) {\r\n\t\t\t\tonSelect(value, index)\r\n\t\t\t}\r\n\t\t\tif (onSelectItem) {\r\n\t\t\t\tonSelectItem(value, index)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tisSelectable()\r\n\t{\r\n\t\treturn isSelectableItem(this)\r\n\t}\r\n\r\n\t// Perhaps this is called by `focus()` utility function.\r\n\t// Something like: `focus(this.itemRefs[i])`.\r\n\tfocus = () =>\r\n\t{\r\n\t\tconst { children } = this.props\r\n\t\tfocus(React.Children.toArray(children)[0])\r\n\t}\r\n\r\n\tstoreRef = (ref) =>\r\n\t{\r\n\t\tconst { itemRef, index } = this.props\r\n\r\n\t\tif (itemRef) {\r\n\t\t\titemRef(ref, index)\r\n\t\t}\r\n\t}\r\n\r\n\tshouldCreateButton()\r\n\t{\r\n\t\tconst {\r\n\t\t\tonClick,\r\n\t\t\tonSelect,\r\n\t\t\tonSelectItem,\r\n\t\t\thasOnSelectItem,\r\n\t\t\tcreateButton,\r\n\t\t\t// Deprecated. Use `createButton` instead.\r\n\t\t\tshouldCreateButton\r\n\t\t} = this.props\r\n\r\n\t\treturn this.isSelectable() && (\r\n\t\t\tonClick ||\r\n\t\t\tonSelect ||\r\n\t\t\t(\r\n\t\t\t\tonSelectItem &&\r\n\t\t\t\t(hasOnSelectItem === undefined ? true : hasOnSelectItem) &&\r\n\t\t\t\t(createButton || shouldCreateButton)\r\n\t\t\t)\r\n\t\t)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tvalue,\r\n\t\t\ticon,\r\n\t\t\titem,\r\n\t\t\trole,\r\n\t\t\tfocused,\r\n\t\t\tdisabled,\r\n\t\t\tclassName,\r\n\t\t\ttabIndex,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tselectedItemValue,\r\n\t\t\tcomponent: Component,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// Throws an error for some weird reason.\r\n\t\t// React.Children.only(children)\r\n\r\n\t\tif (!Component) {\r\n\t\t\tif (React.Children.count(children) !== 1) {\r\n\t\t\t\tthrow new Error(`Each <List.Item/> must have a single child (and remove any whitespace).`)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst isSelected = this.shouldCreateButton() && value === selectedItemValue\r\n\t\tconst isDividerItem = !Component && isDivider(children)\r\n\r\n\t\tconst properties =\r\n\t\t{\r\n\t\t\tref          : isDividerItem ? undefined : this.storeRef,\r\n\t\t\tonMouseDown  : this.onMouseDown,\r\n\t\t\tonClick      : this.onClick,\r\n\t\t\tonFocus      : this.onFocus,\r\n\t\t\tonBlur       : this.onBlur,\r\n\t\t\tclassName    : classNames\r\n\t\t\t(\r\n\t\t\t\tclassName,\r\n\t\t\t\t'rrui__list__item',\r\n\t\t\t\t'rrui__text-line',\r\n\t\t\t\t{\r\n\t\t\t\t\t/* `--focused` modifier is deprecated, use `--focus` instead. */\r\n\t\t\t\t\t'rrui__list__item--focused'  : focused,\r\n\t\t\t\t\t'rrui__list__item--focus'    : focused,\r\n\t\t\t\t\t'rrui__list__item--selected' : isSelected && highlightSelectedItem,\r\n\t\t\t\t\t'rrui__list__item--disabled' : disabled,\r\n\t\t\t\t\t'rrui__list__item--divider'  : isDividerItem\r\n\t\t\t\t}\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\tif (id !== undefined) {\r\n\t\t\tproperties.id = id\r\n\t\t}\r\n\r\n\t\tif (tabIndex !== undefined) {\r\n\t\t\tproperties.tabIndex = tabIndex\r\n\t\t}\r\n\r\n\t\tlet ItemComponent\r\n\t\tlet itemChildren\r\n\t\tlet label\r\n\r\n\t\tif (this.shouldCreateButton())\r\n\t\t{\r\n\t\t\tItemComponent = 'button'\r\n\t\t\tlabel = getItemLabel(this)\r\n\t\t\tproperties.type = 'button'\r\n\t\t\tproperties.role = role\r\n\t\t\tproperties['aria-selected'] = isSelected\r\n\t\t\tproperties['aria-label'] = this.props.label || (Component ? undefined : (typeof children !== 'string' && children && children.props ? children.props['aria-label'] : undefined))\r\n\t\t\tproperties.disabled = disabled\r\n\t\t\tproperties.onKeyDown = this.onButtonKeyDown\r\n\t\t\tproperties.className = classNames(\r\n\t\t\t\tproperties.className,\r\n\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t'rrui__outline',\r\n\t\t\t\t// `.rrui__list__item--button` only sets the fixed `height`.\r\n\t\t\t\t!Component && 'rrui__list__item--button'\r\n\t\t\t)\r\n\r\n\t\t\titemChildren = Component ?\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...item}\r\n\t\t\t\t\tselected={isSelected && highlightSelectedItem}\r\n\t\t\t\t\tfocused={focused}\r\n\t\t\t\t\tdisabled={disabled}/> :\r\n\t\t\t\trenderListItemComponent({ value, label, icon, children })\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// Don't overwrite `className` already defined on the `children`.\r\n\t\t\tproperties.className = classNames(\r\n\t\t\t\tproperties.className,\r\n\t\t\t\tchildren.props && children.props.className\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<li\r\n\t\t\t\trole={this.shouldCreateButton() || isDivider(children) ? 'presentation' : role}\r\n\t\t\t\taria-selected={this.shouldCreateButton() ? undefined : (role && role !== 'presentation' ? isSelected : undefined)}\r\n\t\t\t\taria-label={this.shouldCreateButton() ? undefined : label}\r\n\t\t\t\tclassName=\"rrui__list__list-item\">\r\n\t\t\t\t{ ItemComponent && React.createElement(ItemComponent, properties, itemChildren) }\r\n\t\t\t\t{ !ItemComponent && React.cloneElement(children, properties) }\r\n\t\t\t</li>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nListItem.displayName = 'ListItem'\r\n\r\nList.Item = ListItem\r\n\r\n\r\n// Replace `itemChildren` array with `<React.Fragment/>`\r\n// in some future when React >= 16.2.0 is common.\r\n//\r\n// <React.Fragment>\r\n// \t{/* Icon. */}\r\n// \t{icon &&\r\n// \t\t<div className=\"rrui__list__item-icon\">\r\n// \t\t\t{ React.createElement(icon, { value, label }) }\r\n// \t\t</div>\r\n// \t}\r\n// \t{/* Label (or content). */}\r\n// \t{children}\r\n// </React.Fragment>\r\nfunction renderListItemComponent({\r\n\tvalue,\r\n\tlabel,\r\n\ticon,\r\n\tchildren\r\n}) {\r\n\t// Label (or content).\r\n\tlet itemChildren\r\n\tif (typeof children === 'string') {\r\n\t\t// `text-overflow: ellipsis` doesn't work on `<button/>`s.\r\n\t\t// https://stackoverflow.com/questions/9905409/is-it-possible-to-use-text-overflow-ellipsis-on-a-button-element\r\n\t\titemChildren = [\r\n\t\t\t<span key=\"label\" className=\"rrui__text-line\">\r\n\t\t\t\t{children}\r\n\t\t\t</span>\r\n\t\t]\r\n\t} else {\r\n\t\titemChildren = React.Children.toArray(children)\r\n\t}\r\n\t// Icon.\r\n\tif (icon) {\r\n\t\titemChildren.unshift((\r\n\t\t\t<span key=\"icon\" aria-hidden className=\"rrui__list__item-icon\">\r\n\t\t\t\t{React.createElement(icon, { value, label })}\r\n\t\t\t</span>\r\n\t\t))\r\n\t}\r\n\treturn itemChildren\r\n}\r\n\r\nfunction haveItemsChanged(props, prevProps)\r\n{\r\n\tconst items     = React.Children.toArray(props.children)\r\n\tconst prevItems = React.Children.toArray(prevProps.children)\r\n\r\n\tif (items.length !== prevItems.length) {\r\n\t\treturn true\r\n\t}\r\n\r\n\tlet i = 0\r\n\twhile (i < items.length)\r\n\t{\r\n\t\tif (items[i].props.value !== prevItems[i].props.value) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn false\r\n}\r\n\r\nexport function findItemIndexByValue(value, children)\r\n{\r\n\tconst items = React.Children.toArray(children)\r\n\r\n\tlet i = 0\r\n\tfor (const item of items)\r\n\t{\r\n\t\tif (isSelectableItem(item) && item.props.value === value) {\r\n\t\t\treturn i\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nfunction findItemIndexByLabel(value, children)\r\n{\r\n\tconst items = React.Children.toArray(children)\r\n\r\n\tlet i = 0\r\n\tfor (const item of items)\r\n\t{\r\n\t\tif (isSelectableItem(item)) {\r\n\t\t\tconst itemLabel = getItemLabel(item)\r\n\t\t\tif (itemLabel && itemLabel.toLowerCase().indexOf(value.toLowerCase()) === 0) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n}\r\n\r\nfunction getItemLabel(item) {\r\n\treturn item.props.label || (typeof item.props.children === 'string' ? item.props.children : undefined)\r\n}\r\n\r\nfunction isSelectableItem(item) {\r\n\treturn item.props.component ? true : (item.props.children && !isDivider(item.props.children))\r\n}\r\n\r\nfunction isDivider(element) {\r\n\t// Workaround for `react-hot-loader`.\r\n\t// https://github.com/gaearon/react-hot-loader#checking-element-types\r\n\treturn element.type && element.type.displayName === 'Divider'\r\n}","import React, { useRef, useState, useEffect, useCallback, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport List from './List'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class ScrollableList_ extends PureComponent {\r\n\t// Proxy `<List/>` methods.\r\n\tfocusItem = (index) => this.list.focusItem(index)\r\n\tfocus = () => this.list.focus()\r\n\tclearFocus = () => this.list.clearFocus()\r\n\tonListItemsChanged = () => this.list.onListItemsChanged()\r\n\tonKeyDown = (event) => this.list.onKeyDown(event)\r\n\tchooseFocusedItem = () => this.list.chooseFocusedItem()\r\n\tgetFocusedItemIndex = () => this.list.getFocusedItemIndex()\r\n\tfocusItem = (index) => this.list.focusItem(index)\r\n\r\n\t// Re-calculates `<ScrollableList/>` `height`/`maxHeight`/`verticalPadding`.\r\n\tstate = {}\r\n\tonExpand = () => {\r\n\t\tthis.setState({\r\n\t\t\tcalculateLayoutTrigger: {}\r\n\t\t})\r\n\t}\r\n\r\n\tstoreListRef = (ref) => this.list = ref\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<ScrollableList\r\n\t\t\t\tlistRef={this.storeListRef}\r\n\t\t\t\tcalculateLayoutTrigger={this.state.calculateLayoutTrigger}\r\n\t\t\t\t{...this.props}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst ScrollableList = React.forwardRef(({\r\n\tlistRef,\r\n\tonFocusItem: onFocusItem_,\r\n\tscrollBarPadding,\r\n\tscrollMaxItems,\r\n\tScrollableContainer,\r\n\tcalculateLayoutTrigger,\r\n\tclassName,\r\n\tchildren,\r\n\t...rest\r\n}, ref) => {\r\n\tconst list = useRef()\r\n\r\n\tconst storeListRef = useCallback((instance) => {\r\n\t\tif (listRef) {\r\n\t\t\tif (typeof listRef === 'function') {\r\n\t\t\t\tlistRef(instance)\r\n\t\t\t} else {\r\n\t\t\t\tlistRef.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t\tlist.current = instance\r\n\t}, [])\r\n\r\n\t// Is initialized during the first `componentDidUpdate()` call.\r\n\tconst [verticalPadding, setVerticalPadding] = useState(0)\r\n\r\n\tconst [height, setHeight] = useState()\r\n\tconst [maxHeight, setMaxHeight] = useState()\r\n\r\n\tconst getListNode = useCallback(() => list.current.list, [])\r\n\r\n\tconst showTopLine = useCallback((itemElement, isFirstItem) =>\r\n\t{\r\n\t\tlet topLine = itemElement.offsetTop\r\n\r\n\t\tif (isFirstItem) {\r\n\t\t\ttopLine -= verticalPadding\r\n\t\t}\r\n\r\n\t\tif (topLine < getListNode().scrollTop) {\r\n\t\t\tgetListNode().scrollTop = topLine\r\n\t\t}\r\n\t}, [\r\n\t\tverticalPadding,\r\n\t\tgetListNode\r\n\t])\r\n\r\n\tconst showBottomLine = useCallback((itemElement, isLastItem) =>\r\n\t{\r\n\t\tlet bottomLine = itemElement.offsetTop + itemElement.offsetHeight\r\n\r\n\t\tif (isLastItem) {\r\n\t\t\tbottomLine += verticalPadding\r\n\t\t}\r\n\r\n\t\tif (bottomLine > getListNode().scrollTop + getListNode().offsetHeight) {\r\n\t\t\tgetListNode().scrollTop = bottomLine - getListNode().offsetHeight\r\n\t\t}\r\n\t}, [\r\n\t\tverticalPadding,\r\n\t\tgetListNode\r\n\t])\r\n\r\n\t// Fully shows an option having the `value` (scrolls to it if neccessary)\r\n\tconst showItem = useCallback((index, edge = 'top') =>\r\n\t{\r\n\t\tconst itemElement = list.current.itemRefs[index]\r\n\r\n\t\tconst isFirstItem = index === 0\r\n\t\tconst isLastItem  = index === React.Children.count(children) - 1\r\n\r\n\t\tif (isFirstItem) {\r\n\t\t\treturn showTopLine(itemElement, true)\r\n\t\t} else if (isLastItem) {\r\n\t\t\treturn showBottomLine(itemElement, true)\r\n\t\t}\r\n\r\n\t\tswitch (edge) {\r\n\t\t\tcase 'top':\r\n\t\t\t\treturn showTopLine(itemElement)\r\n\t\t\tcase 'bottom':\r\n\t\t\t\treturn showBottomLine(itemElement)\r\n\t\t}\r\n\t}, [\r\n\t\tshowTopLine,\r\n\t\tshowBottomLine,\r\n\t\tchildren\r\n\t])\r\n\r\n\tconst onFocusItem = useCallback((index, options) => {\r\n\t\tif (onFocusItem_) {\r\n\t\t\tonFocusItem_(index, options)\r\n\t\t}\r\n\t\t// When `<List/>` calls `.focusItem()` in `componentDidMount()`\r\n\t\t// `list.current` doesn't exist yet, hence the check.\r\n\t\tif (index !== undefined && list.current) {\r\n\t\t\tshowItem(index)\r\n\t\t}\r\n\t}, [\r\n\t\tonFocusItem_,\r\n\t\tshowItem\r\n\t])\r\n\r\n\tconst isOverflown = () =>\r\n\t{\r\n\t\treturn scrollMaxItems > 0 && React.Children.count(children) > scrollMaxItems\r\n\t}\r\n\r\n\tconst calculateScrollableListHeight = (height, verticalPadding) =>\r\n\t{\r\n\t\t// Adding vertical padding here so that it shows `scrollMaxItems` items fully.\r\n\t\t// Also gives a peek on the `scrollMaxItems + 1`th item by showing a half of it.\r\n\t\t// Assumes items having equal height.\r\n\t\treturn (height - 2 * verticalPadding) * ((scrollMaxItems + 0.5) / React.Children.count(children)) + verticalPadding\r\n\t}\r\n\r\n\t// Calculates height of the item list.\r\n\tconst calculateLayout = () =>\r\n\t{\r\n\t\tconst height = getListNode().scrollHeight\r\n\t\tconst verticalPadding = parseInt(window.getComputedStyle(getListNode()).paddingTop)\r\n\r\n\t\t// Calculate the appropriate list height.\r\n\t\tif (isOverflown()) {\r\n\t\t\tconst maxHeight = calculateScrollableListHeight(height, verticalPadding)\r\n\r\n\t\t\tif (!ScrollableContainer) {\r\n\t\t\t\t// Update `max-height` immediately, without waiting for the next React render cycle.\r\n\t\t\t\tlist.current.getDOMNode().style.maxHeight = maxHeight + 'px'\r\n\t\t\t}\r\n\r\n\t\t\tsetMaxHeight(maxHeight)\r\n\t\t}\r\n\r\n\t\tsetHeight(height)\r\n\t\tsetVerticalPadding(verticalPadding)\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tcalculateLayout()\r\n\t}, [calculateLayoutTrigger])\r\n\r\n\tconst maxHeightStyle = useMemo(() => {\r\n\t\tif (maxHeight !== undefined) {\r\n\t\t\t// Makes the list scrollable if it's max height is constrained.\r\n\t\t\treturn {\r\n\t\t\t\tmaxHeight: `${maxHeight}px`\r\n\t\t\t}\r\n\t\t}\r\n\t}, [maxHeight])\r\n\r\n\tconst listElement = (\r\n\t\t<List\r\n\t\t\t{...rest}\r\n\t\t\tref={storeListRef}\r\n\t\t\tonFocusItem={onFocusItem}\r\n\t\t\tstyle={ScrollableContainer ? undefined : maxHeightStyle}\r\n\t\t\tclassName={classNames(className, {\r\n\t\t\t\t'rrui__scrollable': ScrollableContainer ? undefined : isOverflown()\r\n\t\t\t})}>\r\n\t\t\t{children}\r\n\t\t</List>\r\n\t)\r\n\r\n\tif (ScrollableContainer) {\r\n\t\treturn (\r\n\t\t\t<ScrollableContainer style={maxHeightStyle} maxHeight={maxHeight}>\r\n\t\t\t\t{listElement}\r\n\t\t\t</ScrollableContainer>\r\n\t\t)\r\n\t}\r\n\r\n\treturn listElement\r\n})\r\n\r\nScrollableList.propTypes =\r\n{\r\n\t// // A list of items.\r\n\t// items : PropTypes.arrayOf\r\n\t// (\r\n\t// \tPropTypes.shape\r\n\t// \t({\r\n\t// \t\t// Item value (may be `undefined`).\r\n\t// \t\tvalue : PropTypes.any,\r\n\t// \t\t// Item label (may be `undefined`).\r\n\t// \t\tlabel : PropTypes.string,\r\n\t// \t\t// Item icon component.\r\n\t// \t\ticon  : PropTypes.func,\r\n\t// \t\t// Render custom content (a React component).\r\n\t// \t\t// Receives `{ value, label }` properties.\r\n\t// \t\tcontent : PropTypes.func\r\n\t// \t})\r\n\t// ),\r\n\r\n\t// Maximum items fitting the list height (scrollable).\r\n\t// Set to `0` to disable overflow.\r\n\t// Is `6` by default.\r\n\tscrollMaxItems : PropTypes.number.isRequired,\r\n\r\n\t// Whether should add `margin-right` for scrollbar width on overflow.\r\n\t// Is `true` by default.\r\n\tscrollBarPadding : PropTypes.bool,\r\n\r\n\tScrollableContainer : PropTypes.elementType,\r\n\r\n\tlistRef : PropTypes.oneOfType([\r\n\t\tPropTypes.func,\r\n\t\tPropTypes.object\r\n\t]),\r\n\r\n\tclassName : PropTypes.string\r\n}\r\n\r\nScrollableList.defaultProps =\r\n{\r\n\tscrollMaxItems : 6,\r\n\tscrollBarPadding : true\r\n}\r\n","function t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}export default function(e,i){var o=window,l=i.scrollMode,d=i.block,u=i.inline,h=i.boundary,a=i.skipOverflowHiddenElements,c=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var f=document.scrollingElement||document.documentElement,s=[],p=e;t(p)&&c(p);){if((p=p.parentElement)===f){s.push(p);break}null!=p&&p===document.body&&n(p)&&!n(document.documentElement)||null!=p&&n(p,a)&&s.push(p)}for(var m=o.visualViewport?o.visualViewport.width:innerWidth,g=o.visualViewport?o.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,v=window.scrollY||pageYOffset,W=e.getBoundingClientRect(),b=W.height,H=W.width,y=W.top,E=W.right,M=W.bottom,V=W.left,x=\"start\"===d||\"nearest\"===d?y:\"end\"===d?M:y+b/2,I=\"center\"===u?V+H/2:\"end\"===u?E:V,C=[],T=0;T<s.length;T++){var k=s[T],B=k.getBoundingClientRect(),D=B.height,O=B.width,R=B.top,X=B.right,Y=B.bottom,L=B.left;if(\"if-needed\"===l&&y>=0&&V>=0&&M<=g&&E<=m&&y>=R&&M<=Y&&V>=L&&E<=X)return C;var S=getComputedStyle(k),j=parseInt(S.borderLeftWidth,10),q=parseInt(S.borderTopWidth,10),z=parseInt(S.borderRightWidth,10),A=parseInt(S.borderBottomWidth,10),F=0,G=0,J=\"offsetWidth\"in k?k.offsetWidth-k.clientWidth-j-z:0,K=\"offsetHeight\"in k?k.offsetHeight-k.clientHeight-q-A:0;if(f===k)F=\"start\"===d?x:\"end\"===d?x-g:\"nearest\"===d?r(v,v+g,g,q,A,v+x,v+x+b,b):x-g/2,G=\"start\"===u?I:\"center\"===u?I-m/2:\"end\"===u?I-m:r(w,w+m,m,j,z,w+I,w+I+H,H),F=Math.max(0,F+v),G=Math.max(0,G+w);else{F=\"start\"===d?x-R-q:\"end\"===d?x-Y+A+K:\"nearest\"===d?r(R,Y,D,q,A+K,x,x+b,b):x-(R+D/2)+K/2,G=\"start\"===u?I-L-j:\"center\"===u?I-(L+O/2)+J/2:\"end\"===u?I-X+z+J:r(L,X,O,j,z+J,I,I+H,H);var N=k.scrollLeft,P=k.scrollTop;x+=P-(F=Math.max(0,Math.min(P+F,k.scrollHeight-D+K))),I+=N-(G=Math.max(0,Math.min(N+G,k.scrollWidth-O+J)))}C.push({el:k,top:F,left:G})}return C}\n//# sourceMappingURL=index.module.js.map\n","import compute from 'compute-scroll-into-view';\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\n\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n\n  var canSmoothScroll = ('scrollBehavior' in document.body.style);\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\n\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n\n  if (isOptionsObject(options)) {\n    return options;\n  }\n\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\n\nfunction scrollIntoView(target, options) {\n  var isTargetAttached = target.isConnected || target.ownerDocument.documentElement.contains(target);\n\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(isTargetAttached ? compute(target, options) : []);\n  }\n\n  if (!isTargetAttached) {\n    return;\n  }\n\n  var computeOptions = getOptions(options);\n  return defaultBehavior(compute(target, computeOptions), computeOptions.behavior);\n}\n\nexport default scrollIntoView;","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport scrollIntoView from 'scroll-into-view-if-needed'\r\nimport createRef from 'react-create-ref'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nimport Close, { CloseIcon } from './Close'\r\nimport OnFocusOutOrTapOutside from './OnFocusOutOrTapOutside'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n/**\r\n * Usage:\r\n *\r\n * <button onClick={() => this.expandable.toggle()}>\r\n *   Toggle\r\n * </button>\r\n *\r\n * <Expandable ref={ref => this.expandable = ref}>\r\n *   ...\r\n * </Expandable>\r\n *\r\n * Methods:\r\n * * `.toggle()`\r\n * * `.expand()`\r\n * * `.collapse()`\r\n * * `.isExpanded()`\r\n */\r\nexport default class Expandable extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// The default animation could be called \"expand\".\r\n\t\tanimation: PropTypes.oneOf(['fade-up']),\r\n\r\n\t\t// Can optionally preload `<Expandable/>` contents before expanding it.\r\n\t\t// Must return a `Promise`.\r\n\t\tpreload : PropTypes.func,\r\n\t\tonPreloadStateChange : PropTypes.func,\r\n\t\tonPreloadError : PropTypes.func,\r\n\r\n\t\tonExpand : PropTypes.func,\r\n\t\tonCollapse : PropTypes.func,\r\n\r\n\t\t// Whether the `<Expandable/>` expands upwards or downwards.\r\n\t\talignment : PropTypes.oneOf(['left', 'right']),\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// then the dropdown expands itself upward.\r\n\t\t// (as opposed to the default downward)\r\n\t\tupward : PropTypes.bool,\r\n\r\n\t\t// ARIA `role` (accessibility).\r\n\t\trole : PropTypes.string,\r\n\r\n\t\t// CSS style object.\r\n\t\tstyle : PropTypes.object,\r\n\r\n\t\t// CSS class.\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// When the `<Expandable/>` is expanded\r\n\t\t// its content may not fit on the screen.\r\n\t\t// If `scrollIntoView` is `true` (which is the default)\r\n\t\t// then the browser will automatically scroll\r\n\t\t// so that the expanded content fits on the screen.\r\n\t\tscrollIntoView : PropTypes.bool.isRequired,\r\n\r\n\t\t// If `scrollIntoView` is `true` (which is the default)\r\n\t\t// then these two are gonna define the delay after which it scrolls into view.\r\n\t\texpandAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t\tscrollIntoViewDelay : PropTypes.number.isRequired,\r\n\r\n\t\tgetTogglerNode : PropTypes.func,\r\n\t\tonFocusOut : PropTypes.func,\r\n\r\n\t\t// `aria-label` for the \"Close\" button\r\n\t\t// (which is an \"x\" visible in fullscreen mode).\r\n\t\tcloseLabel : PropTypes.string,\r\n\r\n\t\t// The \"x\" button icon that closes the `<Select/>`\r\n\t\t// in fullscreen mode on mobile devices.\r\n\t\tcloseButtonIcon : PropTypes.oneOfType([PropTypes.func, PropTypes.oneOf([false])]).isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tscrollIntoView : true,\r\n\t\texpandAnimationDuration : 150,\r\n\t\tscrollIntoViewDelay : 0,\r\n\r\n\t\t// The \"x\" button icon that closes the `<Select/>`\r\n\t\t// in fullscreen mode on mobile devices.\r\n\t\tcloseButtonIcon : CloseIcon\r\n\t}\r\n\r\n\tstate = {\r\n\t\t// Initializing it to `false` is required for `if (expand === expanded)`.\r\n\t\texpanded: false\r\n\t}\r\n\r\n\tonFocusOutRef = createRef()\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tthis._isBeingUnmounted = true\r\n\t\tif (this.cancelProcess) {\r\n\t\t\tthis.cancelProcess()\r\n\t\t}\r\n\t}\r\n\r\n\tisExpanded = () => this.state.expanded\r\n\r\n\t// Returns a `Promise`.\r\n\texpand   = (parameters) => this.toggle(true, parameters)\r\n\r\n\t// Returns a `Promise`.\r\n\tcollapse = () => this.toggle(false)\r\n\r\n\t// Returns a `Promise`.\r\n\ttoggle = (expand, parameters = {}) =>\r\n\t{\r\n\t\t// This code is also copy-pasted in `source/SlideOutMenu.js`.\r\n\r\n\t\tconst {\r\n\t\t\tonExpand,\r\n\t\t\tonExpanded,\r\n\t\t\tonCollapse,\r\n\t\t\tonCollapsed\r\n\t\t} = this.props\r\n\r\n\t\tconst { expanded } = this.state\r\n\r\n\t\t// If no `expand` argument provided then just toggle.\r\n\t\tconst isExpandedState = (expanded && this.process !== 'unexpand') ||\r\n\t\t\t(this.process === 'expand')\r\n\t\tif (expand === undefined) {\r\n\t\t\texpand = !isExpandedState\r\n\t\t}\r\n\r\n\t\t// Don't collapse if already collapsed.\r\n\t\t// Don't expand if already expanded\r\n\t\t// unless manually forcing a refresh of content.\r\n\r\n\t\tlet refreshingExpanded\r\n\t\tif (expand && isExpandedState && parameters.refresh) {\r\n\t\t\trefreshingExpanded = true\r\n\t\t}\r\n\r\n\t\tif (expand === isExpandedState && !refreshingExpanded) {\r\n\t\t\treturn Promise.resolve()\r\n\t\t}\r\n\r\n\t\t// if (this.isToggling && !refreshingExpanded) {\r\n\t\t// \treturn Promise.resolve()\r\n\t\t// }\r\n\r\n\t\tif (this.cancelProcess) {\r\n\t\t\tthis.cancelProcess()\r\n\t\t}\r\n\r\n\t\tlet cancelled\r\n\r\n\t\tconst reset = () => {\r\n\t\t\tthis.process = undefined\r\n\t\t\tthis.processPhase = undefined\r\n\t\t\tthis.cancelProcess = undefined\r\n\t\t}\r\n\r\n\t\tconst nextPhase = (phase) => {\r\n\t\t\tif (!cancelled) {\r\n\t\t\t\tthis.processPhase = phase\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction endProcess() {\r\n\t\t\tnextPhase()\r\n\t\t\treset()\r\n\t\t}\r\n\r\n\t\tconst phaseCancellers = {}\r\n\t\tfunction onCancelPhase(phase, handler) {\r\n\t\t\tphaseCancellers[phase] = handler\r\n\t\t}\r\n\r\n\t\tthis.cancelProcess = () => {\r\n\t\t\tif (phaseCancellers[this.processPhase]) {\r\n\t\t\t\tphaseCancellers[this.processPhase]()\r\n\t\t\t}\r\n\t\t\tcancelled = true\r\n\t\t\treset()\r\n\t\t}\r\n\r\n\t\tif (expand) {\r\n\t\t\t// Expand.\r\n\t\t\tthis.process = 'expand'\r\n\t\t\tonCancelPhase('scheduleExpand', () => clearTimeout(this.expandTimeout))\r\n\t\t\tonCancelPhase('expanded', () => clearTimeout(this.scrollIntoViewTimer))\r\n\t\t\tnextPhase('preload')\r\n\t\t\treturn this.preload().then(() => new Promise((resolve) => {\r\n\t\t\t\tif (!nextPhase('render')) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tshouldRender: true\r\n\t\t\t\t},\r\n\t\t\t\t// Without an artificial delay for some reason the CSS \"expand\" animation won't play.\r\n\t\t\t\t// Perhaps a browser decides to optimize two subsequent renders\r\n\t\t\t\t// and doesn't render \"pre-expanded\" and \"expanded\" states separately.\r\n\t\t\t\t// Even with a 0ms delay it would randomly play/not-play the expand animation.\r\n\t\t\t\t() => {\r\n\t\t\t\t\tif (!nextPhase('scheduleExpand')) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (onExpand) {\r\n\t\t\t\t\t\tonExpand()\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// Using `requestAnimationFrame()` instead of `setTimeout()`\r\n\t\t\t\t\t// because otherwise there would be a weird and strange delay.\r\n\t\t\t\t\tthis.expandTimeout = setTimeout(() => {\r\n\t\t\t\t\t\tif (!nextPhase('expand')) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.expandTimeout = undefined\r\n\t\t\t\t\t\tthis.setState({ expanded: true }, () => {\r\n\t\t\t\t\t\t\tif (!nextPhase('expanded')) {\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (onExpanded) {\r\n\t\t\t\t\t\t\t\tonExpanded()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (this.onFocusOutRef.current) {\r\n\t\t\t\t\t\t\t\tthis.onFocusOutRef.current.listenToTouches()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tthis.scrollIntoView().then(endProcess)\r\n\t\t\t\t\t\t\t// `resolve()` doesn't wait for `scrollIntoView`\r\n\t\t\t\t\t\t\t// because other components use it like `.toggle().then(focus)`\r\n\t\t\t\t\t\t\t// where it shouldn't wait for the final phases like \"scroll into view\".\r\n\t\t\t\t\t\t\tresolve()\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t})\r\n\t\t\t}))\r\n\t\t} else {\r\n\t\t\t// Un-Expand.\r\n\t\t\tthis.process = 'unexpand'\r\n\t\t\tonCancelPhase('unexpand', () => clearTimeout(this.scrollIntoViewTimer))\r\n\t\t\tonCancelPhase('unexpanded', () => clearTimeout(this.waitUnForExpandAnimationTimer))\r\n\t\t\tnextPhase('unexpand')\r\n\t\t\tif (this.onFocusOutRef.current) {\r\n\t\t\t\tthis.onFocusOutRef.current.stopListeningToTouches()\r\n\t\t\t}\r\n\t\t\tif (onCollapse) {\r\n\t\t\t\tonCollapse({ focusOut: this.focusOut })\r\n\t\t\t}\r\n\t\t\t// Set `expanded` to `false` to play the collapse CSS animation.\r\n\t\t\t// Once that animation is finished remove\r\n\t\t\t// the contents of the `<Expanded/>` from DOM.\r\n\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\tthis.setState({ expanded: false }, () => {\r\n\t\t\t\t\tif (!nextPhase('unexpanded')) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (onCollapsed) {\r\n\t\t\t\t\t\tonCollapsed()\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconst waitForUnExpandAnimation = () => {\r\n\t\t\t\t\t\tconst { expandAnimationDuration } = this.props\r\n\t\t\t\t\t\treturn new Promise((resolve) => {\r\n\t\t\t\t\t\t\tthis.waitUnForExpandAnimationTimer = setTimeout(resolve, expandAnimationDuration * 1.1)\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\twaitForUnExpandAnimation().then(() => {\r\n\t\t\t\t\t\tif (!nextPhase('unrender')) {\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.setState({ shouldRender: false }, endProcess)\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// `resolve()` doesn't wait for `removeFromDOMAfterCollapsed`\r\n\t\t\t\t\t// because other components use it like `.toggle().then(focus)`\r\n\t\t\t\t\t// where it shouldn't wait for the final phases like \"scroll into view\".\r\n\t\t\t\t\tresolve()\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\t// Preload `<Expanded/>` content (if required).\r\n\t// Returns a `Promise`.\r\n\tpreload()\r\n\t{\r\n\t\tconst { preload, onPreloadStateChange } = this.props\r\n\r\n\t\tif (preload) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tisPreloading: true\r\n\t\t\t})\r\n\t\t\tif (onPreloadStateChange) {\r\n\t\t\t\tonPreloadStateChange(true)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (preload ? preload() : Promise.resolve())\r\n\t\t\t.then(() =>\r\n\t\t\t{\r\n\t\t\t\tif (onPreloadStateChange) {\r\n\t\t\t\t\tonPreloadStateChange(false)\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisPreloading: false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t(error) =>\r\n\t\t\t{\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t\t// if (onPreloadError) {\r\n\t\t\t\t// \tonPreloadError(error)\r\n\t\t\t\t// }\r\n\t\t\t\tif (onPreloadStateChange) {\r\n\t\t\t\t\tonPreloadStateChange(false)\r\n\t\t\t\t}\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisPreloading: false\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\tscrollIntoView() {\r\n\t\tconst {\r\n\t\t\tscrollIntoView: shouldScrollIntoView,\r\n\t\t\tscrollIntoViewDelay,\r\n\t\t\texpandAnimationDuration\r\n\t\t} = this.props\r\n\t\tif (!shouldScrollIntoView) {\r\n\t\t\treturn Promise.resolve()\r\n\t\t}\r\n\t\treturn new Promise((resolve) => {\r\n\t\t\tthis.scrollIntoViewTimer = setTimeout(() => {\r\n\t\t\t\t// https://github.com/stipsan/scroll-into-view-if-needed/issues/359\r\n\t\t\t\t// scrollIntoView(this.container, false, { duration: 300 })\r\n\t\t\t\tscrollIntoView(this.container, {\r\n\t\t\t\t\tscrollMode: 'if-needed',\r\n\t\t\t\t\tbehavior: 'smooth',\r\n\t\t\t\t\tblock: 'nearest',\r\n\t\t\t\t\tinline: 'nearest'\r\n\t\t\t\t})\r\n\t\t\t\tresolve()\r\n\t\t\t}, Math.max(scrollIntoViewDelay, expandAnimationDuration) * 1.1)\r\n\t\t})\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// Collapse on \"Escape\".\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Collapse the list if it's expanded\r\n\t\t\t\treturn this.collapse()\r\n\t\t}\r\n\t}\r\n\r\n\tstoreContainerNode = (node) => this.container = node\r\n\tgetContainerNode = () => this.container\r\n\r\n\t// This function is called from outside in `<ExpandableList/>`.\r\n\tonBlur = (event) => {\r\n\t\tif (this.onFocusOutRef.current) {\r\n\t\t\tthis.onFocusOutRef.current.onBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusOut = (event) => {\r\n\t\t// In some scenarios, selecting a value in a `<Select/>` may hide that select.\r\n\t\t// In that case, it won't be mounted anymore, so it won't make any difference\r\n\t\t// whether its `onFocusOut()` handler is called or not because it's UI-related\r\n\t\t// and `onChange()` has already been processed.\r\n\t\tif (this._isBeingUnmounted) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tconst { onFocusOut } = this.props\r\n\t\tthis.focusOut = true\r\n\t\tonFocusOut(event)\r\n\t\tthis.focusOut = undefined\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tanimation,\r\n\t\t\talignment,\r\n\t\t\tupward,\r\n\t\t\tonFocusOut,\r\n\t\t\tgetTogglerNode,\r\n\t\t\tcloseLabel,\r\n\t\t\tcloseButtonIcon : CloseButtonIcon,\r\n\t\t\trole,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tshouldRender,\r\n\t\t\texpanded\r\n\t\t}\r\n\t\t= this.state\r\n\r\n\t\tif (!shouldRender) {\r\n\t\t\treturn null\r\n\t\t}\r\n\r\n\t\t// `tabIndex={ -1 }` makes the `<div/>` focusable.\r\n\t\t// So that `<Expandable/>` doesn't collapse on click inside it (top, bottom).\r\n\r\n\t\t// `aria-hidden={true/false}` is not set automatically here\r\n\t\t// because when `<Expandable/>` is collapsed then it's not rendered.\r\n\r\n\t\t// tabIndex={ -1 }\r\n\r\n\t\tlet element = (\r\n\t\t\t<div\r\n\t\t\t\tref={ this.storeContainerNode }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\trole={ role }\r\n\t\t\t\taria-hidden={ this.props['aria-hidden'] }\r\n\t\t\t\taria-label={ this.props['aria-label'] }\r\n\t\t\t\tstyle={ style }\r\n\t\t\t\tclassName={ classNames\r\n\t\t\t\t(\r\n\t\t\t\t\tclassName,\r\n\t\t\t\t\t'rrui__shadow',\r\n\t\t\t\t\t'rrui__expandable',\r\n\t\t\t\t\t'rrui__expandable--overlay',\r\n\t\t\t\t\tanimation && `rrui__expandable--${animation}`,\r\n\t\t\t\t\tanimation && expanded && `rrui__expandable--expanded--${animation}`,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'rrui__expandable--expanded'      : expanded,\r\n\t\t\t\t\t\t'rrui__expandable--left-aligned'  : alignment === 'left',\r\n\t\t\t\t\t\t'rrui__expandable--right-aligned' : alignment === 'right',\r\n\t\t\t\t\t\t'rrui__expandable--upward'        : upward,\r\n\t\t\t\t\t\t'rrui__expandable--downward'      : !upward\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\t\t\t\t{ React.Children.map(children, (child) =>\r\n\t\t\t\t{\r\n\t\t\t\t\treturn React.cloneElement(child,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tclassName: classNames\r\n\t\t\t\t\t\t(\r\n\t\t\t\t\t\t\tchild.props.className,\r\n\t\t\t\t\t\t\t'rrui__expandable__content',\r\n\t\t\t\t\t\t\tanimation && `rrui__expandable__content--${animation}`,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__expandable__content--expanded' : expanded\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t})\r\n\t\t\t\t}) }\r\n\r\n\t\t\t\t{/* The \"x\" button to hide the fullscreen expandable on mobile devices */}\r\n\t\t\t\t{ expanded && CloseButtonIcon &&\r\n\t\t\t\t\t<Close\r\n\t\t\t\t\t\tonClick={this.collapse}\r\n\t\t\t\t\t\tcloseLabel={closeLabel}\r\n\t\t\t\t\t\tclassName={classNames('rrui__close--bottom-right', 'rrui__expandable__close')}>\r\n\t\t\t\t\t\t<CloseButtonIcon/>\r\n\t\t\t\t\t</Close>\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\r\n\t\tif (onFocusOut) {\r\n\t\t\t// `<OnFocusOutOrTapOutside/>` sets `onBlur` on the `<div/>`.\r\n \t\t\t// `<Expandable/>` calls `.listenToTouches()` / `.stopListeningToTouches()` manually.\r\n\t\t\telement = (\r\n\t\t\t\t<OnFocusOutOrTapOutside\r\n\t\t\t\t\tref={this.onFocusOutRef}\r\n\t\t\t\t\tgetContainerNode={this.getContainerNode}\r\n\t\t\t\t\tgetTogglerNode={getTogglerNode}\r\n\t\t\t\t\tonFocusOut={this.onFocusOut}\r\n\t\t\t\t\tlistenToTouches={false}>\r\n\t\t\t\t\t{element}\r\n\t\t\t\t</OnFocusOutOrTapOutside>\r\n\t\t\t)\r\n\t\t}\r\n\r\n\t\treturn element\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\n\r\nimport ScrollableList from './ScrollableList'\r\nimport Expandable from './Expandable'\r\nimport { findItemIndexByValue } from './List'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nclass ExpandableList extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// Maximum items fitting the list height (scrollable).\r\n\t\tscrollMaxItems : PropTypes.number,\r\n\r\n\t\t// Whether should add `margin-right` for scrollbar width on overflow.\r\n\t\tscrollBarPadding : PropTypes.bool,\r\n\r\n\t\t// Preloads the contents of the expandable list\r\n\t\t// before it's expanded. Must return a `Promise`.\r\n\t\tpreload : PropTypes.func,\r\n\r\n\t\t// Whether the list items should be focused upon expand.\r\n\t\tfocusOnExpand : PropTypes.bool.isRequired,\r\n\t\tfocusSelectedItem : PropTypes.bool.isRequired,\r\n\r\n\t\tanimation : PropTypes.string,\r\n\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\talignment : 'left',\r\n\t\tfocusOnExpand : true,\r\n\t\tfocusSelectedItem : true\r\n\t}\r\n\r\n\tstatic getDerivedStateFromProps(props, state) {\r\n\t\t// Using `!state.hasOwnProperty()` as \"not initialized\"\r\n\t\t// because when there's an empty option `props.value` is `undefined`.\r\n\t\tif (props.focusSelectedItem &&\r\n\t\t\t(!state.hasOwnProperty('selectedItemValue') || state.selectedItemValue !== props.value)) {\r\n\t\t\treturn {\r\n\t\t\t\tselectedItemValue : props.value,\r\n\t\t\t\t// `findItemIndexByValue()` must return `undefined` for \"no such item\".\r\n\t\t\t\tselectedItemIndex : findItemIndexByValue(props.value, props.children)\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\t// Returns a `Promise`.\r\n\ttoggle     = () => this.expandable.toggle()\r\n\r\n\t// Returns a `Promise`.\r\n\texpand     = (parameters) => this.expandable.expand(parameters)\r\n\r\n\t// Returns a `Promise`.\r\n\tcollapse   = () => this.expandable.collapse()\r\n\r\n\tisExpanded = () => this.expandable.isExpanded()\r\n\r\n\t// Returns a `Promise`.\r\n\tpreload    = () => this.expandable.preload()\r\n\r\n\tonBlur     = (event) => {\r\n\t\tthis.expandable.onBlur(event)\r\n\t}\r\n\r\n\tchooseFocusedItem = () => this.list && this.list.chooseFocusedItem()\r\n\tgetFocusedItemIndex = () => this.list ? this.list.getFocusedItemIndex() : undefined\r\n\tfocusItem = (index) => this.list.focusItem(index)\r\n\tclearFocus = () => this.list.clearFocus()\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onEnter } = this.props\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// \"Escape\".\r\n\t\t\t// Collapse.\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Collapse the list if it's expanded.\r\n\t\t\t\treturn this.expandable.collapse()\r\n\r\n\t\t\t// \"Up\" arrow.\r\n\t\t\t// Select the previous item (if present).\r\n\t\t\tcase 38:\r\n\t\t\t// \"Down\" arrow.\r\n\t\t\t// Select the next item (if present).\r\n\t\t\tcase 40:\r\n\t\t\t\tif (this.isExpanded())\r\n\t\t\t\t{\r\n\t\t\t\t\t// Navigate the list (if it was already expanded).\r\n\t\t\t\t\tthis.list.onKeyDown(event)\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\t// Expand the list if it's collapsed.\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\tthis.expandable.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\t// Select the currently focused item.\r\n\t\t\t\treturn this.list && this.list.onKeyDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tstoreExpandableRef = (ref) => this.expandable = ref\r\n\tstoreListRef = (ref) => this.list = ref\r\n\r\n\tonChange = (value, index) =>\r\n\t{\r\n\t\tconst { onChange, focusSelectedItem } = this.props\r\n\r\n\t\tif (onChange) {\r\n\t\t\tonChange(value, index)\r\n\t\t}\r\n\r\n\t\tif (focusSelectedItem)\r\n\t\t{\r\n\t\t\tthis.setState({\r\n\t\t\t\tselectedItemIndex : index\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.collapsedDueToItemBeingSelected = true\r\n\t\tthis.collapse()\r\n\t\tthis.collapsedDueToItemBeingSelected = undefined\r\n\t}\r\n\r\n\t// If a `<List/>` has `onChange` then it wraps `<List.Item/>`s with `<button/>`s.\r\n\t// The `onChange` added by `<ExpandableList/>` overrides the original `onChange`.\r\n\t// If there was no `onChange`  there will be one.\r\n\t// So to retain that info `hasOnChange` property is used as a workaround.\r\n\thasOnChange = () => {\r\n\t\tconst { onChange } = this.props\r\n\t\treturn !!onChange\r\n\t}\r\n\r\n\tonCollapse = (parameters) =>\r\n\t{\r\n\t\tconst { onCollapse } = this.props\r\n\r\n\t\tif (onCollapse)\r\n\t\t{\r\n\t\t\tonCollapse\r\n\t\t\t({\r\n\t\t\t\t...parameters,\r\n\t\t\t\tcollapsedDueToItemBeingSelected : this.collapsedDueToItemBeingSelected\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tselectedItemIndex: undefined\r\n\t\t})\r\n\r\n\t\tif (this.list) {\r\n\t\t\tthis.list.clearFocus()\r\n\t\t}\r\n\t}\r\n\r\n\tonExpand = () =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tfocusOnExpand,\r\n\t\t\tonExpand,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { selectedItemIndex } = this.state\r\n\r\n\t\tif (onExpand) {\r\n\t\t\tonExpand()\r\n\t\t}\r\n\r\n\t\t// Re-calculate `<ScrollableList/>` height.\r\n\t\t// Because `<ScrollableList/>` is always mounted,\r\n\t\t// even when collapsed, so its height should be\r\n\t\t// re-calculated after it's actually expanded.\r\n\t\t// Re-calculating `<ScrollableList/>` height\r\n\t\t// before focusing the list because otherwise\r\n\t\t// a long list wouldn't have its `max-height` set\r\n\t\t// and focusing it (`this.list.focus()`) could\r\n\t\t// result in scroll position \"jump\".\r\n\t\tthis.list.onExpand()\r\n\r\n\t\tif (focusOnExpand) {\r\n\t\t\tif (selectedItemIndex === undefined) {\r\n\t\t\t\tthis.list.focus()\r\n\t\t\t} else {\r\n\t\t\t\tthis.list.focusItem(selectedItemIndex)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tanimation,\r\n\t\t\talignment,\r\n\t\t\tupward,\r\n\t\t\tscrollIntoView,\r\n\t\t\tpreload,\r\n\t\t\tonPreloadStateChange,\r\n\t\t\tgetTogglerNode,\r\n\t\t\tonFocusOut,\r\n\t\t\tonChange,\r\n\t\t\thighlightSelectedItem,\r\n\t\t\tcloseLabel,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tclassName,\r\n\t\t\tchildren,\r\n\t\t\t...rest\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<Expandable\r\n\t\t\t\tref={ this.storeExpandableRef }\r\n\t\t\t\tanimation={ animation }\r\n\t\t\t\talignment={ alignment }\r\n\t\t\t\tupward={ upward }\r\n\t\t\t\tscrollIntoView={ scrollIntoView }\r\n\t\t\t\tpreload={ preload }\r\n\t\t\t\tonPreloadStateChange={ onPreloadStateChange }\r\n\t\t\t\tonExpand={ this.onExpand }\r\n\t\t\t\tonCollapse={ this.onCollapse }\r\n\t\t\t\tgetTogglerNode={ getTogglerNode }\r\n\t\t\t\tonFocusOut={ onFocusOut }\r\n\t\t\t\tcloseLabel={ closeLabel }\r\n\t\t\t\tcloseButtonIcon={ closeButtonIcon }\r\n\t\t\t\tclassName={ classNames(className, 'rrui__expandable-list',\r\n\t\t\t\t{\r\n\t\t\t\t\t'rrui__expandable-list--left-aligned'  : alignment === 'left',\r\n\t\t\t\t\t'rrui__expandable-list--right-aligned' : alignment === 'right'\r\n\t\t\t\t}) }>\r\n\r\n\t\t\t\t<ScrollableList\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\texpandable\r\n\t\t\t\t\tref={ this.storeListRef }\r\n\t\t\t\t\tonChange={ this.onChange }\r\n\t\t\t\t\thasOnChange={ this.hasOnChange() }\r\n\t\t\t\t\thighlightSelectedItem={ onChange === undefined && highlightSelectedItem === undefined ? false : highlightSelectedItem }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</ScrollableList>\r\n\t\t\t</Expandable>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default reactLifecyclesCompat(ExpandableList)","import React from 'react'\r\nimport classNames from 'classnames'\r\n\r\nexport default function Divider({ style, className }) {\r\n\treturn (\r\n\t\t<div\r\n\t\t\trole=\"separator\"\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={classNames(className, 'rrui__divider')}>\r\n\t\t\t<hr className=\"rrui__divider__line\"/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n// Workaround for `react-hot-loader`.\r\n// https://github.com/gaearon/react-hot-loader#checking-element-types\r\nDivider.displayName = 'Divider'","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\nimport classNames from 'classnames'\r\n\r\nimport ExpandableList from './ExpandableList'\r\nimport List from './List'\r\nimport Label from './TextInputLabel'\r\nimport Ellipsis from './Ellipsis'\r\nimport Divider from './Divider'\r\nimport WithError from './WithError'\r\n\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\nimport { onBlur } from './utility/focus'\r\nimport { submitFormOnCtrlEnter, submitContainingForm } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nconst empty_value_option_value = ''\r\n\r\nclass Select extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// A list of selectable options\r\n\t\toptions : PropTypes.arrayOf\r\n\t\t(\r\n\t\t\tPropTypes.shape\r\n\t\t\t({\r\n\t\t\t\t// Option value (may be `undefined`)\r\n\t\t\t\tvalue : PropTypes.any,\r\n\t\t\t\t// Could restrict it to stringifiable types\r\n\t\t\t\t// but I guess this is not required\r\n\t\t\t\t// and one could even use `object`s as `value`s.\r\n\t\t\t\t// // Option value (may be `undefined`)\r\n\t\t\t\t// value : PropTypes.oneOfType([\r\n\t\t\t\t// \tPropTypes.string,\r\n\t\t\t\t// \tPropTypes.number,\r\n\t\t\t\t// \tPropTypes.bool\r\n\t\t\t\t// ]),\r\n\t\t\t\t// Option label (may be `undefined`)\r\n\t\t\t\tlabel : PropTypes.string,\r\n\t\t\t\t// Option icon\r\n\t\t\t\ticon  : PropTypes.oneOfType\r\n\t\t\t\t([\r\n\t\t\t\t\tPropTypes.node,\r\n\t\t\t\t\tPropTypes.func\r\n\t\t\t\t]),\r\n\t\t\t\t// (deprecated, use `optionComponent` instead)\r\n\t\t\t\t// Render custom content (a React component).\r\n\t\t\t\t// Receives `{ value, label }` properties.\r\n\t\t\t\tcontent : PropTypes.func\r\n\t\t\t})\r\n\t\t)\r\n\t\t.isRequired,\r\n\r\n\t\t// HTML `id` attribute for the `<select/>` element.\r\n\t\tid         : PropTypes.string,\r\n\r\n\t\t// HTML form input `name` attribute\r\n\t\tname       : PropTypes.string,\r\n\r\n\t\t// Label which is placed above the select\r\n\t\tlabel      : PropTypes.string,\r\n\r\n\t\t// Placeholder (like \"Choose\")\r\n\t\tplaceholder : PropTypes.string,\r\n\r\n\t\t// Selected option component.\r\n\t\t// (when `<Select/>` is not expanded).\r\n\t\t// Receives properties:\r\n\t\t// `{ ...option }`  All properties of the selected `option` such as `value`, `label`, etc. Each `option` must have a `value` and a `label` (`value` may be `undefined`).\r\n\t\t// `wait`  Passed through `wait` property of the `<Select/>` component. `<Autocomplete/>` renders a `<Select/>` internally and passes `wait={true}` when it's loading options.\r\n\t\t// Can only contain \"inline\" elements like `<span/>`,\r\n\t\t// not `<div/>`s, `<section/`>s, `<h1/>`s or `<p/>`s,\r\n\t\t// because `<button/>`s can't contain \"block\" elements.\r\n\t\t// `display: block` can still be set on `<span/>`s and other \"inline\" elements.\r\n\t\tselectedOptionComponent : PropTypes.elementType,\r\n\r\n\t\t// Dropdown arrow component.\r\n\t\tarrowComponent : PropTypes.elementType,\r\n\r\n\t\t// Option component.\r\n\t\t// (when `<Select/>` is expanded).\r\n\t\t// Receives properties:\r\n\t\t// * `{ ...option }`  All properties of an `option` such as `value`, `label`, etc. Each `option` must have a `value` and a `label` (`value` may be `undefined`).\r\n\t\t// * `selected: boolean`  If this option is selected.\r\n\t\t// * `focused: boolean`  If this option is focused.\r\n\t\t// * `disabled: boolean`  If this option is disabled. Seems to be not used for now.\r\n\t\t// Can only contain \"inline\" elements like `<span/>`,\r\n\t\t// not `<div/>`s, `<section/`>s, `<h1/>`s or `<p/>`s,\r\n\t\t// because `<button/>`s can't contain \"block\" elements.\r\n\t\t// `display: block` can still be set on `<span/>`s and other \"inline\" elements.\r\n\t\toptionComponent : PropTypes.elementType,\r\n\r\n\t\t// Options list alignment.\r\n\t\t// Is \"left\" by default.\r\n\t\talignment : PropTypes.string,\r\n\r\n\t\t// Whether to use native `<select/>`\r\n\t\tnative      : PropTypes.bool.isRequired,\r\n\r\n\t\t// Whether to use native `<select/>` when expanded\r\n\t\tnativeExpanded : PropTypes.bool.isRequired,\r\n\r\n\t\t// Show icon only for selected item,\r\n\t\t// and only if `icon` is `true`.\r\n\t\tsaveOnIcons : PropTypes.bool.isRequired,\r\n\r\n\t\t// Disables this control\r\n\t\tdisabled   : PropTypes.bool,\r\n\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired   : PropTypes.bool.isRequired,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t\t// Set to `true` to display the loading indicator\r\n\t\twait       : PropTypes.bool.isRequired,\r\n\r\n\t\t// Selected option value\r\n\t\tvalue      : PropTypes.any,\r\n\r\n\t\t// Is called when an option is selected\r\n\t\tonChange   : PropTypes.func,\r\n\r\n\t\t// Is called when the select is blurred.\r\n\t\t// This `onBlur` interceptor is a workaround for `redux-form`,\r\n\t\t// so that it gets the parsed `value` in its `onBlur` handler,\r\n\t\t// not the formatted text.\r\n\t\tonBlur     : PropTypes.func,\r\n\r\n\t\t// If `scroll` is `false`, then options list\r\n\t\t// is not limited in height.\r\n\t\t// Is `true` by default (scrollable).\r\n\t\tscroll     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Component CSS class\r\n\t\tclassName  : PropTypes.string,\r\n\r\n\t\t// `<button/>` toggler CSS class\r\n\t\t// (deprecated name, use `selectedOptionClassName` property name instead)\r\n\t\ttoggleClassName : PropTypes.string,\r\n\r\n\t\t// Selected option `<button/>` CSS class.\r\n\t\tselectedOptionClassName : PropTypes.string,\r\n\r\n\t\t// Selected option `<button/>` CSS class when `error` property is passed.\r\n\t\tselectedOptionInvalidClassName : PropTypes.string,\r\n\r\n\t\t// Selected option `<button/>` CSS class when `disabled` property is passed.\r\n\t\tselectedOptionDisabledClassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle      : PropTypes.object,\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// and `icon` is specified for a selected option,\r\n\t\t// then the selected option will be displayed\r\n\t\t// as icon only, without the label.\r\n\t\ticon       : PropTypes.bool,\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// then it makes `<Select/>` not stretch itself\r\n\t\t// to 100% width by making it `inline-block`.\r\n\t\t// Is set to `true` when `icon` is `true`\r\n\t\t// because it makes sense.\r\n\t\tcompact    : PropTypes.bool,\r\n\r\n\t\t// HTML `tabindex` attribute\r\n\t\ttabIndex   : PropTypes.number,\r\n\r\n\t\t// `aria-label` for the `<Select/>`'s `<button/>`.\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel : PropTypes.string,\r\n\r\n\t\tScrollableContainer : PropTypes.elementType\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tnative : false,\r\n\t\tnativeExpanded : false,\r\n\r\n\t\tsaveOnIcons : false,\r\n\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired : false,\r\n\r\n\t\t// Show `error` (if passed).\r\n\t\tshowErrorMessage : true,\r\n\r\n\t\t// Set to `true` to display the loading indicator\r\n\t\twait : false,\r\n\r\n\t\t// Will show scrollbar on overflow.\r\n\t\tscroll : true,\r\n\r\n\t\talignment : 'left'\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tfocus = () => this.select.focus()\r\n\r\n\t// On mobile devices the <button/> is focused instead of <select/>\r\n\t// because when <select/> is focused then native mobile <select/> is expanded.\r\n\tfocusToggler = () => this.selectButton.focus()\r\n\r\n\tonCollapse = ({ focusOut }) =>\r\n\t{\r\n\t\tthis.setState({ isExpanded: false })\r\n\r\n\t\tif (!focusOut) {\r\n\t\t\tif (this.isUsingKeyboard) {\r\n\t\t\t\tthis.focus()\r\n\t\t\t} else {\r\n\t\t\t\tthis.focusToggler()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonExpand = () => this.setState({ isExpanded: true })\r\n\r\n\texpand     = () => this.list.expand()\r\n\tcollapse   = () => this.list.collapse()\r\n\ttoggle     = () => this.list.toggle()\r\n\r\n\tstoreListRef = (ref) => this.list = ref\r\n\tstoreSelectNode = (node) => this.select = node\r\n\tstoreSelectButton = (node) => this.selectButton = node\r\n\tstoreInputComponentNode = (node) => this.inputComponentNode = node\r\n\tstoreContainerNode = (node) => this.container = node\r\n\r\n\tgetSelectButton = () => this.selectButton\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tclearTimeout(this.blurTimer)\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tupward,\r\n\t\t\ticon,\r\n\t\t\tcompact,\r\n\t\t\tscroll,\r\n\t\t\tscrollMaxItems,\r\n\t\t\tscrollIntoView,\r\n\t\t\talignment,\r\n\t\t\tsaveOnIcons,\r\n\t\t\tnative,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\tplaceholder,\r\n\t\t\toptions,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tshowErrorMessage,\r\n\t\t\terror,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tcloseLabel,\r\n\t\t\toptionComponent,\r\n\t\t\tselectedOptionComponent,\r\n\t\t\tScrollableContainer,\r\n\t\t\twait,\r\n\t\t\tstyle,\r\n\t\t\tclassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst {\r\n\t\t\tisExpanded,\r\n\t\t\tisFocused\r\n\t\t} = this.state\r\n\r\n\t\tconst topLabel = this.getTopLabel()\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\tsetRef={this.storeContainerNode}\r\n\t\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__select', {\r\n\t\t\t\t\t'rrui__select--empty': isEmptyValue(value),\r\n\t\t\t\t\t'rrui__select--compact' : compact || icon,\r\n\t\t\t\t\t'rrui__select--focus'   : isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={this.storeInputComponentNode}\r\n\t\t\t\t\tstyle={selectedOptionComponent && DISPLAY_FLEX}\r\n\t\t\t\t\tclassName={selectedOptionComponent ? undefined : 'rrui__input'}>\r\n\r\n\t\t\t\t\t{ wait && <Ellipsis/> }\r\n\r\n\t\t\t\t\t{/* Could use a wrapping `<label/>` here\r\n\t\t\t\t\t    but except the native `<select/>` there's\r\n\t\t\t\t\t    also a `<button/>` so they can't both\r\n\t\t\t\t\t    be wrapped in a `<label/>`.\r\n\t\t\t\t\t    In some future major version, when `--focus`\r\n\t\t\t\t\t    classes are added, the `<button/>` can be\r\n\t\t\t\t\t    moved out of the wrapping `<label/>`. */}\r\n\t\t\t\t\t{/* https://www.w3.org/TR/html50/forms.html#category-label */}\r\n\r\n\t\t\t\t\t{/* A transparent native `<select/>` on top\r\n\t\t\t\t\t    in case of `nativeExpanded={true}`.\r\n\t\t\t\t\t    (for better UX on mobile devices).\r\n\t\t\t\t\t    In case of `nativeExpanded={false}`\r\n\t\t\t\t\t    the native `<select/>` can be used for\r\n\t\t\t\t\t    javascriptless `<form/>` submission.\r\n\t\t\t\t\t    In case of `native={true}` it's just a\r\n\t\t\t\t\t    native `<select/>`. */}\r\n\t\t\t\t\t{ this.renderNativeSelect() }\r\n\r\n\t\t\t\t\t{/* The currently selected option */}\r\n\t\t\t\t\t{ !native && this.renderSelectButton() }\r\n\r\n\t\t\t\t\t{/* Top Label */}\r\n\t\t\t\t\t{/* (this label is placed after the \"selected\" button\r\n\t\t\t\t\t     to utilize the CSS `+` selector) */}\r\n\t\t\t\t\t{/* If the `placeholder` wasn't specified\r\n\t\t\t\t\t    but `label` was and no option is currently selected\r\n\t\t\t\t\t    then the `label` becomes the `placeholder`\r\n\t\t\t\t\t    until something is selected */}\r\n\t\t\t\t\t{ topLabel &&\r\n\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\trequired={ required }\r\n\t\t\t\t\t\t\tinvalid={ error }\r\n\t\t\t\t\t\t\tfloats={ false }>\r\n\t\t\t\t\t\t\t{ topLabel }\r\n\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/* The list of selectable options */}\r\n\t\t\t\t\t{ this.shouldShowOptionsList() &&\r\n\t\t\t\t\t\t<ExpandableList\r\n\t\t\t\t\t\t\tref={this.storeListRef}\r\n\t\t\t\t\t\t\taria-label={this.getAriaLabel()}\r\n\t\t\t\t\t\t\taria-labelledby={this.props['aria-labelledby']}\r\n\t\t\t\t\t\t\taria-describedby={this.props['aria-describedby']}\r\n\t\t\t\t\t\t\taria-required={this.getAriaRequired()}\r\n\t\t\t\t\t\t\taria-invalid={this.getAriaInvalid()}\r\n\t\t\t\t\t\t\tupward={upward}\r\n\t\t\t\t\t\t\talignment={alignment}\r\n\t\t\t\t\t\t\tscrollIntoView={scrollIntoView}\r\n\t\t\t\t\t\t\tscrollMaxItems={scroll === false ? 0 : scrollMaxItems}\r\n\t\t\t\t\t\t\ttabbable={false}\r\n\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\tonChange={this.setValue}\r\n\t\t\t\t\t\t\tonCollapse={this.onCollapse}\r\n\t\t\t\t\t\t\tonExpand={this.onExpand}\r\n\t\t\t\t\t\t\tgetTogglerNode={this.getSelectButton}\r\n\t\t\t\t\t\t\tonFocusIn={this.onFocusIn}\r\n\t\t\t\t\t\t\tonFocusOut={this.onFocusOut}\r\n\t\t\t\t\t\t\tScrollableContainer={ScrollableContainer}\r\n\t\t\t\t\t\t\tcloseButtonIcon={closeButtonIcon}\r\n\t\t\t\t\t\t\tcloseLabel={closeLabel}\r\n\t\t\t\t\t\t\tclassName={classNames('rrui__shadow', 'rrui__options-list',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__options-list--left-aligned'  : alignment === 'left',\r\n\t\t\t\t\t\t\t\t'rrui__options-list--right-aligned' : alignment === 'right'\r\n\t\t\t\t\t\t\t})}>\r\n\r\n\t\t\t\t\t\t\t{options.map((option, i) => (\r\n\t\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\t\ticon={option.divider || saveOnIcons ? undefined : option.icon}\r\n\t\t\t\t\t\t\t\t\tcomponent={option.divider ? undefined : optionComponent}\r\n\t\t\t\t\t\t\t\t\titem={option.divider ? undefined : (optionComponent ? option : undefined)}>\r\n\t\t\t\t\t\t\t\t\t{option.divider ? <Divider/> :\r\n\t\t\t\t\t\t\t\t\t\t(optionComponent ? undefined : (option.content ? option.content(option) : option.label))\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</ExpandableList>\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\trenderSelectButton()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\twait,\r\n\t\t\tvalue,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\ticon,\r\n\t\t\ttitle,\r\n\t\t\tnative,\r\n\t\t\tnativeExpanded,\r\n\t\t\ttoggleClassName,\r\n\t\t\tselectedOptionClassName,\r\n\t\t\tselectedOptionInvalidClassName,\r\n\t\t\tselectedOptionDisabledClassName,\r\n\t\t\terror,\r\n\t\t\tselectedOptionComponent: SelectedOptionComponent,\r\n\t\t\tarrowComponent\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\tconst selected = this.getSelectedOption()\r\n\r\n\t\tconst selectedOptionLabel = selected && selected.label || this.getPlaceholder()\r\n\t\tconst showIconOnly = icon && selected && selected.icon\r\n\r\n\t\t// ARIA (accessibility) roles info:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/listbox/listbox-collapsible.html\r\n\t\t//\r\n\t\t// `aria-haspopup`:\r\n\t\t// https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup\r\n\t\t// WAI-ARIA 1.1 is not yet supported, so not using `aria-haspopup=\"listbox\"`.\r\n\r\n\t\t// This button could be focusable in case of !native && !nativeExpanded.\r\n\t\t// In case of nativeExpanded if this button was focusable then the user would\r\n\t\t// tab to the button and press Spacebar key and there would be no way to\r\n\t\t// expand the native select so the keyboard user would be stuck.\r\n\t\t// Because of this, this button is never tabbable and native select always is.\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tref={ this.storeSelectButton }\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tonClick={ this.onClick }\r\n\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\ttitle={ title }\r\n\t\t\t\taria-hidden\r\n\t\t\t\taria-label={ this.getAriaLabel() || (showIconOnly ? selectedOptionLabel : undefined) }\r\n\t\t\t\taria-labelledby={this.props['aria-labelledby']}\r\n\t\t\t\taria-describedby={this.props['aria-describedby']}\r\n\t\t\t\taria-expanded={ isExpanded ? true : false }\r\n\t\t\t\tclassName={ classNames\r\n\t\t\t\t(\r\n\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__select__button',\r\n\t\t\t\t\ttoggleClassName,\r\n\t\t\t\t\tselectedOptionClassName,\r\n\t\t\t\t\tselectedOptionInvalidClassName && SelectedOptionComponent && error,\r\n\t\t\t\t\tselectedOptionDisabledClassName && SelectedOptionComponent && disabled,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'rrui__input-element': !SelectedOptionComponent,\r\n\t\t\t\t\t\t'rrui__select__button--empty'    : !SelectedOptionComponent && isEmptyValue(value) && !this.hasEmptyOption(),\r\n\t\t\t\t\t\t'rrui__select__button--invalid'  : !SelectedOptionComponent && error,\r\n\t\t\t\t\t\t'rrui__select__button--disabled' : !SelectedOptionComponent && disabled\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\t\t\t\t{SelectedOptionComponent\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<SelectedOptionComponent {...selected}/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<DefaultSelectedOptionComponent\r\n\t\t\t\t\t\trequired={!this.getTopLabel() && required}\r\n\t\t\t\t\t\tindicateRequired={!this.getTopLabel() && required && isEmptyValue(value)}\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tlabel={selectedOptionLabel}\r\n\t\t\t\t\t\ticon={showIconOnly ? React.createElement(selected.icon, { value, label: selectedOptionLabel }) : undefined}\r\n\t\t\t\t\t\tarrowComponent={arrowComponent}\r\n\t\t\t\t\t/>\r\n\t\t\t\t}\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n\trenderNativeSelect()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tname,\r\n\t\t\tvalue,\r\n\t\t\tlabel,\r\n\t\t\tdisabled,\r\n\t\t\trequired,\r\n\t\t\tnative,\r\n\t\t\tnativeExpanded,\r\n\t\t\terror,\r\n\t\t\ttabIndex\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<select\r\n\t\t\t\tref={ this.storeSelectNode }\r\n\t\t\t\tid={ id }\r\n\t\t\t\tname={ name }\r\n\t\t\t\tvalue={ isEmptyValue(value) ? empty_value_option_value : value }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tonKeyDown={ this.nativeSelectOnKeyDown }\r\n\t\t\t\tonMouseDown={ this.nativeSelectOnMouseDown }\r\n\t\t\t\tonChange={ this.nativeSelectOnChange }\r\n\t\t\t\tonFocus={ this.onFocusIn }\r\n\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\ttabIndex={ tabIndex }\r\n\t\t\t\taria-label={ this.getAriaLabel() }\r\n\t\t\t\taria-labelledby={ this.props['aria-labelledby'] }\r\n\t\t\t\taria-describedby={ this.props['aria-describedby'] }\r\n\t\t\t\taria-required={ this.getAriaRequired() }\r\n\t\t\t\taria-invalid={ this.getAriaInvalid() }\r\n\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t// `:focus` style is implemented via border color\r\n\t\t\t\t\t// so outline can be muted safely here.\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__select__native', {\r\n\t\t\t\t\t\t'rrui__select__native--empty' : isEmptyValue(value),\r\n\t\t\t\t\t\t'rrui__select__native--overlay' : !native,\r\n\t\t\t\t\t\t'rrui__select__native--disabled' : disabled,\r\n\t\t\t\t\t\t'rrui__select__native--invalid' : error\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\t\t\t\t{this.renderNativeSelectOptions()}\r\n\t\t\t</select>\r\n\t\t)\r\n\t}\r\n\r\n\trenderNativeSelectOptions()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\toptions,\r\n\t\t\tvalue,\r\n\t\t\tplaceholder\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tlet empty_option_present = false\r\n\r\n\t\tconst rendered_options = options.map((option, i) =>\r\n\t\t{\r\n\t\t\tlet { value, label, divider } = option\r\n\r\n\t\t\tif (!divider && isEmptyValue(value))\r\n\t\t\t{\r\n\t\t\t\tempty_option_present = true\r\n\t\t\t\tvalue = empty_value_option_value\r\n\t\t\t}\r\n\r\n\t\t\treturn this.renderNativeSelectOption(i, value, label, divider === true, divider)\r\n\t\t})\r\n\r\n\t\tif (isEmptyValue(value) && !empty_option_present)\r\n\t\t{\r\n\t\t\trendered_options.unshift(this.renderNativeSelectOption(-1, undefined, placeholder, true))\r\n\t\t}\r\n\r\n\t\treturn rendered_options\r\n\t}\r\n\r\n\trenderNativeSelectOption(key, value, label, nonSelectable, isDivider)\r\n\t{\r\n\t\treturn (\r\n\t\t\t<option\r\n\t\t\t\tkey={ key }\r\n\t\t\t\tvalue={ isEmptyValue(value) ? '' : value }\r\n\t\t\t\thidden={ nonSelectable && !isDivider ? true : undefined }\r\n\t\t\t\tdisabled={ nonSelectable ? true : undefined }\r\n\t\t\t\tclassName={ classNames('rrui__select__native-option', {\r\n\t\t\t\t\t'rrui__select__native-option--divider': isDivider\r\n\t\t\t\t})}>\r\n\t\t\t\t{ label }\r\n\t\t\t</option>\r\n\t\t)\r\n\t}\r\n\r\n\tnativeSelectOnKeyDown = (event) =>\r\n\t{\r\n\t\tthis.isUsingKeyboard = true\r\n\r\n\t\tif (this.shouldShowOptionsList())\r\n\t\t{\r\n\t\t\t// Native select is the main focusable element now\r\n\t\t\t// even when the custom select is rendered.\r\n\t\t\t// this.focusToggler()\r\n\t\t\tthis.onKeyDownFromNativeSelect = true\r\n\t\t\tthis.onKeyDown(event)\r\n\t\t}\r\n\t}\r\n\r\n\tnativeSelectOnMouseDown = (event) =>\r\n\t{\r\n\t\tif (this.shouldShowOptionsList())\r\n\t\t{\r\n\t\t\tevent.preventDefault()\r\n\t\t\t// Native select is the main focusable element now\r\n\t\t\t// even when the custom select is rendered.\r\n\t\t\t// this.focusToggler()\r\n\t\t\tthis.toggle()\r\n\t\t}\r\n\t}\r\n\r\n\tnativeSelectOnChange = (event) =>\r\n\t{\r\n\t\tconst { native, nativeExpanded } = this.props\r\n\r\n\t\tlet value = event.target.value\r\n\r\n\t\t// Convert back from an empty string to `undefined`\r\n\t\tif (value === empty_value_option_value)\r\n\t\t{\r\n\t\t\t// `null` is not accounted for, use `undefined` instead.\r\n\t\t\tvalue = undefined\r\n\t\t}\r\n\r\n\t\tthis.setValue(value)\r\n\r\n\t\t// Firefox has a bug:\r\n\t\t// Spacebar key on native `<select/>` is not being \"preventDefault\"ed.\r\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t// This workaround hides the custom `<Select/>`\r\n\t\t// when a user selects something in the native `<select/>`\r\n\t\t// which expands over the custom one in Firefox due to the bug.\r\n\t\tif (navigator.userAgent.toLowerCase().indexOf('firefox') >= 0) {\r\n\t\t\tif (!native && !nativeExpanded) {\r\n\t\t\t\tthis.collapse()\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst { disabled, nativeExpanded } = this.props\r\n\r\n\t\tif (!disabled) {\r\n\t\t\tthis.toggle()\r\n\t\t}\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { disabled, value, required } = this.props\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\t// Reset \"event came from native select\" flag.\r\n\t\tconst fromNativeSelect = this.onKeyDownFromNativeSelect\r\n\t\tthis.onKeyDownFromNativeSelect = false\r\n\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!isExpanded) {\r\n\t\t\tif (submitFormOnCtrlEnter(event, this.selectButton)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// \"Up\" arrow.\r\n\t\t\t// Select the previous item (if present).\r\n\t\t\tcase 38:\r\n\t\t\t// \"Down\" arrow.\r\n\t\t\t// Select the next item (if present).\r\n\t\t\tcase 40:\r\n\t\t\t\t// Firefox has a bug:\r\n\t\t\t\t// Up/Down arrow keys on native `<select/>` are not being \"preventDefault\"ed.\r\n\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t\t\t// This workaround doesn't expand the custom `<Select/>`\r\n\t\t\t\t// when a user presses an Up/Down arrow key on the native `<select/>`.\r\n\t\t\t\tif (navigator.userAgent.toLowerCase().indexOf('firefox') >= 0) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\treturn this.list.onKeyDown(event)\r\n\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\t// Submit containing `<form/>`.\r\n\t\t\t\t// Expand otherwise.\r\n\t\t\t\tif ((required && isEmptyValue(value)) || !submitContainingForm(this.selectButton)) {\r\n\t\t\t\t\tthis.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn event.preventDefault()\r\n\r\n\t\t\t// \"Spacebar\".\r\n\t\t\tcase 32:\r\n\t\t\t\tif (fromNativeSelect)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Firefox has a bug:\r\n\t\t\t\t\t// Spacebar key on native `<select/>` is not being \"preventDefault\"ed.\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1428992\r\n\t\t\t\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1019630\r\n\t\t\t\t\t// https://stackoverflow.com/questions/15141398/cannot-preventdefault-via-firefox-on-a-select\r\n\t\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\t\tthis.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\thasEmptyOption()\r\n\t{\r\n\t\tconst { options } = this.props\r\n\r\n\t\tfor (const option of options) {\r\n\t\t\tif (!option.divider && isEmptyValue(option.value)) {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false\r\n\t}\r\n\r\n\tgetSelectedOption()\r\n\t{\r\n\t\tconst { options, value } = this.props\r\n\r\n\t\tfor (const option of options)\r\n\t\t{\r\n\t\t\tif (!option.divider && option.value === value)\r\n\t\t\t{\r\n\t\t\t\treturn option\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tgetAriaLabel()\r\n\t{\r\n\t\tconst {\r\n\t\t\t// Deprecated property, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\tlabel\r\n\t\t} = this.props\r\n\r\n\t\treturn this.props['aria-label'] === undefined\r\n\t\t\t? (ariaLabel || label)\r\n\t\t\t: this.props['aria-label']\r\n\t}\r\n\r\n\tgetAriaRequired()\r\n\t{\r\n\t\tconst {\r\n\t\t\trequired,\r\n\t\t\tvalue\r\n\t\t} = this.props\r\n\r\n\t\treturn this.props['aria-required'] === undefined\r\n\t\t\t? (required && isEmptyValue(value) ? true : undefined)\r\n\t\t\t: this.props['aria-required']\r\n\t}\r\n\r\n\tgetAriaInvalid()\r\n\t{\r\n\t\tconst { error } = this.props\r\n\r\n\t\treturn this.props['aria-invalid'] === undefined\r\n  \t\t\t? (error ? true : undefined)\r\n  \t\t\t: this.props['aria-invalid']\r\n\t}\r\n\r\n\tgetTopLabel()\r\n\t{\r\n\t\tconst { label, placeholder, value } = this.props\r\n\r\n\t\tif (isEmptyValue(value) && !placeholder) {\r\n\t\t\t// Label will be shown in placeholder's place\r\n\t\t\t// so don't show it as a label to prevent duplication.\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\treturn label\r\n\t}\r\n\r\n\tgetPlaceholder()\r\n\t{\r\n\t\tconst { label, placeholder, value } = this.props\r\n\r\n\t\tif (isEmptyValue(value)) {\r\n\t\t\treturn placeholder || label\r\n\t\t}\r\n\t}\r\n\r\n\tshouldShowOptionsList()\r\n\t{\r\n\t\tconst { native, nativeExpanded } = this.props\r\n\t\treturn !native && !nativeExpanded\r\n\t}\r\n\r\n\tsetValue = (newValue) =>\r\n\t{\r\n\t\tconst { value, onChange } = this.props\r\n\r\n\t\t// Call `onChange` only if the `value` did change.\r\n\t\tif (newValue !== value) {\r\n\t\t\tonChange(newValue)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) =>\r\n\t{\r\n\t\tclearTimeout(this.blurTimer)\r\n\r\n\t\tconst result = onBlur(event, this.onFocusOut, () => this.container)\r\n\t\tif (typeof result === 'number') {\r\n\t\t\tthis.blurTimer = result\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusOut = (event) =>\r\n\t{\r\n\t\tconst { native, nativeExpanded, onBlur, value } = this.props\r\n\r\n\t\tif (!native && !nativeExpanded) {\r\n\t\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t\t// for debugging expandable contents.\r\n\t\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\t\tthis.collapse()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// // Collapse the options `<List/>` if it's expanded.\r\n\t\t// if (this.list) {\r\n\t\t// \tthis.list.onBlur(event)\r\n\t\t// }\r\n\r\n\t\tthis._onFocusOut()\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t}\r\n\r\n\tonFocusIn    = () => this.setState({ isFocused: true })\r\n\t_onFocusOut = () => this.setState({ isFocused: false })\r\n}\r\n\r\nexport default reactLifecyclesCompat(Select)\r\n\r\n// Using indexes instead for keys.\r\n// // There can be an `undefined` value,\r\n// // so just `{ value }` won't do here.\r\n// function getOptionKey(value) {\r\n// \treturn isEmptyValue(value) ? '@@rrui/empty' : value\r\n// }\r\n\r\nfunction isEmptyValue(value)\r\n{\r\n\treturn value === null || value === undefined\r\n}\r\n\r\nfunction DefaultSelectedOptionComponent({\r\n\tvalue,\r\n\tlabel,\r\n\ticon,\r\n\trequired,\r\n\tindicateRequired,\r\n\tarrowComponent: ArrowComponent\r\n}) {\r\n\t// The `<span/>` wrapper is required for vertical centering.\r\n\t// http://stackoverflow.com/questions/35464067/flexbox-not-working-on-button-element-in-some-browsers\r\n\treturn (\r\n\t\t<span className=\"rrui__select__selected-content\">\r\n\t\t\t{/* Selected option label (or icon) */}\r\n\t\t\t<span\r\n\t\t\t\tclassName={classNames('rrui__select__selected-label', 'rrui__text-line', {\r\n\t\t\t\t\t// Deprecated.\r\n\t\t\t\t\t// Use `.rrui__input-label--required` instead.\r\n\t\t\t\t\t'rrui__select__selected-label--required': indicateRequired,\r\n\t\t\t\t\t'rrui__input-label--required': indicateRequired,\r\n\t\t\t\t\t'rrui__input-label--required-field': required\r\n\t\t\t\t})}>\r\n\t\t\t\t{icon || label}\r\n\t\t\t</span>\r\n\t\t\t{/* An arrow */}\r\n\t\t\t<ArrowComponent/>\r\n\t\t</span>\r\n\t)\r\n}\r\n\r\nDefaultSelectedOptionComponent.propTypes = {\r\n\tvalue: PropTypes.any,\r\n\tlabel: PropTypes.string,\r\n\ticon: PropTypes.node,\r\n\trequired: PropTypes.bool,\r\n\tindicateRequired: PropTypes.bool,\r\n\tarrowComponent: PropTypes.elementType.isRequired\r\n}\r\n\r\nDefaultSelectedOptionComponent.defaultProps = {\r\n\tarrowComponent: ArrowComponent\r\n}\r\n\r\nfunction ArrowComponent() {\r\n\treturn <span className=\"rrui__select__arrow\"/>\r\n}\r\n\r\n/* `display: flex` fixes the incorrect toggler `<button/>` height\r\n   in cases when custom `selectedOptionComponent` is used.\r\n   It also removes the requirement for the `selectedOptionComponent`\r\n   containing `<span/>` to be `display: block`. */\r\nconst DISPLAY_FLEX = {\r\n\tdisplay: 'flex'\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { polyfill as reactLifecyclesCompat } from 'react-lifecycles-compat'\r\nimport classNames from 'classnames'\r\n\r\nimport ExpandableList from './ExpandableList'\r\nimport List from './List'\r\nimport Label from './TextInputLabel'\r\nimport TextInputInput from './TextInputInput'\r\nimport Ellipsis from './Ellipsis'\r\nimport WithError from './WithError'\r\n\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nconst empty_value_option_value = ''\r\n\r\nclass Autocomplete extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// A list of selectable options\r\n\t\toptions : PropTypes.arrayOf\r\n\t\t(\r\n\t\t\tPropTypes.shape\r\n\t\t\t({\r\n\t\t\t\t// Option value (may be `undefined`)\r\n\t\t\t\tvalue : PropTypes.any,\r\n\t\t\t\t// Could restrict it to stringifiable types\r\n\t\t\t\t// but I guess this is not required\r\n\t\t\t\t// and one could even use `object`s as `value`s.\r\n\t\t\t\t// // Option value (may be `undefined`)\r\n\t\t\t\t// value : PropTypes.oneOfType([\r\n\t\t\t\t// \tPropTypes.string,\r\n\t\t\t\t// \tPropTypes.number,\r\n\t\t\t\t// \tPropTypes.bool\r\n\t\t\t\t// ]),\r\n\t\t\t\t// Option label (may be `undefined`)\r\n\t\t\t\tlabel : PropTypes.string,\r\n\t\t\t\t// Option icon\r\n\t\t\t\ticon  : PropTypes.oneOfType\r\n\t\t\t\t([\r\n\t\t\t\t\tPropTypes.node,\r\n\t\t\t\t\tPropTypes.func\r\n\t\t\t\t]),\r\n\t\t\t\t// Render custom content (a React component).\r\n\t\t\t\t// Receives `{ value, label }` properties.\r\n\t\t\t\tcontent : PropTypes.func\r\n\t\t\t})\r\n\t\t),\r\n\r\n\t\t// An alternative way of getting `options`.\r\n\t\t// If it's an `autocomplete` then this function\r\n\t\t// receives the `query : string` argument.\r\n\t\t// Is only for `autocomplete` mode.\r\n\t\t// Must return a `Promise`.\r\n\t\tgetOptions : PropTypes.func,\r\n\r\n\t\t// Can be supplied when supplying `options` prop.\r\n\t\t// By default filters by substring inclusion (case-insensitive).\r\n\t\tfilterOptions : PropTypes.func.isRequired,\r\n\r\n\t\t// The maximum number of options to be rendered\r\n\t\t// in the options list when it's expanded.\r\n\t\t// `0` means \"unlimited\".\r\n\t\tmaxOptions : PropTypes.number,\r\n\r\n\t\t// Throttle `async getOptions()` invocations.\r\n\t\tthrottle : PropTypes.number.isRequired,\r\n\r\n\t\t// Throttle `async getOptions()` invocations.\r\n\t\tminCharactersToStartThrottling : PropTypes.number.isRequired,\r\n\r\n\t\t// Option component.\r\n\t\t// (when `<Autocomplete/>` is expanded).\r\n\t\t// Receives properties:\r\n\t\t// * `{ ...option }`  All properties of an `option` such as `value`, `label`, etc. Each `option` must have a `value` and a `label` (`value` may be `undefined`).\r\n\t\t// * `selected: boolean`  If this option is selected.\r\n\t\t// * `focused: boolean`  If this option is focused.\r\n\t\t// * `disabled: boolean`  If this option is disabled. Seems to be not used for now.\r\n\t\t// Can only contain \"inline\" elements like `<span/>`,\r\n\t\t// not `<div/>`s, `<section/`>s, `<h1/>`s or `<p/>`s,\r\n\t\t// because `<button/>`s can't contain \"block\" elements.\r\n\t\t// `display: block` can still be set on `<span/>`s and other \"inline\" elements.\r\n\t\toptionComponent : PropTypes.elementType,\r\n\r\n\t\t// HTML form input `name` attribute\r\n\t\tname       : PropTypes.string,\r\n\r\n\t\t// Label which is placed above the select\r\n\t\tlabel      : PropTypes.string,\r\n\r\n\t\t// Placeholder (like \"Choose\")\r\n\t\tplaceholder : PropTypes.string,\r\n\r\n\t\t// Show icon only for selected item,\r\n\t\t// and only if `icon` is `true`.\r\n\t\tsaveOnIcons : PropTypes.bool,\r\n\r\n\t\t// Disables this control\r\n\t\tdisabled   : PropTypes.bool,\r\n\r\n\t\t// HTML `readOnly` attribute\r\n\t\treadOnly   : PropTypes.bool,\r\n\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired   : PropTypes.bool.isRequired,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror : PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t\t// Selected option value\r\n\t\tvalue      : PropTypes.any,\r\n\r\n\t\t// Is called when an option is selected\r\n\t\tonChange   : PropTypes.func,\r\n\r\n\t\t// Is called when the select is blurred.\r\n\t\t// This `onBlur` interceptor is a workaround for `redux-form`,\r\n\t\t// so that it gets the parsed `value` in its `onBlur` handler,\r\n\t\t// not the formatted text.\r\n\t\tonBlur     : PropTypes.func,\r\n\r\n\t\t// If `scroll` is `false`, then options list\r\n\t\t// is not limited in height.\r\n\t\t// Is `true` by default (scrollable).\r\n\t\tscroll     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Component CSS class\r\n\t\tclassName  : PropTypes.string,\r\n\r\n\t\t// Autocomplete `<input/>` CSS class\r\n\t\tinputClassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle      : PropTypes.object,\r\n\r\n\t\t// If the `icon` flag is set to `true`,\r\n\t\t// and `icon` is specified for a selected option,\r\n\t\t// then the selected option will be displayed\r\n\t\t// as icon only, without the label\r\n\t\t// (was used in early versions of `react-phone-number-input`).\r\n\t\t// Otherwise, if it's a React component\r\n\t\t// then it's passed to `<TextInputInput/>` as its `icon`.\r\n\t\ticon: PropTypes.oneOfType([\r\n\t\t\tPropTypes.elementType,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\t// If this flag is set to `true`,\r\n\t\t// then it makes `<Autocomplete/>` not stretch itself\r\n\t\t// to 100% width by making it `inline-block`.\r\n\t\t// Is set to `true` when `icon` is `true`\r\n\t\t// because it makes sense.\r\n\t\tcompact    : PropTypes.bool,\r\n\r\n\t\t// HTML `tabindex` attribute\r\n\t\ttabIndex   : PropTypes.number,\r\n\r\n\t\t// HTML `autoFocus` attribute\r\n\t\tautoFocus  : PropTypes.bool,\r\n\r\n\t\t// `onKeyDown()` doesn't get called in all cases.\r\n\t\t// Currently it's only called in cases:\r\n\t\t// * Pressed `Esc` when the options list is not expanded.\r\n\t\t// * Pressed `Enter` when the input is empty.\r\n\t\tonKeyDown : PropTypes.func,\r\n\r\n\t\t// HTML `autocomplete` attribute.\r\n\t\t// Set to \"off\" to disable any autocompletion in a web browser.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\r\n\t\tautoComplete : PropTypes.string,\r\n\r\n\t\t// `<Autocomplete/>` loads `async getOptions()` after it has been mounted.\r\n\t\t// Until then `<Autocomplete/>` doesn't display any selected option.\r\n\t\t// One may supply an already pre-loaded currently selected option\r\n\t\t// to display the currently selected option sooner (e.g. Server-Side Rendering).\r\n\t\tselectedOption : PropTypes.object,\r\n\r\n\t\t// WAI-ARIA requires any option be focused only on-demand\r\n\t\t// when the user explicitly presses the Down arrow key.\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/combobox/aria1.0pattern/combobox-autocomplete-list.html\r\n\t\t// Still, it's not be the best user experience for non-disabled users:\r\n\t\t// it would be more convenient for them if the first option was automatically focused.\r\n\t\t// Hence this property.\r\n\t\t// (is `false` by default for WAI-ARIA compliancy)\r\n\t\thighlightFirstOption : PropTypes.bool.isRequired,\r\n\r\n\t\tScrollableContainer : PropTypes.elementType\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// Set to `true` to mark the field as required\r\n\t\trequired : false,\r\n\r\n\t\t// Show `error` (if passed).\r\n\t\tshowErrorMessage : true,\r\n\r\n\t\t// Set to `true` to display the loading indicator\r\n\t\tloading : false,\r\n\r\n\t\t// Will show scrollbar on overflow.\r\n\t\tscroll : true,\r\n\r\n\t\talignment : 'left',\r\n\r\n\t\t// `async getOptions()` throttle period.\r\n\t\tthrottle : 200,\r\n\r\n\t\t// `async getOptions()` throttle threshold (in characters).\r\n\t\tminCharactersToStartThrottling : 4,\r\n\r\n\t\t// Filters options by substring inclusion (case-insensitive).\r\n\t\tfilterOptions,\r\n\r\n\t\t// The maximum number of options to be rendered\r\n\t\t// in the options list when it's expanded.\r\n\t\t// The rationale is that otherwise the UI could\r\n\t\t// stagger when initially expanding a huge list.\r\n\t\t// `0` means \"unlimited\".\r\n\t\tmaxOptions : 500,\r\n\r\n\t\t// UX for non-disabled users is better this way.\r\n\t\t// Disabled users still can use this component.\r\n\t\thighlightFirstOption : true\r\n\t}\r\n\r\n\tstate =\r\n\t{\r\n\t\t// The sequential counter for `async getOptions()`:\r\n\t\t// the `options` with the highest counter are shown\r\n\t\t// to prevent \"race condition\" inconsistency.\r\n\t\t// Older options can only be overwritten with newer ones.\r\n\t\toptionsCounter : 0,\r\n\t\tmatchesCounter : 0,\r\n\r\n\t\tinputValue : '',\r\n\t\toptions: [],\r\n\r\n\t\t// `prevProps` for `getDerivedStateFromProps()`.\r\n\t\tprops: {}\r\n\t}\r\n\r\n\t// Latest `async getOptions()` invocation timestamp (for throttling).\r\n\tlatestFetchOptionsCallTimestamp = 0\r\n\r\n\t// Older options can only be overwritten with newer ones.\r\n\t// (in case of `async getOptions()`).\r\n\tcounter = new Counter()\r\n\r\n\t// Handles changing `value` externally for an `<Autocomplete/>`.\r\n\tstatic getDerivedStateFromProps({ value, options }, state)\r\n\t{\r\n\t\tconst newState =\r\n\t\t{\r\n\t\t\t// `prevProps`.\r\n\t\t\tprops:\r\n\t\t\t{\r\n\t\t\t\tvalue\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Changing `value` externally for an `<Autocomplete/>`\r\n\t\t// with `async getOptions()` is not supported.\r\n\t\tif (Array.isArray(options))\r\n\t\t{\r\n\t\t\t// `<Autocomplete/>`'s selected option label\r\n\t\t\t// is stored in a special `selectedOption.label` variable in `state`.\r\n\t\t\tif (value !== state.props.value)\r\n\t\t\t{\r\n\t\t\t\tnewState.selectedOption = options.filter(_ => _.value === value)[0]\r\n\t\t\t\tnewState.inputValue = newState.selectedOption ? newState.selectedOption.label : ''\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn newState\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tconst { value, getOptions, getOption } = this.props\r\n\r\n\t\t// Generate unique ID.\r\n\t\tlet id = `rrui-autocomplete`\r\n\t\twhile (document.getElementById(`${id}__input`)) {\r\n\t\t\tid = `rrui-autocomplete-${generateRandomString()}`\r\n\t\t}\r\n\t\tthis.input.id = `${id}__input`\r\n\t\tthis.setState({ id })\r\n\r\n\t\tif (!isEmptyValue(value) && !getOption && getOptions)\r\n\t\t{\r\n\t\t\tthrow new Error(\"An initial `value` was passed to `<Autocomplete/>` which has `getOptions` but doesn't have `getOption` to get the label for that initial `value`.\")\r\n\t\t}\r\n\r\n\t\tif (!isEmptyValue(value) && getOption)\r\n\t\t{\r\n\t\t\tthis.setState\r\n\t\t\t({\r\n\t\t\t\tisFetchingInitiallySelectedOption : true\r\n\t\t\t})\r\n\r\n\t\t\tgetOption(value).then((option) =>\r\n\t\t\t{\r\n\t\t\t\tthis.setState\r\n\t\t\t\t({\r\n\t\t\t\t\tselectedOption : option,\r\n\t\t\t\t\tinputValue : option ? option.label : '',\r\n\t\t\t\t\tisFetchingInitiallySelectedOption : false\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t(error) =>\r\n\t\t\t{\r\n\t\t\t\tconsole.error(error)\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tisFetchingInitiallySelectedOption : false\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tclearTimeout(this.nextFetchOptionsCallTimeout)\r\n\t}\r\n\r\n\tonPreloadStateChange = (isPreloading) => this.setState({ isFetchingOptions : isPreloading })\r\n\r\n\tfocus = () => this.input.focus()\r\n\r\n\tonCollapse = ({ collapsedDueToItemBeingSelected, focusOut }) =>\r\n\t{\r\n\t\tconst { options, selectedOption } = this.state\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tisExpanded : false,\r\n\t\t\tmatches : undefined\r\n\t\t})\r\n\r\n\t\tif (!collapsedDueToItemBeingSelected && !this.collapsedDueToEmptyValueOnEnter)\r\n\t\t{\r\n\t\t\tthis.setState\r\n\t\t\t({\r\n\t\t\t\tinputValue : selectedOption ? selectedOption.label : ''\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\tif (!focusOut)\r\n\t\t{\r\n\t\t\tthis.dontExpandOnFocus = true\r\n\t\t\tthis.focus()\r\n\t\t\tthis.dontExpandOnFocus = false\r\n\t\t}\r\n\t}\r\n\r\n\tonExpand = (options = {}) =>\r\n\t{\r\n\t\tthis.setState({ isExpanded: true })\r\n\t}\r\n\r\n\tonFocusItem = (i, options) => {\r\n\t\tif (options.interaction) {\r\n\t\t\tthis.setState({ focusedOptionIndex: i })\r\n\t\t} else {\r\n\t\t\tthis.setState({ focusedOptionIndex: undefined })\r\n\t\t}\r\n\t}\r\n\r\n\texpand = () =>\r\n\t{\r\n\t\t// Reset the \"matches\" state before expanding.\r\n\t\tthis.setState({ matches: true }, this._expand)\r\n\t}\r\n\r\n\t_expand  = (parameters) => this.list.expand(parameters)\r\n\tcollapse = () => this.list.collapse()\r\n\ttoggle   = () => this.list.toggle()\r\n\r\n\tstoreListRef = (ref) => this.list = ref\r\n\tstoreInput = (node) => this.input = node\r\n\tstoreInputComponentNode = (node) => this.inputComponentNode = node\r\n\r\n\tgetInputNode = () => this.input\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\ticon,\r\n\t\t\tcompact,\r\n\t\t\tscroll,\r\n\t\t\tscrollMaxItems,\r\n\t\t\tscrollIntoView,\r\n\t\t\talignment,\r\n\t\t\tsaveOnIcons,\r\n\t\t\thighlightFirstOption,\r\n\t\t\toptionComponent,\r\n\t\t\trequired,\r\n\t\t\tlabel,\r\n\t\t\tplaceholder,\r\n\t\t\tvalue,\r\n\t\t\tonChange,\r\n\t\t\tshowErrorMessage,\r\n\t\t\terror,\r\n\t\t\tcloseButtonIcon,\r\n\t\t\tcloseLabel,\r\n\t\t\tScrollableContainer,\r\n\t\t\tstyle,\r\n\t\t\tclassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\toptions,\r\n\t\t\tisFetchingOptions,\r\n\t\t\tisFetchingInitiallySelectedOption,\r\n\t\t\tisExpanded,\r\n\t\t\tinputValue\r\n\t\t}\r\n\t\t= this.state\r\n\r\n\t\tconst containerStyle = { textAlign: alignment }\r\n\r\n\t\t// ARIA 1.1 (accessibility) docs:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/combobox/aria1.1pattern/listbox-combo.html\r\n\t\t// (not yet supported)\r\n\t\t//\r\n\t\t// ARIA 1.0 (accessibility) docs:\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/examples/combobox/aria1.0pattern/combobox-autocomplete-list.html\r\n\t\t// (is supported)\r\n\r\n\t\t// value={options.length === 0 ? undefined : (inputValue.trim() === '' ? undefined : value)}\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\tid={id}\r\n\t\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\t\tstyle={style ? { ...containerStyle, ...style } : containerStyle}\r\n\t\t\t\tclassName={classNames(className, 'rrui__autocomplete', {\r\n\t\t\t\t\t'rrui__autocomplete--expanded' : isExpanded,\r\n\t\t\t\t\t'rrui__autocomplete--compact'  : compact || (icon === true)\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={ this.storeInputComponentNode }\r\n\t\t\t\t\tclassName=\"rrui__input\">\r\n\r\n\t\t\t\t\t{ (isFetchingOptions || isFetchingInitiallySelectedOption) && <Ellipsis/> }\r\n\r\n\t\t\t\t\t{/* Text input */}\r\n\t\t\t\t\t{ this.renderTextInput() }\r\n\r\n\t\t\t\t\t{/* Label */}\r\n\t\t\t\t\t{/* (this label is placed after the \"selected\" button\r\n\t\t\t\t\t     to utilize the CSS `+` selector) */}\r\n\t\t\t\t\t{ label &&\r\n\t\t\t\t\t\t<Label\r\n\t\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\t\tinputId={ id ? `${id}__input` : undefined }\r\n\t\t\t\t\t\t\tvalue={ value }\r\n\t\t\t\t\t\t\trequired={ required }\r\n\t\t\t\t\t\t\tinvalid={ error }>\r\n\t\t\t\t\t\t\t{ label }\r\n\t\t\t\t\t\t</Label>\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t{/* The list of selectable options */}\r\n\t\t\t\t\t<ExpandableList\r\n\t\t\t\t\t\tref={this.storeListRef}\r\n\t\t\t\t\t\tid={id ? `${id}__list` : undefined}\r\n\t\t\t\t\t\titems={options}\r\n\t\t\t\t\t\tvalue={options.length === 0 ? undefined : value}\r\n\t\t\t\t\t\thighlightFirstItem={highlightFirstOption && inputValue.trim() !== ''}\r\n\t\t\t\t\t\talignment={alignment}\r\n\t\t\t\t\t\tscrollIntoView={scrollIntoView}\r\n\t\t\t\t\t\tpreload={this.refreshOptions}\r\n\t\t\t\t\t\tonPreloadStateChange={this.onPreloadStateChange}\r\n\t\t\t\t\t\tonFocusItem={this.onFocusItem}\r\n\t\t\t\t\t\tscrollMaxItems={scroll === false ? 0 : scrollMaxItems}\r\n\t\t\t\t\t\tshouldFocus={false}\r\n\t\t\t\t\t\tonChange={this.setValue}\r\n\t\t\t\t\t\tonCollapse={this.onCollapse}\r\n\t\t\t\t\t\tonExpand={this.onExpand}\r\n\t\t\t\t\t\tfocusOnExpand={false}\r\n\t\t\t\t\t\thighlightSelectedItem={false}\r\n\t\t\t\t\t\ttabbable={false}\r\n\t\t\t\t\t\tgetTogglerNode={this.getInputNode}\r\n\t\t\t\t\t\tonFocusOut={this.onFocusOut}\r\n\t\t\t\t\t\tScrollableContainer={ScrollableContainer}\r\n\t\t\t\t\t\tcloseButtonIcon={closeButtonIcon}\r\n\t\t\t\t\t\tcloseLabel={closeLabel}\r\n\t\t\t\t\t\taria-label={this.props['aria-label'] || label}\r\n\t\t\t\t\t\tclassName={classNames('rrui__shadow', 'rrui__options-list',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'rrui__options-list--left-aligned'  : alignment === 'left',\r\n\t\t\t\t\t\t\t'rrui__options-list--right-aligned' : alignment === 'right'\r\n\t\t\t\t\t\t})}>\r\n\r\n\t\t\t\t\t\t{this.getOptionsForRendering().map((option, i) => (\r\n\t\t\t\t\t\t\t<List.Item\r\n\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\tid={id ? `${id}__list-item-${i}` : undefined}\r\n\t\t\t\t\t\t\t\tvalue={option.value}\r\n\t\t\t\t\t\t\t\titem={optionComponent ? option : undefined}\r\n\t\t\t\t\t\t\t\tcomponent={optionComponent}\r\n\t\t\t\t\t\t\t\ticon={saveOnIcons ? undefined : option.icon}>\r\n\t\t\t\t\t\t\t\t{optionComponent ? undefined : (option.content ? option.content(option) : option.label)}\r\n\t\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ExpandableList>\r\n\t\t\t\t</div>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\trenderTextInput()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tlabel,\r\n\t\t\ticon,\r\n\t\t\tplaceholder,\r\n\t\t\tdisabled,\r\n\t\t\treadOnly,\r\n\t\t\trequired,\r\n\t\t\terror,\r\n\t\t\ttabIndex,\r\n\t\t\tautoFocus,\r\n\t\t\tautoComplete,\r\n\t\t\tinputClassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tisExpanded,\r\n\t\t\tinputValue,\r\n\t\t\tmatches,\r\n\t\t\tisFetchingInitiallySelectedOption,\r\n\t\t\tfocusedOptionIndex\r\n\t\t}\r\n\t\t= this.state\r\n\r\n\t\t// To expand on click/focus:\r\n\t\t// onFocus={ this.expandOnFocus }\r\n\t\t// onClick={ this.onClick }\r\n\r\n\t\t// WAI-ARIA 1.0 impelmentation info (accessibility):\r\n\t\t// https://www.w3.org/TR/wai-aria-practices/#combobox\r\n\t\t// https://www.levelaccess.com/differences-aria-1-0-1-1-changes-rolecombobox/\r\n\r\n\t\tconst Icon = typeof icon === 'boolean' ? undefined : icon\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{Icon &&\r\n\t\t\t\t\t<Icon className=\"rrui__input-field__icon\"/>\r\n\t\t\t\t}\r\n\t\t\t\t<TextInputInput\r\n\t\t\t\t\tid={ id ? `${id}__input` : undefined }\r\n\t\t\t\t\tref={ this.storeInput }\r\n\t\t\t\t\tvalue={ inputValue }\r\n\t\t\t\t\tlabel={ label }\r\n\t\t\t\t\tplaceholder={ placeholder }\r\n\t\t\t\t\tonChange={ this.onInputValueChange }\r\n\t\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\t\trole=\"combobox\"\r\n\t\t\t\t\taria-autocomplete=\"list\"\r\n\t\t\t\t\taria-expanded={ isExpanded ? true : false }\r\n\t\t\t\t\taria-haspopup={ true }\r\n\t\t\t\t\taria-owns={ id && isExpanded ? `${id}__list` : undefined }\r\n\t\t\t\t\taria-activedescendant={ id && (focusedOptionIndex !== undefined) ? `${id}__list-item-${focusedOptionIndex}` : undefined }\r\n\t\t\t\t\trequired={ required }\r\n\t\t\t\t\ttabIndex={ tabIndex }\r\n\t\t\t\t\tautoFocus={ autoFocus }\r\n\t\t\t\t\tautoComplete={ autoComplete }\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\treadOnly={ isFetchingInitiallySelectedOption || readOnly }\r\n\t\t\t\t\terror={ error || (matches === false ? 'no-match' : undefined) }\r\n\t\t\t\t\tclassName={ classNames('rrui__autocomplete__input', inputClassName, {\r\n\t\t\t\t\t\t'rrui__input-field--with-icon': Icon\r\n\t\t\t\t\t}) }/>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n\r\n\tgetOptionsForRendering()\r\n\t{\r\n\t\tconst { maxOptions } = this.props\r\n\t\tconst { options } = this.state\r\n\r\n\t\tif (maxOptions > 0 && options.length > maxOptions) {\r\n\t\t\treturn options.slice(0, maxOptions)\r\n\t\t}\r\n\r\n\t\treturn options\r\n\t}\r\n\r\n\texpandOnFocus = () =>\r\n\t{\r\n\t\tif (this.dontExpandOnFocus) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\tif (!isExpanded)\r\n\t\t{\r\n\t\t\tthis.setState({ matches: true }, this.expand)\r\n\t\t}\r\n\t}\r\n\r\n\tonInputValueChange = (value) =>\r\n\t{\r\n\t\tconst { isExpanded } = this.state\r\n\r\n\t\t// Rewrite this somehow.\r\n\t\t//\r\n\t\t// When `highlightFirstOption` is `true`\r\n\t\t// this is a special case when the first option is not highlighted.\r\n\t\tif (!value && isExpanded) {\r\n\t\t\tthis.list.focusItem(undefined)\r\n\t\t}\r\n\r\n\t\tthis.setState({\r\n\t\t\tinputValue : value\r\n\t\t}, () => {\r\n\t\t\tthis._expand({ refresh: true })\r\n\t\t})\r\n\t}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { disabled, readOnly, value, required, highlightFirstOption, onKeyDown } = this.props\r\n\t\tconst { options, isExpanded, inputValue, focusedOptionIndex } = this.state\r\n\r\n\t\tif (disabled || readOnly) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (!isExpanded) {\r\n\t\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// \"Up\" arrow.\r\n\t\t\t// Select the previous item (if present).\r\n\t\t\tcase 38:\r\n\t\t\t\tif (isExpanded)\r\n\t\t\t\t{\r\n\t\t\t\t\t// If no item was selected then do nothing.\r\n\t\t\t\t\tif (this.list.getFocusedItemIndex() === undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Don't select any list item.\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// If the first item was selected.\r\n\t\t\t\t\telse if (this.list.getFocusedItemIndex() === 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// then unselect it.\r\n\t\t\t\t\t\tif (!highlightFirstOption) {\r\n\t\t\t\t\t\t\tthis.list.clearFocus()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.list.onKeyDown(event)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// \"Down\" arrow.\r\n\t\t\t// Select the next item (if present).\r\n\t\t\tcase 40:\r\n\t\t\t\tif (isExpanded) {\r\n\t\t\t\t\t// An edge case for `highlightFirstOption`\r\n\t\t\t\t\t// when there's only one option available\r\n\t\t\t\t\t// so pressing \"Down\" arrow key won't result in\r\n\t\t\t\t\t// `onFocusItem` call which won't set `focusedOptionIndex`\r\n\t\t\t\t\t// in order for screen reader to announce it.\r\n\t\t\t\t\tif (highlightFirstOption &&\r\n\t\t\t\t\t\tfocusedOptionIndex === undefined &&\r\n\t\t\t\t\t\toptions.length === 1) {\r\n\t\t\t\t\t\tthis.setState({ focusedOptionIndex: 0 })\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Navigate the list (if it was already expanded).\r\n\t\t\t\t\t\tthis.list.onKeyDown(event)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Expand the list if it's collapsed.\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\tthis.expand()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// \"Left\" arrow.\r\n\t\t\tcase 37:\r\n\t\t\t// \"Right\" arrow.\r\n\t\t\tcase 39:\r\n\t\t\t\t// Exit \"focus options\" mode.\r\n\t\t\t\tif (isExpanded) {\r\n\t\t\t\t\tthis.list.clearFocus()\r\n\t\t\t\t\tif (highlightFirstOption) {\r\n\t\t\t\t\t\tthis.list.focusItem(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// \"Escape\".\r\n\t\t\t// Collapse.\r\n\t\t\tcase 27:\r\n\t\t\t\tif (isExpanded) {\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\tthis.collapse()\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (onKeyDown) {\r\n\t\t\t\t\t\tonKeyDown(event)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\tif (!inputValue)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (onKeyDown) {\r\n\t\t\t\t\t\tonKeyDown(event)\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If no option is selected and the input value is empty\r\n\t\t\t\t\t// then set `value` to `undefined`.\r\n\t\t\t\t\tif (isExpanded && this.list.getFocusedItemIndex() === undefined)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// Don't submit the form.\r\n\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t\tthis.setValue(undefined)\r\n\r\n\t\t\t\t\t\tthis.collapsedDueToEmptyValueOnEnter = true\r\n\t\t\t\t\t\tthis.collapse()\r\n\t\t\t\t\t\tthis.collapsedDueToEmptyValueOnEnter = undefined\r\n\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!isExpanded)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// If `value` is `undefined` and input value is empty\r\n\t\t\t\t\t\t// then by default it submits the form.\r\n\t\t\t\t\t\tif (isEmptyValue(value))\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// If the value is required then expand the options list.\r\n\t\t\t\t\t\t\tif (required)\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t// Don't submit the form\r\n\t\t\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t\t\t\tthis.expand()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// If the input value has been cleared\r\n\t\t\t\t\t\t// and the options list is collapsed\r\n\t\t\t\t\t\t// (for example, via Escape key)\r\n\t\t\t\t\t\t// then set `value` to `undefined`\r\n\t\t\t\t\t\t// and don't submit the form.\r\n\t\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t\tthis.setValue(undefined)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Select the currently focused item (if expanded).\r\n\t\t\t\tif (isExpanded)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Don't submit the form.\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\t// Choose the focused option.\r\n\t\t\t\t\tthis.list.chooseFocusedItem()\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tthrottleFetchOptionsCall(resolve)\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tthrottle,\r\n\t\t\tminCharactersToStartThrottling\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { inputValue } = this.state\r\n\r\n\t\tconst wait = throttle - (Date.now() - this.latestFetchOptionsCallTimestamp)\r\n\r\n\t\tif (inputValue.length >= minCharactersToStartThrottling && wait > 0)\r\n\t\t{\r\n\t\t\tif (!this.nextFetchOptionsCallTimeout)\r\n\t\t\t{\r\n\t\t\t\tthis.nextFetchOptionsCallTimeout = setTimeout(() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.nextFetchOptionsCallTimeout = undefined\r\n\t\t\t\t\tthis.latestFetchOptionsCall()\r\n\t\t\t\t},\r\n\t\t\t\twait)\r\n\t\t\t}\r\n\r\n\t\t\tthis.latestFetchOptionsCall = () => this.refreshOptions().then(resolve)\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\r\n\tfetchDefaultOptions = () =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tgetOptions,\r\n\t\t\tfilterOptions\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn Promise.resolve().then(() =>\r\n\t\t{\r\n\t\t\treturn getOptions ? getOptions('') : filterOptions(this.props.options, '')\r\n\t\t})\r\n\t\t.then((options) =>\r\n\t\t{\r\n\t\t\treturn new Promise(resolve => this.setState({ options }, resolve))\r\n\t\t})\r\n\t}\r\n\r\n\trefreshOptions = () =>\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tgetOptions,\r\n\t\t\tfilterOptions\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { inputValue } = this.state\r\n\r\n\t\treturn new Promise((resolve) =>\r\n\t\t{\r\n\t\t\t// If throttled then schedule a future invocation.\r\n\t\t\tif (getOptions)\r\n\t\t\t{\r\n\t\t\t\tif (this.throttleFetchOptionsCall(resolve)) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.latestFetchOptionsCallTimestamp = Date.now()\r\n\r\n\t\t\t\tconst counter = this.counter.getNextCounter()\r\n\r\n\t\t\t\treturn this.setState\r\n\t\t\t\t({\r\n\t\t\t\t\tisFetchingOptions : true,\r\n\t\t\t\t\tfetchingOptionsCounter : counter\r\n\t\t\t\t},\r\n\t\t\t\t() =>\r\n\t\t\t\t{\r\n\t\t\t\t\tgetOptions(inputValue).then((options) =>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.handleNewOptions(options, counter, resolve)\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\r\n\t\t\tconst newOptions = filterOptions(this.props.options, inputValue)\r\n\t\t\tthis.handleNewOptions(newOptions, null, resolve)\r\n\t\t})\r\n\t}\r\n\r\n\thandleNewOptions = (options, counter, resolve) =>\r\n\t{\r\n\t\tPromise.resolve(options).then((options) =>\r\n\t\t{\r\n\t\t\t// Autocomplete should always display some options.\r\n\t\t\tif (options.length === 0 && this.state.options.length === 0)\r\n\t\t\t{\r\n\t\t\t\treturn this.fetchDefaultOptions().then(() => options)\r\n\t\t\t}\r\n\t\t\treturn options\r\n\t\t})\r\n\t\t.then((options) =>\r\n\t\t{\r\n\t\t\tthis.receiveNewOptions(options, counter, resolve)\r\n\t\t})\r\n\t\t.catch((error) =>\r\n\t\t{\r\n\t\t\tconsole.error(error)\r\n\t\t\tthis.receiveNewOptions([], counter, resolve)\r\n\t\t})\r\n\t}\r\n\r\n\treceiveNewOptions(options, counter, callback)\r\n\t{\r\n\t\tconst {\r\n\t\t\tgetOptions,\r\n\t\t\thighlightFirstOption\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tisExpanded,\r\n\t\t\tmatchesCounter,\r\n\t\t\toptionsCounter,\r\n\t\t\tfetchingOptionsCounter\r\n\t\t} = this.state\r\n\r\n\t\tconst newState = {}\r\n\r\n\t\tif (getOptions)\r\n\t\t{\r\n\t\t\t// Can only override \"older\" matching state.\r\n\t\t\tif (isCounterAfter(counter, matchesCounter))\r\n\t\t\t{\r\n\t\t\t\tnewState.matches = options.length > 0\r\n\t\t\t\tnewState.matchesCounter = counter\r\n\t\t\t}\r\n\r\n\t\t\t// Update options.\r\n\t\t\t// Can only override \"older\" options.\r\n\t\t\t// (not \"newer\" ones)\r\n\t\t\tif (isCounterAfter(counter, optionsCounter))\r\n\t\t\t{\r\n\t\t\t\t// Autocomplete should always display some options.\r\n\t\t\t\tif (options.length > 0)\r\n\t\t\t\t{\r\n\t\t\t\t\tnewState.options = options\r\n\t\t\t\t\tnewState.optionsCounter = counter\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (counter === fetchingOptionsCounter)\r\n\t\t\t{\r\n\t\t\t\tnewState.isFetchingOptions = false\r\n\t\t\t\tnewState.fetchingOptionsCounter = undefined\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tnewState.matches = options.length > 0\r\n\r\n\t\t\t// Autocomplete should always display some options.\r\n\t\t\tif (options.length > 0)\r\n\t\t\t{\r\n\t\t\t\tnewState.options = options\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (newState.matches === false && !highlightFirstOption) {\r\n\t\t\tif (isExpanded) {\r\n\t\t\t\tthis.list.clearFocus()\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.setState(newState, callback)\r\n\t}\r\n\r\n\tsetValue = (newValue) =>\r\n\t{\r\n\t\tconst { value, onChange } = this.props\r\n\t\tconst { options } = this.state\r\n\r\n\t\tconst selectedOption = options.filter(_ => _.value === newValue)[0]\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tselectedOption,\r\n\t\t\tinputValue : selectedOption ? selectedOption.label : ''\r\n\t\t})\r\n\r\n\t\t// Call `onChange` only if the `value` did change.\r\n\t\tif (newValue !== value) {\r\n\t\t\tonChange(newValue)\r\n\t\t}\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur, value } = this.props\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t\tif (this.list) {\r\n\t\t\tthis.list.onBlur(event)\r\n\t\t}\r\n\t}\r\n\r\n\tonClick = (event) =>\r\n\t{\r\n\t\tconst { disabled, readOnly } = this.props\r\n\r\n\t\tif (disabled || readOnly) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.expandOnFocus()\r\n\t}\r\n\r\n\tonFocusOut = (event) =>\r\n\t{\r\n\t\tlet { onBlur, value } = this.props\r\n\t\tconst { inputValue } = this.state\r\n\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tthis.collapse()\r\n\t\t}\r\n\r\n\t\tif (!inputValue)\r\n\t\t{\r\n\t\t\tvalue = undefined\r\n\t\t\tthis.setValue(value)\r\n\t\t}\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default reactLifecyclesCompat(Autocomplete)\r\n\r\nfunction isEmptyValue(value)\r\n{\r\n\treturn value === null || value === undefined\r\n}\r\n\r\n// Filters options by substring inclusion (case-insensitive).\r\nfunction filterOptions(options, value)\r\n{\r\n\t// If the input value is `undefined` or empty.\r\n\tif (!value) {\r\n\t\treturn options\r\n\t}\r\n\r\n\tvalue = value.toLowerCase()\r\n\r\n\treturn options.filter(({ label }) => label.toLowerCase().indexOf(value) >= 0)\r\n}\r\n\r\nclass Counter\r\n{\r\n\tcounter = 0\r\n\r\n\tgetNextCounter()\r\n\t{\r\n\t\tif (this.counter < MAX_SAFE_INTEGER) {\r\n\t\t\tthis.counter++\r\n\t\t} else {\r\n\t\t\tthis.counter = 1\r\n\t\t}\r\n\t\treturn this.counter\r\n\t}\r\n}\r\n\r\n// `MAX_SAFE_INTEGER` is not supported by older browsers\r\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || (Math.pow(2, 53) - 1)\r\n\r\n// Can only override \"older\" options.\r\n// (not \"newer\" ones)\r\nfunction isCounterAfter(counter, currentStateCounter)\r\n{\r\n\tconst diff = counter - currentStateCounter\r\n\r\n\t// If the new options are \"newer\" than the current ones,\r\n\t// then they can override them.\r\n\t// (also accounts for counter overflow)\r\n\treturn diff > 0 || (diff < 0 && Math.abs(diff) > MAX_SAFE_INTEGER / 2)\r\n}\r\n\r\nfunction generateRandomString() {\r\n\treturn Math.random().toString().replace(/\\D/g , '')\r\n}","import React, { useState, useCallback, useRef } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport createRef from 'react-create-ref'\r\n\r\nimport ExpandableList from './ExpandableList'\r\nimport List from './List'\r\nimport Close, { CloseIcon } from './Close'\r\n\r\nimport { focus as focusElement } from './utility/focus'\r\n\r\nexport default function ExpandableMenu(props) {\r\n\tconst [isExpanded, setExpanded] = useState(false)\r\n\r\n\t// The DOM Element reference is only used to determine\r\n\t// whether the focus is \"inside\" the component or \"outside\" of it,\r\n\t// and also for focusing the `<button/>` when closing expandable menu.\r\n\tconst buttonRef = useRef()\r\n\r\n\tconst listRef = useRef()\r\n\r\n\t// (legacy) (deprecated)\r\n\t// Is used to focus legacy togglers.\r\n\tconst togglerRef = useRef()\r\n\r\n\tconst { buttonRef: buttonRefExternal } = props\r\n\r\n\tconst setToggleButtonRef = useCallback((instance) => {\r\n\t\tbuttonRef.current = instance\r\n\t\tif (buttonRefExternal) {\r\n\t\t\tif (typeof buttonRefExternal === 'function') {\r\n\t\t\t\tbuttonRefExternal(instance)\r\n\t\t\t} else {\r\n\t\t\t\tbuttonRefExternal.current = instance\r\n\t\t\t}\r\n\t\t}\r\n\t}, [buttonRefExternal])\r\n\r\n\tconst focus = useCallback(() => {\r\n\t\t// `togglerRef` is deprecated.\r\n\t\tfocusElement(togglerRef.current || buttonRef.current)\r\n\t}, [])\r\n\r\n\t// Returns a `Promise`.\r\n\tconst expand = useCallback(() => listRef.current.expand(), [listRef])\r\n\r\n\t// Returns a `Promise`.\r\n\tconst collapse = useCallback(() => listRef.current.collapse(), [listRef])\r\n\r\n\t// Returns a `Promise`.\r\n\tconst toggle = useCallback(() => listRef.current.toggle(), [listRef])\r\n\r\n\tconst onExpand = useCallback(() => {\r\n\t\tsetExpanded(true)\r\n\t}, [])\r\n\r\n\tconst onCollapse = useCallback(({ focusOut }) => {\r\n\t\tif (!focusOut) {\r\n\t\t\tfocus()\r\n\t\t}\r\n\t\tsetExpanded(false)\r\n\t\t// // A workaround for Safari (both macOS and iOS) bug: `<button/>`s not getting focus.\r\n\t\t// // https://stackoverflow.com/questions/20359962/jquery-mobile-focusout-event-for-relatedtarget-returns-incorrect-result-in-safar\r\n\t\t// this.cooldown = true\r\n\t\t// this.cooldownTimer = setTimeout(() => this.cooldown = false, 30)\r\n\t}, [focus])\r\n\r\n\tconst onFocusOut = useCallback(() => {\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tcollapse()\r\n\t\t}\r\n\t}, [collapse])\r\n\r\n\tconst getButtonElement = useCallback(() => buttonRef.current, [])\r\n\r\n\tconst onBlur = useCallback((event) => {\r\n\t\tif (listRef.current) {\r\n\t\t\tlistRef.current.onBlur(event)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst onClick = useCallback((event) => {\r\n\t\t// // A workaround for Safari (both macOS and iOS) bug: `<button/>`s not getting focus.\r\n\t\t// // https://stackoverflow.com/questions/20359962/jquery-mobile-focusout-event-for-relatedtarget-returns-incorrect-result-in-safar\r\n\t\t// if (!this.cooldown) {\r\n\t\t\ttoggle()\r\n\t\t// }\r\n\t}, [\r\n\t\ttoggle\r\n\t])\r\n\r\n\tconst onKeyDown = useCallback((event) => {\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// \"Up\" arrow.\r\n\t\t\t// Select the previous item (if present).\r\n\t\t\tcase 38:\r\n\t\t\t// \"Down\" arrow.\r\n\t\t\t// Select the next item (if present).\r\n\t\t\tcase 40:\r\n\t\t\t\treturn listRef.current.onKeyDown(event)\r\n\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\t// Submit containing `<form/>`.\r\n\t\t\t\t// Expand otherwise.\r\n\t\t\t\texpand()\r\n\t\t\t\treturn event.preventDefault()\r\n\t\t}\r\n\t}, [\r\n\t\texpand\r\n\t])\r\n\r\n\tconst {\r\n\t\tbuttonTitle,\r\n\t\tdisabled,\r\n\t\tstyle,\r\n\t\tclassName,\r\n\t\tbutton,\r\n\t\tbuttonComponent,\r\n\t\tbuttonProps,\r\n\t\tbuttonClassName,\r\n\t\ttoggleElement,\r\n\t\ttoggler,\r\n\t\ttogglerAriaLabel,\r\n\t\ttogglerAriaHasPopup,\r\n\t\ttogglerClassName,\r\n\t\tchildren,\r\n\t\t...rest\r\n\t} = props\r\n\r\n\t// `button` is a legacy property name.\r\n\t// `buttonComponent` is a new property name.\r\n\tconst CustomButtonComponent = buttonComponent || button\r\n\r\n\tlet menuToggler\r\n\tlet menuItems\r\n\r\n\tif (CustomButtonComponent || buttonProps || toggleElement || toggler) {\r\n\t\tmenuItems = children\r\n\r\n\t\tconst DefaultButtonComponent = 'button'\r\n\t\tconst defaultButtonComponentClassNames = 'rrui__button-reset' + ' ' + 'rrui__outline'\r\n\t\tconst defaultButtonComponentProps = { type: 'button' }\r\n\r\n\t\tconst isDefaultButtonComponent = !CustomButtonComponent\r\n\r\n\t\tconst ButtonComponent = isDefaultButtonComponent ? 'button' : CustomButtonComponent\r\n\t\tconst buttonComponentChildren = toggleElement || (buttonProps ? buttonProps.children : null) || (toggler ? React.createElement(toggler) : null)\r\n\r\n\t\tmenuToggler = (\r\n\t\t\t<ButtonComponent\r\n\t\t\t\taria-haspopup={ togglerAriaHasPopup }\r\n\t\t\t\taria-label={ togglerAriaLabel }\r\n\t\t\t\ttitle={ buttonTitle }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tclassName={ classNames(togglerClassName, buttonClassName, isDefaultButtonComponent ? defaultButtonComponentClassNames : undefined) }\r\n\t\t\t\t{...(isDefaultButtonComponent ? defaultButtonComponentProps : buttonProps)}\r\n\t\t\t\tref={ setToggleButtonRef }\r\n\t\t\t\tonClick={ onClick }\r\n\t\t\t\tonKeyDown={ onKeyDown }\r\n\t\t\t\tonBlur={ onBlur }\r\n\t\t\t\taria-expanded={ isExpanded }>\r\n\t\t\t\t{ buttonComponentChildren }\r\n\t\t\t</ButtonComponent>\r\n\t\t)\r\n\t} else {\r\n\t\t// Legacy way: the first child was the toggler.\r\n\t\tmenuItems = React.Children.toArray(children)\r\n\t\tmenuToggler = menuItems.shift()\r\n\t\tmenuToggler = (\r\n\t\t\t<div\r\n\t\t\t\tref={ buttonRef }\r\n\t\t\t\tonClick={ onClick }\r\n\t\t\t\tonKeyDown={ onKeyDown }\r\n\t\t\t\tonBlur={ onBlur }>\r\n\t\t\t\t{ React.cloneElement(menuToggler, { ref: togglerRef }) }\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tstyle={ style }\r\n\t\t\tclassName={ classNames('rrui__menu', className) }>\r\n\r\n\t\t\t{menuToggler}\r\n\r\n\t\t\t<ExpandableList\r\n\t\t\t\t{...rest}\r\n\t\t\t\tanimation=\"fade-up\"\r\n\t\t\t\tref={listRef}\r\n\t\t\t\taria-label={props['aria-label']}\r\n\t\t\t\ttabbable={false}\r\n\t\t\t\tscrollMaxItems={0}\r\n\t\t\t\tonCollapse={onCollapse}\r\n\t\t\t\tonExpand={onExpand}\r\n\t\t\t\tonFocusOut={onFocusOut}\r\n\t\t\t\tgetTogglerNode={getButtonElement}\r\n\t\t\t\tfocusSelectedItem={false}\r\n\t\t\t\tclassName=\"rrui__shadow\">\r\n\t\t\t\t{menuItems}\r\n\t\t\t</ExpandableList>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nExpandableMenu.propTypes =\r\n{\r\n\t// Component CSS class\r\n\tclassName  : PropTypes.string,\r\n\r\n\t// CSS style object\r\n\tstyle      : PropTypes.object,\r\n\r\n\t// `aria-label` for the \"Close\" button\r\n\t// (which is an \"x\" visible in fullscreen mode).\r\n\tcloseLabel : PropTypes.string,\r\n\r\n\t// The \"x\" button icon that closes the `<Select/>`\r\n\t// in fullscreen mode on mobile devices.\r\n\tcloseButtonIcon : PropTypes.oneOfType([PropTypes.func, PropTypes.oneOf([false])]).isRequired,\r\n\r\n\t// Must accept a `ref`.\r\n\t// Receives properties: `onClick`, `onKeyDown`, `onBlur`, `aria-expanded`.\r\n\tbuttonComponent : PropTypes.elementType,\r\n\t// `button` is a legacy property name.\r\n\t// `buttonComponent` is a new property name.\r\n\tbutton : PropTypes.elementType,\r\n\r\n\tbuttonProps : PropTypes.object,\r\n\tbuttonClassName : PropTypes.string,\r\n\r\n\ttoggleElement : PropTypes.node,\r\n\r\n\t// (deprecated, use `button` component instead)\r\n\ttoggler : PropTypes.func,\r\n\r\n\t// (deprecated, use `buttonProps` instead)\r\n\ttogglerAriaLabel : PropTypes.string,\r\n\r\n\t// (deprecated, use `buttonProps` instead)\r\n\ttogglerAriaHasPopup : PropTypes.string,\r\n\r\n\t// (deprecated, use `buttonProps` instead)\r\n\ttogglerClassName : PropTypes.string,\r\n\r\n\t// A `ref` for the toggle button\r\n\tbuttonRef: PropTypes.object,\r\n\r\n\tbuttonTitle: PropTypes.string,\r\n\r\n\tdisabled: PropTypes.bool\r\n}\r\n\r\nExpandableMenu.defaultProps =\r\n{\r\n\t// The \"x\" button icon that closes the `<Select/>`\r\n\t// in fullscreen mode on mobile devices.\r\n\tcloseButtonIcon : CloseIcon\r\n}\r\n","import React, { useState, useEffect, useRef, useCallback, useLayoutEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nconst DownArrow = (props) => (\r\n\t<svg viewBox=\"0 0 12 7\" {...props}>\r\n\t\t<g stroke=\"none\" strokeWidth=\"1\" fill=\"none\" fillRule=\"evenodd\">\r\n\t\t\t<path fill=\"currentColor\" d=\"M0.776785714,0 C0.995536808,0 1.17633857,0.0761808302 1.31919643,0.228544776 L6,4.93003731 L10.6808036,0.228544776 C10.8236614,0.0805340858 11.0044632,0.00652985075 11.2232143,0.00652985075 C11.4419654,0.00652985075 11.6227671,0.0805340858 11.765625,0.228544776 C11.9218758,0.380908722 12,0.568095905 12,0.79011194 C12,1.01648123 11.9218758,1.20584501 11.765625,1.35820896 L6.26116071,6.88899254 C6.18973179,6.96299788 6.10267908,7 6,7 C5.89732092,7 5.81026821,6.96299788 5.73883929,6.88899254 L0.234375,1.35820896 C0.0781242187,1.20149175 0,1.01321627 0,0.793376866 C0,0.573537458 0.0781242187,0.385261978 0.234375,0.228544776 C0.381697165,0.0761808302 0.562498929,0 0.776785714,0 Z\"/>\r\n\t\t</g>\r\n\t</svg>\r\n)\r\n\r\n// The delay prevents Chrome from optimizing two immediate\r\n// CSS style changes to a single one: first one setting\r\n// <ExpansionPanel/>'s content `height` to `auto`,\r\n// and the second one setting content `height` to `0`,\r\n// so that the minimize animation is displayed.\r\nconst MINIMIZE_TIMER_DELAY = 20\r\n\r\nfunction ExpansionPanel({\r\n\tisExpandedInitially,\r\n\tisExpanded: isExpandedExternallyControlled,\r\n\tonToggle,\r\n\ttitle,\r\n\t'aria-label': ariaLabel,\r\n\tdisabled,\r\n\ttoggleIcon: ToggleIcon,\r\n\ttoggleIconPlacement,\r\n\tanimationDuration,\r\n\tstyle,\r\n\tclassName,\r\n\tchildren\r\n}, ref) {\r\n\tconst _isExpandedInitially = (isExpandedInitially === undefined ? isExpandedExternallyControlled : isExpandedInitially) || false\r\n\r\n\tconst [isExpanded, setExpanded] = useState(_isExpandedInitially)\r\n\tconst [height, setHeight] = useState(_isExpandedInitially ? undefined : 0)\r\n\tconst [expandedHeight, setExpandedHeight] = useState()\r\n\r\n\tconst content = useRef()\r\n\tconst resetHeightTimer = useRef()\r\n\r\n\tconst toggle = useCallback((expand) => {\r\n\t\tif (expand === isExpanded) {\r\n\t\t\t// The expansion panel is already in the requested state. Do nothing.\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (expand === undefined) {\r\n\t\t\texpand = !isExpanded\r\n\t\t}\r\n\t\tif (onToggle) {\r\n\t\t\tonToggle(expand)\r\n\t\t}\r\n\t\tclearTimeout(resetHeightTimer.current)\r\n\t\tsetExpanded(expand)\r\n\t\tsetHeight(expand ? null : undefined)\r\n\t\tsetExpandedHeight(expand ? null : content.current.scrollHeight)\r\n\t}, [\r\n\t\tisExpanded,\r\n\t\tonToggle\r\n\t])\r\n\r\n\tconst onToggleClick = useCallback((event) => toggle(), [toggle])\r\n\r\n\tconst isFirstUseEffect = useRef(true)\r\n\tconst isFirstUseLayoutEffect = useRef(true)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isFirstUseEffect.current) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\ttoggle(isExpanded)\r\n\t}, [isExpandedExternallyControlled])\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tif (isFirstUseLayoutEffect.current) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (isExpanded) {\r\n\t\t\t// If `<ExpansionPanel/>` is being expanded\r\n\t\t\t// then measure its content height.\r\n\t\t\tif (height === null) {\r\n\t\t\t\tsetHeight(content.current.scrollHeight)\r\n\t\t\t}\r\n\t\t\tresetHeightTimer.current = setTimeout(() => {\r\n\t\t\t\tsetHeight(undefined)\r\n\t\t\t}, animationDuration)\r\n\t\t} else {\r\n\t\t\t// Added a timeout here so that the browser doesn't\r\n\t\t\t// optimize two `setState()`s into a single one.\r\n\t\t\tresetHeightTimer.current = setTimeout(() => {\r\n\t\t\t\tsetHeight(0)\r\n\t\t\t}, MINIMIZE_TIMER_DELAY)\r\n\t\t}\r\n\t}, [isExpanded])\r\n\r\n\tuseEffect(() => {\r\n\t\tisFirstUseEffect.current = false\r\n\t}, [])\r\n\r\n\tuseLayoutEffect(() => {\r\n\t\tisFirstUseLayoutEffect.current = false\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(resetHeightTimer.current)\r\n\t\t}\r\n\t}, [])\r\n\r\n\t// There was a possibility of using `<details/>`/`<summary/>` elements here\r\n\t// but `<summary/>` can only contain any valid paragraph content\r\n\t// which means it can't contain lists, divs, paragraphs, etc.\r\n\r\n\treturn (\r\n\t\t<section\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={classNames(className, 'rrui__expansion-panel', {\r\n\t\t\t\t'rrui__expansion-panel--expanded': isExpanded,\r\n\t\t\t\t'rrui__expansion-panel--toggle-icon-start': ToggleIcon && toggleIconPlacement === 'start',\r\n\t\t\t\t'rrui__expansion-panel--toggle-icon-end': ToggleIcon && toggleIconPlacement === 'end'\r\n\t\t\t})}>\r\n\t\t\t<header style={HEADING_STYLE}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tref={ref}\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={onToggleClick}\r\n\t\t\t\t\taria-expanded={isExpanded ? true : false}\r\n\t\t\t\t\taria-label={ariaLabel}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tclassName={classNames('rrui__button-reset', 'rrui__outline', 'rrui__expansion-panel__header')}>\r\n\t\t\t\t\t{ToggleIcon && toggleIconPlacement === 'start' &&\r\n\t\t\t\t\t\t<ToggleIcon\r\n\t\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\t\tclassName={classNames('rrui__expansion-panel__toggle-icon', 'rrui__expansion-panel__toggle-icon--start')}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t<span className=\"rrui__expansion-panel__heading\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t{ToggleIcon && toggleIconPlacement === 'end' &&\r\n\t\t\t\t\t\t<ToggleIcon\r\n\t\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\t\tclassName={classNames('rrui__expansion-panel__toggle-icon', 'rrui__expansion-panel__toggle-icon--end')}/>\r\n\t\t\t\t\t}\r\n\t\t\t\t</button>\r\n\t\t\t</header>\r\n\t\t\t<div\r\n\t\t\t\tref={content}\r\n\t\t\t\taria-hidden={!isExpanded}\r\n\t\t\t\tstyle={{ height: isExpanded ? (height === null ? 0 : (height === undefined ? 'auto' : `${height}px`)) : (height === undefined ? expandedHeight : 0) }}\r\n\t\t\t\tclassName=\"rrui__expansion-panel__content-wrapper\">\r\n\t\t\t\t<div className=\"rrui__expansion-panel__content\">\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</section>\r\n\t)\r\n}\r\n\r\nconst HEADING_STYLE = {\r\n\tmargin: 0\r\n}\r\n\r\nExpansionPanel = React.forwardRef(ExpansionPanel)\r\n\r\nExpansionPanel.propTypes = {\r\n\ttitle: PropTypes.string.isRequired,\r\n\tdisabled: PropTypes.bool,\r\n\t// `isExpanded` can be used for manual control.\r\n\t// For example, when there's a group of expansion panels\r\n\t// and only one of them should be expanded at any given time.\r\n\tisExpanded: PropTypes.bool,\r\n\tisExpandedInitially: PropTypes.bool,\r\n\tonToggle: PropTypes.func,\r\n\ttoggleIcon: PropTypes.oneOfType([\r\n\t\tPropTypes.func,\r\n\t\tPropTypes.bool\r\n\t]).isRequired,\r\n\ttoggleIconPlacement: PropTypes.oneOf(['start', 'end']).isRequired,\r\n\tanimationDuration: PropTypes.number.isRequired,\r\n\tstyle: PropTypes.object,\r\n\tclassName: PropTypes.string\r\n}\r\n\r\nExpansionPanel.defaultProps = {\r\n\ttoggleIcon: DownArrow,\r\n\ttoggleIconPlacement: 'start',\r\n\tanimationDuration: 300\r\n}\r\n\r\nexport default ExpansionPanel","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://wd.dizaina.net/en/experiments/ios7-style-switch/\r\n\r\n// An iOS-style switch\r\nexport default class Switch extends PureComponent\r\n{\r\n\tstate = {}\r\n\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// HTML form input `name` attribute\r\n\t\tname      : PropTypes.string,\r\n\r\n\t\t// Disables the switch\r\n\t\tdisabled  : PropTypes.bool,\r\n\r\n\t\t// Either `true` or `false`\r\n\t\tvalue     : PropTypes.bool.isRequired,\r\n\r\n\t\t// Is called when the switch is switched\r\n\t\tonChange  : PropTypes.func.isRequired,\r\n\r\n\t\t// The label to the left of the switch\r\n\t\tleftLabel : PropTypes.string,\r\n\r\n\t\t// The label to the right of the switch\r\n\t\trightLabel : PropTypes.string,\r\n\r\n\t\t// (deprecated, use `placement=\"left\"`)\r\n\t\t// Set to `true` to output `children` on the right side.\r\n\t\trightContent : PropTypes.bool,\r\n\r\n\t\t// Determines the placement of the toggle relative to `children`.\r\n\t\t// Is \"right\" by default.\r\n\t\tplacement : PropTypes.oneOf(['left', 'right']),\r\n\r\n\t\t// A label (analogous to `leftLabel`)\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tvalue: false,\r\n\r\n\t\t// Determines the placement of the toggle relative to `children`.\r\n\t\t// Is \"right\" by default.\r\n\t\tplacement: 'right'\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\t// // Prevent \"blur\" event on mouse down.\r\n\t// onMouseDown = (event) => event.preventDefault()\r\n\r\n\tonFocus = (event) => {\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: true })\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur, value } = this.props\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n   \tthis.setState({ isFocused: false })\r\n   }\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tstoreInputComponent = _ => this.input = _\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tvalue,\r\n\t\t\tdisabled,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tleftLabel,\r\n\t\t\trightLabel,\r\n\t\t\trightContent,\r\n\t\t\tplacement,\r\n\t\t\tchildren\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isFocused } = this.state\r\n\r\n\t\tconst isRightSideContent = placement === 'left' || rightContent\r\n\t\tconst hasLabel = children || leftLabel || rightLabel || rightContent\r\n\r\n\t\treturn (\r\n\t\t\t<label\r\n\t\t\t\tonMouseDown={this.onMouseDown}\r\n\t\t\t\tonFocus={this.onFocus}\r\n\t\t\t\tonBlur={this.onBlur}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__switch', {\r\n\t\t\t\t\t'rrui__input'            : hasLabel,\r\n\t\t\t\t\t'rrui__switch--label'    : children,\r\n\t\t\t\t\t'rrui__switch--disabled' : disabled,\r\n\t\t\t\t\t'rrui__switch--focus'    : isFocused,\r\n\t\t\t\t\t'rrui__switch--on'       : value\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t{/* Left label */}\r\n\t\t\t\t{(leftLabel || (!isRightSideContent && children)) &&\r\n\t\t\t\t\t<span className={classNames(\r\n\t\t\t\t\t\t'rrui__text-line',\r\n\t\t\t\t\t\t'rrui__switch__label',\r\n\t\t\t\t\t\t'rrui__switch__label--left', {\r\n\t\t\t\t\t\t\t'rrui__switch__label--on': value\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t{leftLabel || (!isRightSideContent && children)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t{/* The switch */}\r\n\t\t\t\t<span className=\"rrui__switch__switch\">\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tref={this.storeInputComponent}\r\n\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\tonKeyDown={this.onKeyDown}\r\n\t\t\t\t\t\tonChange={this.toggle}\r\n\t\t\t\t\t\tclassName=\"rrui__switch__input\"\r\n\t\t\t\t\t\tstyle={inputStyle}/>\r\n\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classNames('rrui__switch__groove', {\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__groove--on' : value\r\n\t\t\t\t\t\t})}/>\r\n\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\tclassName={classNames('rrui__switch__knob', {\r\n\t\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t\t'rrui__switch__knob--on' : value\r\n\t\t\t\t\t\t})}/>\r\n\t\t\t\t</span>\r\n\r\n\t\t\t\t{/* Right label */}\r\n\t\t\t\t{(rightLabel || (isRightSideContent && children)) &&\r\n\t\t\t\t\t<span className={classNames(\r\n\t\t\t\t\t\t'rrui__text-line',\r\n\t\t\t\t\t\t'rrui__switch__label',\r\n\t\t\t\t\t\t'rrui__switch__label--right', {\r\n\t\t\t\t\t\t\t'rrui__switch__label--on': value\r\n\t\t\t\t\t\t})}>\r\n\t\t\t\t\t\t{rightLabel || (isRightSideContent && children)}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t}\r\n\t\t\t</label>\r\n\t\t)\r\n\t}\r\n\r\n\t// render_static()\r\n\t// {\r\n\t// \tconst { name, disabled, value } = this.props\r\n\t//\r\n\t// \treturn (\r\n\t// \t\t<div className=\"rrui__rich__fallback\">\r\n\t// \t\t\t<input\r\n\t// \t\t\t\ttype=\"checkbox\"\r\n\t// \t\t\t\tname={ name }\r\n\t// \t\t\t\tdisabled={ disabled }\r\n\t// \t\t\t\tvalue={ value }/>\r\n\t// \t\t</div>\r\n\t// \t)\r\n\t// }\r\n\r\n\ttoggle = (event) =>\r\n\t{\r\n\t\tconst { onChange, disabled, value } = this.props\r\n\r\n\t\tif (disabled)\r\n\t\t{\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tonChange(!value)\r\n\t}\r\n}\r\n\r\nconst inputStyle =\r\n{\r\n\tposition : 'absolute',\r\n\topacity  : 0,\r\n\tmargin   : 0\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport WithError from './WithError'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://tympanus.net/codrops/2013/10/15/animated-checkboxes-and-radio-buttons-with-svg/\r\n\r\nexport default class Checkbox extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// HTML `id` attribute.\r\n\t\tid : PropTypes.string,\r\n\r\n\t\t// HTML form field \"name\"\r\n\t\tname : PropTypes.string,\r\n\r\n\t\t// `true`/`false`\r\n\t\tvalue : PropTypes.bool.isRequired,\r\n\r\n\t\t// Set to `true` to enable multiline label\r\n\t\tmultiline : PropTypes.bool.isRequired,\r\n\r\n\t\t// Disables the checkbox\r\n\t\tdisabled  : PropTypes.bool.isRequired,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t\t// `onClick` handler\r\n\t\tonClick : PropTypes.func,\r\n\r\n\t\t// `onChange` handler\r\n\t\tonChange  : PropTypes.func,\r\n\r\n\t\t// When `true` autofocuses the checkbox\r\n\t\tfocus     : PropTypes.bool.isRequired,\r\n\r\n\t\t// `aria-label` attribute.\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel : PropTypes.string,\r\n\r\n\t\t// The label (text)\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tdisabled  : false,\r\n\t\tvalue     : false,\r\n\t\tmultiline : false,\r\n\t\tfocus     : false,\r\n\r\n\t\t// Show `error` (if passed).\r\n\t\tshowErrorMessage : true\r\n\t}\r\n\r\n\tstate = {}\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.checkbox)) {\r\n\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tonFocus = (event) => {\r\n\t\tconst { onFocus } = this.props\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: true })\r\n\t}\r\n\r\n\tonBlur = (event) => {\r\n\t\tconst { onBlur, value } = this.props\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t\tthis.setState({ isFocused: false })\r\n\t}\r\n\r\n\tstoreInstance = (ref) => this.checkbox = ref\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tid,\r\n\t\t\tvalue,\r\n\t\t\terror,\r\n\t\t\tshowErrorMessage,\r\n\t\t\tmultiline,\r\n\t\t\tdisabled,\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\tchildren,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tonClick\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\tconst { isFocused } = this.state\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__checkbox', {\r\n\t\t\t\t\t'rrui__checkbox--checked'  : value,\r\n\t\t\t\t\t'rrui__checkbox--invalid'   : error,\r\n\t\t\t\t\t'rrui__checkbox--disabled'  : disabled,\r\n\t\t\t\t\t'rrui__checkbox--multiline' : multiline,\r\n\t\t\t\t\t'rrui__checkbox--focus'     : isFocused\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<label\r\n\t\t\t\t\tclassName={ classNames('rrui__input', {\r\n\t\t\t\t\t\t'rrui__input--multiline' : multiline\r\n\t\t\t\t\t}) }>\r\n\r\n\t\t\t\t\t<span className=\"rrui__checkbox__checkbox\">\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tid={ id }\r\n\t\t\t\t\t\t\tref={ this.storeInstance }\r\n\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\taria-label={ this.props['aria-label'] || ariaLabel }\r\n\t\t\t\t\t\t\taria-labelledby={ this.props['aria-labelledby'] }\r\n\t\t\t\t\t\t\taria-describedby={ this.props['aria-describedby'] }\r\n\t\t\t\t\t\t\taria-invalid={ error ? true : undefined }\r\n\t\t\t\t\t\t\tchecked={ value }\r\n\t\t\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\t\t\tonClick={ onClick }\r\n\t\t\t\t\t\t\tonChange={ this.toggle }\r\n\t\t\t\t\t\t\tonKeyDown={ this.onKeyDown }\r\n\t\t\t\t\t\t\tonFocus={ this.onFocus }\r\n\t\t\t\t\t\t\tonBlur={ this.onBlur }\r\n\t\t\t\t\t\t\tclassName=\"rrui__checkbox__input\"/>\r\n\r\n\t\t\t\t\t\t<svg\r\n\t\t\t\t\t\t\tclassName={ classNames('rrui__checkbox__box',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__checkbox__box--checked' : value\r\n\t\t\t\t\t\t\t}) }\r\n\t\t\t\t\t\t\tfocusable=\"false\"\r\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\t\taria-hidden=\"true\">\r\n\t\t\t\t\t\t\t<path d={ value ? CHECKBOX_CHECKED_PATH : CHECKBOX_UNCHECKED_PATH }/> }\r\n\t\t\t\t\t\t</svg>\r\n\r\n\t\t\t\t\t\t<span className=\"rrui__checkbox__box-background\"/>\r\n\t\t\t\t\t\t<span className=\"rrui__checkbox__focus-ring\"/>\r\n\t\t\t\t\t</span>\r\n\r\n\t\t\t\t\t{ children &&\r\n\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\tclassName={ classNames('rrui__checkbox__label',\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t'rrui__checkbox__label--multiline' : multiline\r\n\t\t\t\t\t\t\t}) }>\r\n\t\t\t\t\t\t\t{ children }\r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t}\r\n\t\t\t\t</label>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\t// render_static()\r\n\t// {\r\n\t// \tconst { name, value, focus, disabled, children } = this.props\r\n\t//\r\n\t// \treturn (\r\n\t// \t\t<div className=\"rrui__rich__fallback\">\r\n\t// \t\t\t{/* This checkbox will be sent as either \"on\" or `undefined` */}\r\n\t// \t\t\t<input\r\n\t// \t\t\t\ttype=\"checkbox\"\r\n\t// \t\t\t\tname={ name }\r\n\t// \t\t\t\tdisabled={ disabled }\r\n\t// \t\t\t\tdefaultChecked={ value }\r\n\t// \t\t\t\tautoFocus={ focus }/>\r\n\t//\r\n\t// \t\t\t<label className=\"rrui__checkbox__label rrui__checkbox__label--fallback\">\r\n\t// \t\t\t\t{ children }\r\n\t// \t\t\t</label>\r\n\t// \t\t</div>\r\n\t// \t)\r\n\t// }\r\n\r\n\tfocus = () => this.checkbox.focus()\r\n\r\n\ttoggle = (event) =>\r\n\t{\r\n\t\t// If a link was clicked - don't treat it as a checkbox label click.\r\n\t\t// (is used for things like \" Read and accepted the <a>licence agreement</a>\")\r\n\t\tif (event.target.tagName.toLowerCase() === 'a') {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.focus()\r\n\r\n\t\tconst { disabled, onChange, value } = this.props\r\n\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tonChange(!value)\r\n\t}\r\n}\r\n\r\nconst CHECKBOX_CHECKED_PATH   = \"M21.3,0H2.7C1.2,0,0,1.2,0,2.7v18.7C0,22.8,1.2,24,2.7,24h18.7c1.5,0,2.7-1.2,2.7-2.7V2.7C24,1.2,22.8,0,21.3,0z M9.3,18.7 L2.7,12l1.9-1.9l4.8,4.8L19.5,4.8l1.9,1.9L9.3,18.7z\"\r\nconst CHECKBOX_UNCHECKED_PATH = \"M21.2,0H2.9C1.3,0,0,1.3,0,2.9v18.3C0,22.8,1.3,24,2.9,24h18.3c1.6,0,2.8-1.3,2.8-2.8V2.9C24,1.3,22.8,0,21.2,0z M22.3,20.7c0,0.9-0.8,1.7-1.7,1.7H3.4c-0.9,0-1.7-0.8-1.7-1.7V3.4c0-0.9,0.8-1.7,1.7-1.7h17.2c0.9,0,1.7,0.8,1.7,1.7V20.7z\"\r\n\r\n// Thin.\r\n// const CHECKBOX_UNCHECKED_PATH = \"M21.2,0H2.9C1.3,0,0,1.3,0,2.8v18.3C0,22.7,1.3,24,2.9,24h18.3c1.6,0,2.8-1.3,2.8-2.8V2.8C24,1.3,22.8,0,21.2,0z M23.2,20.3c0,1.6-1.3,2.8-2.8,2.8H3.7c-1.6,0-2.8-1.3-2.8-2.8V3.7c0-1.6,1.3-2.8,2.8-2.8h16.6c1.6,0,2.8,1.3,2.8,2.8V20.3z\"","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\nimport WithError from './WithError'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nexport default class Switcher extends PureComponent\r\n{\r\n\tstate = {}\r\n\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// A list of selectable options\r\n\t\toptions : PropTypes.arrayOf\r\n\t\t(\r\n\t\t\tPropTypes.shape\r\n\t\t\t({\r\n\t\t\t\t// Option value\r\n\t\t\t\tvalue: PropTypes.string.isRequired,\r\n\t\t\t\t// Option label\r\n\t\t\t\tlabel: PropTypes.string.isRequired\r\n\t\t\t})\r\n\t\t)\r\n\t\t.isRequired,\r\n\r\n\t\t// HTML form input `name` attribute\r\n\t\tname         : PropTypes.string,\r\n\r\n\t\t// If `true` then will be disabled\r\n\t\tdisabled     : PropTypes.bool,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t\t// The selected option value\r\n\t\tvalue        : PropTypes.any,\r\n\r\n\t\t// Is called when an option is selected\r\n\t\tonChange     : PropTypes.func.isRequired,\r\n\r\n\t\t// `aria-label` attribute.\r\n\t\t// Deprecated, use `aria-label` instead.\r\n\t\tariaLabel    : PropTypes.string,\r\n\r\n\t\t// CSS class\r\n\t\tclassName    : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle        : PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// Show `error` (if passed).\r\n\t\tshowErrorMessage : true\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst\r\n\t\t{\r\n\t\t\tdisabled,\r\n\t\t\toptions,\r\n\t\t\tshowErrorMessage,\r\n\t\t\terror,\r\n\t\t\t// Deprecated, use `aria-label` instead.\r\n\t\t\tariaLabel,\r\n\t\t\tstyle,\r\n\t\t\tclassName\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\t\tsetRef={this.storeContainerComponent}\r\n\t\t\t\tonKeyDown={this.onKeyDown}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames(className, 'rrui__switcher', {\r\n\t\t\t\t\t'rrui__switcher--disabled' : disabled\r\n\t\t\t\t})}>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"rrui__input\"\r\n\t\t\t\t\trole=\"radiogroup\"\r\n\t\t\t\t\taria-label={ this.props['aria-label'] || ariaLabel }\r\n\t\t\t\t\taria-invalid={ error ? true : undefined }>\r\n\t\t\t\t\t{ options.map((option, index) => this.render_button(option, index)) }\r\n\t\t\t\t</div>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n\r\n\trender_button(option, index)\r\n\t{\r\n\t\tconst { options, value, disabled } = this.props\r\n\r\n\t\tconst selected = value === option.value\r\n\r\n\t\tconst first = index === 0\r\n\t\tconst last  = index === options.length - 1\r\n\r\n\t\treturn (\r\n\t\t\t<button\r\n\t\t\t\tkey={ option.value }\r\n\t\t\t\tref={ ref => this[`button_${index}`] = ref }\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t\trole=\"radio\"\r\n\t\t\t\taria-checked={ selected }\r\n\t\t\t\ttabIndex={ isAnythingSelected(value, options) ? (selected ? 0 : -1) : (first ? 0 : -1) }\r\n\t\t\t\tdisabled={ disabled }\r\n\t\t\t\tonClick={ this.chooser(option.value) }\r\n\t\t\t\tclassName={ classNames\r\n\t\t\t\t(\r\n\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t'rrui__switcher__option',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t'rrui__switcher__option--selected' : selected,\r\n\t\t\t\t\t\t// CSS selector performance optimization\r\n\t\t\t\t\t\t'rrui__switcher__option--disabled' : disabled,\r\n\t\t\t\t\t\t// Ordering\r\n\t\t\t\t\t\t'rrui__switcher__option--first'    : first,\r\n\t\t\t\t\t\t'rrui__switcher__option--last'     : last,\r\n\t\t\t\t\t\t'rrui__switcher__option--middle'   : !first && !last\r\n\t\t\t\t\t}\r\n\t\t\t\t) }>\r\n\t\t\t\t{ option.label }\r\n\t\t\t</button>\r\n\t\t)\r\n\t}\r\n\r\n\t// render_static()\r\n\t// {\r\n\t// \tconst { options } = this.props\r\n\t// \treturn options.map((option, index) => this.render_static_option(option, index))\r\n\t// }\r\n\r\n\t// render_static_option(option, index)\r\n\t// {\r\n\t// \tconst { options, name, value } = this.props\r\n\t//\r\n\t// \tconst first = index === 0\r\n\t// \tconst last  = index === options.length - 1\r\n\t//\r\n\t// \treturn (\r\n\t// \t\t<span\r\n\t// \t\t\tkey={ option.value }\r\n\t// \t\t\tclassName={ classNames('rrui__button-reset', 'rrui__outline', 'rrui__switcher__option',\r\n\t// \t\t\t{\r\n\t// \t\t\t\t'rrui__switcher__option--first'  : first,\r\n\t// \t\t\t\t'rrui__switcher__option--last'   : last,\r\n\t// \t\t\t\t'rrui__switcher__option--middle' : !first && !last\r\n\t// \t\t\t}) }>\r\n\t// \t\t\t<input\r\n\t// \t\t\t\ttype=\"radio\"\r\n\t// \t\t\t\tname={ name }\r\n\t// \t\t\t\tchecked={ value === option.value }/>\r\n\t// \t\t\t{ option.label }\r\n\t// \t\t</span>\r\n\t// \t)\r\n\t// }\r\n\r\n\tchooser(value)\r\n\t{\r\n\t\treturn (event) =>\r\n\t\t{\r\n\t\t\tconst { disabled, onChange } = this.props\r\n\r\n\t\t\tif (disabled) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\t// Call `onChange` only if `value` did actually change\r\n\t\t\tif (value !== this.props.value) {\r\n\t\t\t\tonChange(value)\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfocus = () => this.button_0.focus()\r\n\r\n\tstoreContainerComponent = _ => this.container = _\r\n\r\n\tonKeyDown = (event) =>\r\n\t{\r\n\t\tconst { onKeyDown } = this.props\r\n\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (submitFormOnCtrlEnter(event, this.input)) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tconst { onChange, options } = this.props\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// Focus the previous option (if present) on left arrow.\r\n\t\t\tcase 37:\r\n\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\tconst previous_option_index = this.previous_focused_option_index()\r\n\r\n\t\t\t\tif (previous_option_index !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Focus the option <button/> so that\r\n\t\t\t\t\t// a subsequent \"Spacebar\" keyDown\r\n\t\t\t\t\t// doesn't select the previously selected\r\n\t\t\t\t\t// option (e.g. the first one)\r\n\t\t\t\t\tthis[`button_${previous_option_index}`].focus()\r\n\r\n\t\t\t\t\t// // Change the `value`\r\n\t\t\t\t\t// return onChange(options[previous_option_index].value)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn\r\n\r\n\t\t\t// Focus the next option (if present) on right arrow.\r\n\t\t\tcase 39:\r\n\t\t\t\tevent.preventDefault()\r\n\r\n\t\t\t\tconst next_option_index = this.next_focused_option_index()\r\n\r\n\t\t\t\tif (next_option_index !== undefined)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Focus the option <button/> so that\r\n\t\t\t\t\t// a subsequent \"Spacebar\" keyDown\r\n\t\t\t\t\t// doesn't select the previously selected\r\n\t\t\t\t\t// option (e.g. the first one)\r\n\t\t\t\t\tthis[`button_${next_option_index}`].focus()\r\n\r\n\t\t\t\t\t// // Change the `value`\r\n\t\t\t\t\t// return onChange(options[next_option_index].value)\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}\r\n\r\n\tgetFocusedOptionIndex()\r\n\t{\r\n\t\tconst { options, value } = this.props\r\n\r\n\t\tlet i = 0\r\n\t\twhile (i < options.length)\r\n\t\t{\r\n\t\t\tif (document.activeElement === this[`button_${i}`]) {\r\n\t\t\t\treturn i\r\n\t\t\t}\r\n\t\t\ti++\r\n\t\t}\r\n\t}\r\n\r\n\t// Get the previous focused option index (relative to the currently selected option).\r\n\tprevious_focused_option_index()\r\n\t{\r\n\t\tconst i = this.getFocusedOptionIndex()\r\n\t\treturn i === 0 ? i : i - 1\r\n\t}\r\n\r\n\t// Get the next focused option index (relative to the currently selected option).\r\n\tnext_focused_option_index()\r\n\t{\r\n\t\tconst { options } = this.props\r\n\t\tconst i = this.getFocusedOptionIndex()\r\n\t\treturn i === options.length - 1 ? i : i + 1\r\n\t}\r\n}\r\n\r\nfunction isAnythingSelected(value, options) {\r\n\tfor (const option of options) {\r\n\t\tif (option.value === value) {\r\n\t\t\treturn true\r\n\t\t}\r\n\t}\r\n\treturn false\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\n// http://react-day-picker.js.org/examples/?yearNavigation\r\n// Component will receive date, locale and localeUtils props\r\nexport default class YearMonthSelect extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\tdate : PropTypes.instanceOf(Date),\r\n\t\tonChange : PropTypes.func.isRequired,\r\n\t\tlocaleUtils : PropTypes.object,\r\n\t\ttabbable : PropTypes.bool.isRequired\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\t// For some weird reason in Chrome 70\r\n\t\t// the focus is trapped and jumps from\r\n\t\t// the month `<select/>` back to the `<input/>`\r\n\t\t// if `tabbable` is `true`.\r\n\t\t// Works as intended in Firefox though.\r\n\t\ttabbable : false\r\n\t}\r\n\r\n\tconstructor(props)\r\n\t{\r\n\t\tsuper(props)\r\n\r\n\t\tconst\r\n\t\t{\r\n\t\t\tselectYearsIntoPast,\r\n\t\t\tselectYearsIntoFuture,\r\n\t\t\tselectedDay,\r\n\t\t\tlocaleUtils\r\n\t\t}\r\n\t\t= this.props\r\n\r\n\t\t// The current year in the user's time zone.\r\n\t\tconst current_year = new Date().getFullYear()\r\n\r\n\t\tconst from_year = selectYearsIntoPast   ? current_year - selectYearsIntoPast   : current_year\r\n\t\tconst   to_year = selectYearsIntoFuture ? current_year + selectYearsIntoFuture : current_year\r\n\r\n\t\tconst years = new Array(to_year - from_year + 1)\r\n\r\n\t\tlet i = 0\r\n\t\twhile (from_year + i <= to_year)\r\n\t\t{\r\n\t\t\tyears[i] = from_year + i\r\n\t\t\ti++\r\n\t\t}\r\n\r\n\t\t// Makes sure the currently selected year is in the list\r\n\t\t// to not confuse the user.\r\n\t\tif (selectedDay)\r\n\t\t{\r\n\t\t\tconst selected_year = selectedDay.getFullYear()\r\n\r\n\t\t\tif (selected_year < from_year)\r\n\t\t\t{\r\n\t\t\t\tyears.unshift(selected_year)\r\n\t\t\t}\r\n\t\t\telse if (selected_year > to_year)\r\n\t\t\t{\r\n\t\t\t\tyears.push(selected_year)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tconst months = localeUtils.getMonths()\r\n\r\n\t\tthis.months = months\r\n\t\tthis.years = years\r\n\t}\r\n\r\n\tonChangeMonth = (event) =>\r\n\t{\r\n\t\tconst { date, onChange } = this.props\r\n\r\n\t\tconst month = event.target.value\r\n\r\n\t\tif (month !== date.getMonth())\r\n\t\t{\r\n\t\t\t// The date created is in the user's time zone and the time is `00:00`.\r\n\t\t\t// The `day` is `undefined` which means the first one of the `month`.\r\n\t\t\tonChange(new Date(date.getFullYear(), month))\r\n\t\t}\r\n\r\n\t\t// restoreFocus()\r\n\t}\r\n\r\n\tonChangeYear = (event) =>\r\n\t{\r\n\t\tconst { date, onChange } = this.props\r\n\r\n\t\tconst year = event.target.value\r\n\r\n\t\tif (year !== date.getFullYear())\r\n\t\t{\r\n\t\t\t// The date created is in the user's time zone and the time is `00:00`.\r\n\t\t\t// The `day` is `undefined` which means the first one of the `month`.\r\n\t\t\tonChange(new Date(year, date.getMonth()))\r\n\t\t}\r\n\r\n\t\t// restoreFocus()\r\n\t}\r\n\r\n\trestoreFocus = () =>\r\n\t{\r\n\t\tconst { userHasJustChangedYearOrMonth } = this.props\r\n\r\n\t\t// Doesn't work on iOS.\r\n\t\t// Or maybe it does with the new `focus()` being\r\n\t\t// `focusCalendar()` vs the old `.focus()`.\r\n\t\t// focus()\r\n\r\n\t\t// A hack for iOS when it collapses\r\n\t\t// the calendar after selecting a year/month.\r\n\t\t// Known bug: it won't work when a user\r\n\t\t// focuses one `<select/>` and then focuses another one\r\n\t\t// because in that case `onBlur` won't be triggered for the second `<select/>`.\r\n\t\tuserHasJustChangedYearOrMonth()\r\n\t}\r\n\r\n\trender()\r\n\t{\r\n\t\tconst { date, tabbable } = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"DayPicker-Caption\">\r\n\t\t\t\t<div className=\"DayPicker-CaptionSelects\">\r\n\t\t\t\t\t<div className=\"DayPicker-MonthSelect\">\r\n\t\t\t\t\t\t{/* Month `<select/>` */}\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tonChange={ this.onChangeMonth }\r\n\t\t\t\t\t\t\tonBlur={ this.restoreFocus }\r\n\t\t\t\t\t\t\tvalue={ date.getMonth() }\r\n\t\t\t\t\t\t\taria-label=\"Month\"\r\n\t\t\t\t\t\t\ttabIndex={ tabbable ? 0 : -1 }\r\n\t\t\t\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t\t\t\t// `:focus` style is implemented via border color\r\n\t\t\t\t\t\t\t\t// so outline can be muted safely here.\r\n\t\t\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t\t\t'rrui__select__native',\r\n\t\t\t\t\t\t\t\t'rrui__select__native--overlay'\r\n\t\t\t\t\t\t\t) }>\r\n\r\n\t\t\t\t\t\t\t{ this.months.map((month, i) => (\r\n\t\t\t\t\t\t\t\t<option key={ i } value={ i }>\r\n\t\t\t\t\t\t\t\t\t{ month }\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)) }\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t{/* Month `<select/>` button */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t\t\t'rrui__date-picker__month-select-toggler'\r\n\t\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t\t<div className=\"rrui__select__selected-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__selected-label\">\r\n\t\t\t\t\t\t\t\t\t{this.months[date.getMonth()]}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__arrow\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div className=\"DayPicker-YearSelect\">\r\n\t\t\t\t\t\t{/* Year `<select/>` */}\r\n\t\t\t\t\t\t<select\r\n\t\t\t\t\t\t\tonChange={ this.onChangeYear }\r\n\t\t\t\t\t\t\tonBlur={ this.restoreFocus }\r\n\t\t\t\t\t\t\tvalue={ date.getFullYear() }\r\n\t\t\t\t\t\t\taria-label=\"Year\"\r\n\t\t\t\t\t\t\ttabIndex={ tabbable ? 0 : -1 }\r\n\t\t\t\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t\t\t\t// `:focus` style is implemented via border color\r\n\t\t\t\t\t\t\t\t// so outline can be muted safely here.\r\n\t\t\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t\t\t'rrui__select__native',\r\n\t\t\t\t\t\t\t\t'rrui__select__native--overlay'\r\n\t\t\t\t\t\t\t) }>\r\n\r\n\t\t\t\t\t\t\t{ this.years.map((year, i) => (\r\n\t\t\t\t\t\t\t\t<option key={ i } value={ year }>\r\n\t\t\t\t\t\t\t\t\t{ year }\r\n\t\t\t\t\t\t\t\t</option>\r\n\t\t\t\t\t\t\t)) }\r\n\t\t\t\t\t\t</select>\r\n\r\n\t\t\t\t\t\t{/* Year `<select/>` button */}\r\n\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t\t\t'rrui__date-picker__year-select-toggler'\r\n\t\t\t\t\t\t\t)}>\r\n\t\t\t\t\t\t\t<div className=\"rrui__select__selected-content\">\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__selected-label\">\r\n\t\t\t\t\t\t\t\t\t{date.getFullYear()}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"rrui__select__arrow\"/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}","// This file was autogenerated by \"./bin/generateGetFirstDayOfWeek.js\" script.\n\nimport getTerritoryFromLocale from './getTerritoryFromLocale'\nimport getLanguageFromLocale from './getLanguageFromLocale'\n\nconst territoriesByFirstDayOfWeek = [\n  [\n    \"AG\",\n    \"AS\",\n    \"BD\",\n    \"BR\",\n    \"BS\",\n    \"BT\",\n    \"BW\",\n    \"BZ\",\n    \"CA\",\n    \"CO\",\n    \"DM\",\n    \"DO\",\n    \"ET\",\n    \"GT\",\n    \"GU\",\n    \"HK\",\n    \"HN\",\n    \"ID\",\n    \"IL\",\n    \"IN\",\n    \"JM\",\n    \"JP\",\n    \"KE\",\n    \"KH\",\n    \"KR\",\n    \"LA\",\n    \"MH\",\n    \"MM\",\n    \"MO\",\n    \"MT\",\n    \"MX\",\n    \"MZ\",\n    \"NI\",\n    \"NP\",\n    \"PA\",\n    \"PE\",\n    \"PH\",\n    \"PK\",\n    \"PR\",\n    \"PT\",\n    \"PY\",\n    \"SA\",\n    \"SG\",\n    \"SV\",\n    \"TH\",\n    \"TT\",\n    \"TW\",\n    \"UM\",\n    \"US\",\n    \"VE\",\n    \"VI\",\n    \"WS\",\n    \"YE\",\n    \"ZA\",\n    \"ZW\"\n  ],\n  [\n    \"AD\",\n    \"AI\",\n    \"AL\",\n    \"AM\",\n    \"AN\",\n    \"AR\",\n    \"AT\",\n    \"AU\",\n    \"AX\",\n    \"AZ\",\n    \"BA\",\n    \"BE\",\n    \"BG\",\n    \"BM\",\n    \"BN\",\n    \"BY\",\n    \"CH\",\n    \"CL\",\n    \"CM\",\n    \"CN\",\n    \"CR\",\n    \"CY\",\n    \"CZ\",\n    \"DE\",\n    \"DK\",\n    \"EC\",\n    \"EE\",\n    \"ES\",\n    \"FI\",\n    \"FJ\",\n    \"FO\",\n    \"FR\",\n    \"GB\",\n    \"GE\",\n    \"GF\",\n    \"GP\",\n    \"GR\",\n    \"HR\",\n    \"HU\",\n    \"IE\",\n    \"IS\",\n    \"IT\",\n    \"KG\",\n    \"KZ\",\n    \"LB\",\n    \"LI\",\n    \"LK\",\n    \"LT\",\n    \"LU\",\n    \"LV\",\n    \"MC\",\n    \"MD\",\n    \"ME\",\n    \"MK\",\n    \"MN\",\n    \"MQ\",\n    \"MY\",\n    \"NL\",\n    \"NO\",\n    \"NZ\",\n    \"PL\",\n    \"RE\",\n    \"RO\",\n    \"RS\",\n    \"RU\",\n    \"SE\",\n    \"SI\",\n    \"SK\",\n    \"SM\",\n    \"TJ\",\n    \"TM\",\n    \"TR\",\n    \"UA\",\n    \"UY\",\n    \"UZ\",\n    \"VA\",\n    \"VN\",\n    \"XK\"\n  ],\n  [],\n  [],\n  [],\n  [\n    \"MV\"\n  ],\n  [\n    \"AE\",\n    \"AF\",\n    \"BH\",\n    \"DJ\",\n    \"DZ\",\n    \"EG\",\n    \"IQ\",\n    \"IR\",\n    \"JO\",\n    \"KW\",\n    \"LY\",\n    \"OM\",\n    \"QA\",\n    \"SD\",\n    \"SY\"\n  ]\n]\nconst languagesByFirstDayOfWeek = [\n  [\n    \"aa\",\n    \"af\",\n    \"am\",\n    \"as\",\n    \"bn\",\n    \"ch\",\n    \"cr\",\n    \"dz\",\n    \"en\",\n    \"gn\",\n    \"gu\",\n    \"he\",\n    \"hi\",\n    \"id\",\n    \"ik\",\n    \"in\",\n    \"iu\",\n    \"iw\",\n    \"ja\",\n    \"jv\",\n    \"jw\",\n    \"ki\",\n    \"km\",\n    \"kn\",\n    \"ko\",\n    \"ks\",\n    \"lo\",\n    \"mh\",\n    \"ml\",\n    \"mr\",\n    \"mt\",\n    \"my\",\n    \"nd\",\n    \"ne\",\n    \"nr\",\n    \"nv\",\n    \"oj\",\n    \"om\",\n    \"or\",\n    \"pa\",\n    \"pi\",\n    \"pt\",\n    \"qu\",\n    \"sa\",\n    \"sd\",\n    \"sm\",\n    \"sn\",\n    \"ss\",\n    \"st\",\n    \"su\",\n    \"ta\",\n    \"te\",\n    \"th\",\n    \"ti\",\n    \"tl\",\n    \"tn\",\n    \"ts\",\n    \"ur\",\n    \"ve\",\n    \"xh\",\n    \"zu\"\n  ],\n  [\n    \"ab\",\n    \"an\",\n    \"av\",\n    \"az\",\n    \"ba\",\n    \"be\",\n    \"bg\",\n    \"bo\",\n    \"br\",\n    \"bs\",\n    \"ca\",\n    \"ce\",\n    \"co\",\n    \"cs\",\n    \"cu\",\n    \"cv\",\n    \"cy\",\n    \"da\",\n    \"de\",\n    \"el\",\n    \"es\",\n    \"et\",\n    \"eu\",\n    \"fi\",\n    \"fj\",\n    \"fo\",\n    \"fr\",\n    \"fy\",\n    \"ga\",\n    \"gd\",\n    \"gl\",\n    \"hr\",\n    \"hu\",\n    \"hy\",\n    \"ii\",\n    \"is\",\n    \"it\",\n    \"ji\",\n    \"ka\",\n    \"kk\",\n    \"ku\",\n    \"kv\",\n    \"kw\",\n    \"ky\",\n    \"la\",\n    \"lb\",\n    \"li\",\n    \"lt\",\n    \"lv\",\n    \"mi\",\n    \"mk\",\n    \"mn\",\n    \"mo\",\n    \"ms\",\n    \"nb\",\n    \"nl\",\n    \"nn\",\n    \"no\",\n    \"oc\",\n    \"os\",\n    \"pl\",\n    \"rm\",\n    \"ro\",\n    \"ru\",\n    \"sc\",\n    \"se\",\n    \"si\",\n    \"sk\",\n    \"sl\",\n    \"sq\",\n    \"sr\",\n    \"sv\",\n    \"tg\",\n    \"tk\",\n    \"tr\",\n    \"tt\",\n    \"ug\",\n    \"uk\",\n    \"uz\",\n    \"vi\",\n    \"wa\",\n    \"za\",\n    \"zh\"\n  ],\n  [],\n  [],\n  [],\n  [\n    \"dv\"\n  ],\n  [\n    \"ae\",\n    \"ar\",\n    \"fa\",\n    \"ps\"\n  ]\n]\n\n// Returns the \"first day of week\".\n// 0 means \"Sunday\", 1 means \"Monday\", etc.\n// Is 0 by default, as defined in the \"US\" country.\n//\n// https://date-fns.org/v2.28.0/docs/startOfWeek\n// https://github.com/tc39/ecma402/issues/6\n// https://stackoverflow.com/questions/34469869/how-do-i-find-out-which-is-the-first-day-of-the-week-in-the-current-locale?noredirect=1&lq=1\n// https://github.com/unicode-org/cldr/blob/7a2fada9220bfddef3936bdffaff173041aef8da/common/supplemental/supplementalData.xml#L4696\n//\n// https://en.wikipedia.org/wiki/Week\n//\n// \"While, for example, the United States, Canada, Brazil, Japan and other countries\n//  consider Sunday as the first day of the week, and while the week begins with Saturday\n//  in much of the Middle East, the international ISO 8601 standard[a] and most of Europe\n//  has Monday as the first day of the week.[2] The Geneva-based ISO standards organization\n//  uses Monday as the first day of the week in its ISO week date system.\"\n//\nexport default function getFirstDayOfWeek(locale) {\n\tconst territory = getTerritoryFromLocale(locale)\n\tif (territory) {\n\t\tlet i = 0\n\t\twhile (i < territoriesByFirstDayOfWeek.length) {\n\t\t\tif (territoriesByFirstDayOfWeek[i].indexOf(territory) >= 0) {\n\t\t\t\treturn i\n\t\t\t}\n\t\t\ti++\n\t\t}\n\t}\n\tconst language = getLanguageFromLocale(locale)\n\tlet i = 0\n\twhile (i < languagesByFirstDayOfWeek.length) {\n\t\tif (languagesByFirstDayOfWeek[i].indexOf(language) >= 0) {\n\t\t\treturn i\n\t\t}\n\t\ti++\n\t}\n}","export default function getDateForWeekday(i) {\r\n\t// Jan 07 2000\r\n\tconst date = new Date(2000, 0, 7)\r\n\tdate.setDate(date.getDate() - date.getDay() + i)\r\n\tdate.setHours(0, 0, 0, 0)\r\n\treturn date\r\n}","export default function getDateForMonth(i) {\r\n\t// Dec 01 2000\r\n\tconst date = new Date(2000, i, 1)\r\n\tdate.setHours(0, 0, 0, 0)\r\n\treturn date\r\n}","/**\r\n * Returns a new `date` that shows the same time in the user's time zone\r\n * as the original `date` does in UTC+0 time zone.\r\n * For example, if the user is in Moscow (UTC+3 time zone)\r\n * and the `date` is for `00:00` time in UTC+0 time zone,\r\n * then this function returns a new date whose time is `00:00`\r\n * in the user's time zone, or `21:00` of the previous day\r\n * in UTC+0 time zone.\r\n * @param  {Date} date\r\n * @return {Date}\r\n */\r\nexport default function convertUtcDateToLocalDateWithSameTime(date) {\r\n  // Doesn't account for leap seconds but I guess that's ok\r\n  // given that javascript's own `Date()` does not either.\r\n  // https://www.timeanddate.com/time/leap-seconds-background.html\r\n  //\r\n  // https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\r\n  //\r\n  return new Date(date.getTime() + date.getTimezoneOffset() * 60 * 1000);\r\n}\r\n","import convertUtcDateToLocalDateWithSameTime from './convertUtcDateToLocalDateWithSameTime'\r\n\r\n// Formats a `Date` into a text value provided a `format`\r\nexport default function formatDate(date, format, { utc } = {})\r\n{\r\n\t// Someone may accidentally pass a timestamp, or a string.\r\n\t// Or `date` could be `undefined`.\r\n\tif (!(date instanceof Date)) {\r\n\t\treturn ''\r\n\t}\r\n\r\n\t// Check if `date` is \"Invalid Date\".\r\n\tif (isNaN(date.getTime())) {\r\n\t\treturn ''\r\n\t}\r\n\r\n\tif (utc) {\r\n\t\tdate = convertUtcDateToLocalDateWithSameTime(date)\r\n\t}\r\n\r\n\tconst day = date.getDate()\r\n\tconst month = date.getMonth() + 1\r\n\tconst year = date.getFullYear()\r\n\r\n\tlet text = format\r\n\t\t.replace('dd', padWithZeroes(String(day), 2))\r\n\t\t.replace('mm', padWithZeroes(String(month), 2))\r\n\r\n\tif (text.indexOf('yyyy') >= 0) {\r\n\t\treturn text.replace('yyyy', padWithZeroes(String(year), 4))\r\n\t}\r\n\r\n\tif (text.indexOf('yy') >= 0) {\r\n\t\treturn text.replace('yy', padWithZeroes(String(year % 100), 2))\r\n\t}\r\n}\r\n\r\nfunction padWithZeroes(string, targetLength)\r\n{\r\n\twhile (string.length < targetLength) {\r\n\t\tstring = '0' + string\r\n\t}\r\n\treturn string\r\n}","// Converts `null` to `undefined`.\r\n// Converts \"Invalid Date\" to `undefined`.\r\n// (specially for `sequelize`)\r\nexport default function ignoreInvalidDateObjects(value)\r\n{\r\n\tif (value === null) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Check if `value` is \"Invalid Date\".\r\n\tif (value instanceof Date && isNaN(value.getTime())) {\r\n\t\treturn\r\n\t}\r\n\r\n\treturn value\r\n}\r\n","export default function isDigit(character) {\r\n\tif (character >= '0' && character <= '9') {\r\n\t\treturn true\r\n\t}\r\n\t// \"Fullwidth digit\".\r\n\tif (character >= '\\uFF10' && character <= '\\uFF19') {\r\n\t\treturn true\r\n\t}\r\n\t// Arabic-indic digit.\r\n\tif (character >= '\\u0660' && character <= '\\u0669') {\r\n\t\treturn true\r\n\t}\r\n\t// Eastern-Arabic digit.\r\n\tif (character >= '\\u06F0' && character <= '\\u06F9') {\r\n\t\treturn true\r\n\t}\r\n}","import isDigit from './isDigit'\r\n\r\n// // `date-fns` would be a better alternative to moment\r\n// // but it doesn't support templated date parsing\r\n// // until version `2.0.0` of it is released.\r\n// // https://github.com/date-fns/date-fns/issues/347\r\n// import parse_date_date_fns from 'date-fns/parse'\r\n// import format_date_date_fns from 'date-fns/format'\r\n\r\n// Parses a text value into a `Date` provided a `format`.\r\n// The date returned is in the user's time zone and the time is `00:00`.\r\n// (only `dd`, `mm`, `yy` and `yyyy` literals are supported).\r\nexport default function parseDate(string, format, utc)\r\n{\r\n\tif (!string) {\r\n\t\treturn\r\n\t}\r\n\r\n\tlet year = extract(string, format, 'yyyy')\r\n\r\n\tif (year === undefined)\r\n\t{\r\n\t\tyear = extract(string, format, 'yy')\r\n\r\n\t\tif (year !== undefined)\r\n\t\t{\r\n\t\t\t// Current year in the user's time zone.\r\n\t\t\tconst current_year_and_century = new Date().getFullYear()\r\n\t\t\tconst current_year = current_year_and_century % 100\r\n\t\t\tlet century = (current_year_and_century - current_year) / 100\r\n\r\n\t\t\tif (year >= current_year)\r\n\t\t\t{\r\n\t\t\t\tif (year - current_year > 100 * 1/5)\r\n\t\t\t\t{\r\n\t\t\t\t\tcentury--\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (current_year - year > 100 * 4/5)\r\n\t\t\t\t{\r\n\t\t\t\t\tcentury++\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tyear += century * 100\r\n\t\t}\r\n\t}\r\n\r\n\tconst month = extract(string, format, 'mm')\r\n\tconst day   = extract(string, format, 'dd')\r\n\r\n\tif (year === undefined || month === undefined || day === undefined) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// The date created is in the user's time zone and the time is `00:00`.\r\n\tlet date = new Date\r\n\t(\r\n\t\tyear,\r\n\t\tmonth - 1,\r\n\t\tday,\r\n\t\t0 // noon ? 12 : 0\r\n\t)\r\n\r\n\tif (utc)\r\n\t{\r\n\t\t// Converts timezone to UTC while preserving the same time\r\n\t\tdate = getSameDateAndTimeInUtc0TimeZone(date)\r\n\t}\r\n\r\n\t// If `new Date()` returns \"Invalid Date\"\r\n\t// (sometimes it does)\r\n\tif (isNaN(date.getTime())) {\r\n\t\treturn\r\n\t}\r\n\r\n\treturn date\r\n}\r\n\r\nfunction extract(string, template, piece)\r\n{\r\n\tconst startsAt = template.indexOf(piece)\r\n\r\n\tif (startsAt < 0) {\r\n\t\treturn\r\n\t}\r\n\r\n\t// Check overall sanity\r\n\tif (!correspondsToTemplate(string, template)) {\r\n\t\treturn\r\n\t}\r\n\r\n\tconst number = parseInt(string.slice(startsAt, startsAt + piece.length))\r\n\r\n\tif (!isNaN(number)) {\r\n\t\treturn number\r\n\t}\r\n}\r\n\r\nexport function correspondsToTemplate(string, template)\r\n{\r\n\tif (string.length !== template.length) {\r\n\t\treturn false\r\n\t}\r\n\r\n\tlet i = 0\r\n\twhile (i < string.length)\r\n\t{\r\n\t\tif (isDigit(string[i])) {\r\n\t\t\tif (!isDateFormatUnitCharacter(template[i])) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (string[i] !== template[i]) {\r\n\t\t\t\treturn false\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ti++\r\n\t}\r\n\r\n\treturn true\r\n}\r\n\r\n// // Intl date formatting\r\n//\r\n// const dateFormatters = {}\r\n//\r\n// function format_dateIntl(date, locale) {\r\n//   if (typeof Intl === 'undefined') {\r\n//     return date.toISOString()\r\n//   }\r\n//\r\n//   const key = typeof locale === 'string' ? locale : locale.join(',')\r\n//\r\n//   if (!dateFormatters[key]) {\r\n//     dateFormatters[key] = new Intl.DateTimeFormat(locale, {\r\n//       day: '2-digit',\r\n//       month: '2-digit',\r\n//       year: 'numeric'\r\n//     })\r\n//   }\r\n//\r\n//   return dateFormatters[key]\r\n// }\r\n\r\n// Converts timezone to UTC+0 while preserving the same time.\r\nexport function getSameDateAndTimeInUtc0TimeZone(date) {\r\n  // Doesn't account for leap seconds but I guess that's ok\r\n  // given that javascript's own `Date()` does not either.\r\n  // https://www.timeanddate.com/time/leap-seconds-background.html\r\n  //\r\n  // https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date/getTimezoneOffset\r\n  //\r\n  return new Date(date.getTime() - date.getTimezoneOffset() * 60 * 1000)\r\n}\r\n\r\nexport function isDateFormatUnitCharacter(character) {\r\n\treturn character === 'd' ||\r\n\t\tcharacter === 'm' ||\r\n\t\tcharacter === 'y';\r\n}","import React, { useMemo, useState, useRef, useEffect, useCallback } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// https://github.com/gpbl/react-day-picker/tree/v7/src\r\nimport DayPicker, { ModifiersUtils, LocaleUtils } from 'react-day-picker'\r\n\r\nimport TextInput from './TextInputComponent'\r\nimport Expandable from './Expandable'\r\nimport YearMonthSelect from './YearMonthSelect'\r\nimport WithError from './WithError'\r\n\r\nimport { onBlurForReduxForm } from './utility/redux-form'\r\nimport { onBlur as handleBlurEvent } from './utility/focus'\r\nimport { isInternetExplorer } from './utility/dom'\r\n\r\nimport getFirstDayOfWeek from './utility/getFirstDayOfWeek'\r\nimport getDateForDayOfWeek from './utility/getDateForDayOfWeek'\r\nimport getDateForMonth from './utility/getDateForMonth'\r\nimport formatDate from './utility/formatDate'\r\nimport ignoreInvalidDateObjects from './utility/ignoreInvalidDateObjects'\r\nimport transformDateInputAccordingToTemplate from './utility/transformDateInputAccordingToTemplate'\r\nimport parseDate, { getSameDateAndTimeInUtc0TimeZone } from './utility/parseDate'\r\n\r\nlet DatePicker = function({\r\n\tformat: formatAnyCase,\r\n\t// noon,\r\n\tutc,\r\n\tvalue,\r\n\terror,\r\n\tshowErrorMessage,\r\n\tdisabledDays,\r\n\tselectYearsIntoPast,\r\n\tselectYearsIntoFuture,\r\n\tinitialCalendarDate,\r\n\tlocale,\r\n\tlabel,\r\n\talignment,\r\n\twaitForKeyboardSlideIn,\r\n\tkeyboardSlideInAnimationDuration,\r\n\tbuttonAriaLabel,\r\n\tcloseLabel,\r\n\tcloseButtonIcon : CloseButtonIcon,\r\n\ticon,\r\n\tclassName,\r\n\tstyle,\r\n\tonChange,\r\n\tonBlur,\r\n\tonToggle,\r\n\tonFocus,\r\n\tonKeyDown,\r\n\t...rest\r\n}, ref)\r\n{\r\n\tconst [isExpanded_, setExpanded] = useState()\r\n\tconst [month, setMonth] = useState()\r\n\tconst [textValue, setTextValue] = useState()\r\n\r\n\tconst userHasJustChangedYearOrMonthTimer = useRef()\r\n\tconst _userHasJustChangedYearOrMonth = useRef()\r\n\tconst hasDayJustBeenSelected = useRef()\r\n\tconst isFocusingOut = useRef()\r\n\tconst blurTimer = useRef()\r\n\r\n\tconst container = useRef()\r\n\tconst expandable = useRef()\r\n\tconst input = useRef()\r\n\tconst inputOverlay = useRef()\r\n\tconst calendar = useRef()\r\n\r\n\tconst hasMounted = useRef()\r\n\r\n\t// `format` should be in lower case.\r\n\tconst format = useMemo(() => formatAnyCase.toLowerCase(), [formatAnyCase])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (hasMounted.current) {\r\n\t\t\tif (value) {\r\n\t\t\t\tif (calendar.current) {\r\n\t\t\t\t\tcalendar.current.showMonth(value)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}, [value])\r\n\r\n\tuseEffect(() => {\r\n\t\thasMounted.current = true\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(userHasJustChangedYearOrMonthTimer.current)\r\n\t\t\tclearTimeout(blurTimer.current)\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst expand     = useCallback(() => expandable.current.expand(), [])\r\n\tconst collapse   = useCallback(() => expandable.current.collapse(), [])\r\n\tconst toggle     = useCallback(() => expandable.current.toggle(), [])\r\n\tconst isExpanded = useCallback(() => expandable.current.isExpanded(), [])\r\n\r\n\tconst focus = useCallback(() => {\r\n\t\tinput.current.focus()\r\n\t}, [])\r\n\r\n\tconst focusCalendar = useCallback(() => {\r\n\t\tif (calendar.current) {\r\n\t\t\tconst { dayPicker } = calendar.current\r\n\t\t\tif (dayPicker) {\r\n\t\t\t\tconst selectedDay = dayPicker.querySelector('.DayPicker-Day[aria-disabled=false][aria-selected=true]')\r\n\t\t\t\tif (selectedDay) {\r\n\t\t\t\t\treturn selectedDay.focus()\r\n\t\t\t\t}\r\n\t\t\t\tconst anyDay = dayPicker.querySelector('.DayPicker-Day[aria-disabled=false]')\r\n\t\t\t\tif (anyDay) {\r\n\t\t\t\t\treturn anyDay.focus()\r\n\t\t\t\t}\r\n\t\t\t\treturn dayPicker.firstChild.focus()\r\n\t\t\t}\r\n\t\t}\r\n\t}, [])\r\n\r\n\tconst userHasJustChangedYearOrMonth = useCallback(() => {\r\n\t\t_userHasJustChangedYearOrMonth.current = true\r\n\t\tclearTimeout(userHasJustChangedYearOrMonthTimer.current)\r\n\t\tuserHasJustChangedYearOrMonthTimer.current = setTimeout(() => {\r\n\t\t\t_userHasJustChangedYearOrMonth.current = false\r\n\t\t}, 50)\r\n\t}, [])\r\n\r\n\tconst onInputFocus = useCallback((event) => {\r\n\t\tif (onFocus) {\r\n\t\t\tonFocus(event)\r\n\t\t}\r\n\t\t// if (!focusAfterDaySelected) {\r\n\t\t// \texpand()\r\n\t\t// }\r\n\t}, [\r\n\t\tonFocus\r\n\t])\r\n\r\n\tconst onExpand = useCallback(() => {\r\n\t\t// Reset the month previously selected via the month `<select/>`.\r\n\t\t// `month` could previously be set to some value via the month `<select/>`,\r\n\t\t// and, since that value wasn't been cleared, it would be \"stuck\"\r\n\t\t// and the calendar would open at that previously selected month again,\r\n\t\t// even though `value` or `initialCalendarDate` are defined and correspond to\r\n\t\t// a different month.\r\n\t\t//\r\n\t\t// `setMonth()` should be called in `onExpand()` rather than in `onExpanded()`\r\n\t\t// with `setTimeout()` because by the time the calendar is expanded, the correct\r\n\t\t// month has to be already selected in order to `focusCalendar()` to focus\r\n\t\t// a correct day. Otherwise, it would focus some day of some month, and then\r\n\t\t// the correct month would be automatically selected and the focus would be \"lost\".\r\n\t\tsetMonth(value ? ignoreInvalidDateObjects(value) : (initialCalendarDate || new Date()))\r\n\r\n\t\t// Must re-calculate `textValue` on each \"expand\"\r\n\t\t// because it's being reset on each \"collapse\".\r\n\t\tsetTextValue(formatDate(value, format, { utc }))\r\n\r\n\t\t// For `aria-expanded`.\r\n\t\tsetExpanded(true)\r\n\t}, [\r\n\t\tvalue,\r\n\t\tformat,\r\n\t\tutc,\r\n\t\tinitialCalendarDate\r\n\t])\r\n\r\n\tconst onExpanded = useCallback(() => {\r\n\t\t// Set \"previous\" and \"next\" buttons untabbable\r\n\t\t// so that a Tab out of the `<input/>` field\r\n\t\t// moves cursor not inside to these buttons\r\n\t\t// but rather to the first day of the month. // next form input.\r\n\t\t//\r\n\t\t// (rewritten)\r\n\t\t// Requires ES6 Symbol.Iterator polyfill.\r\n\t\t// for (const button of calendar.querySelectorAll('.DayPicker-NavButton'))\r\n\t\t//\r\n\t\t// The user can still navigate via Up/Down arrow keys\r\n\t\t// when the focus is on a calendar date.\r\n\t\t// Or the user can enter the date in the `<input/>` text field.\r\n\t\t//\r\n\t\t// https://github.com/gpbl/react-day-picker/issues/848\r\n\t\t//\r\n\t\tfor (const button of [].slice.call(container.current.querySelectorAll('.DayPicker-NavButton'))) {\r\n\t\t\tbutton.setAttribute('tabindex', '-1')\r\n\t\t}\r\n\r\n\t\t// A workaround for a bug where `tabIndex` of the \"wrapper\" div is `0`\r\n\t\t// and at the same time there's no `aria-label`.\r\n\t\t// https://github.com/gpbl/react-day-picker/issues/848\r\n\t\tcontainer.current.querySelector('.DayPicker-wrapper').setAttribute('tabindex', -1)\r\n\t\t// Could also potentially update `aria-label` attribute to (month + year)\r\n\t\t// on expand and on month/year change in the expanded calendar.\r\n\t\t// But that would be too much hassle.\r\n\t}, [])\r\n\r\n\t// Cancels textual date editing.\r\n\tconst onCollapse = useCallback(({ focusOut }) =>\r\n\t{\r\n\t\tif (!focusOut && !isFocusingOut.current && !hasDayJustBeenSelected.current) {\r\n\t\t\tfocus()\r\n\t\t}\r\n\r\n\t\t// Reset any custom `textValue` and use the formatted `value` instead.\r\n\t\tsetTextValue()\r\n\r\n\t\t// Set `aria-expanded` attribute to `false`.\r\n\t\tsetExpanded(false)\r\n\r\n\t\t// `onChange` fires on calendar day `click`\r\n\t\t// but the `value` hasn't neccessarily been updated yet,\r\n\t\t// therefore, say, if `value` was not set\r\n\t\t// and a user selects a day in the calendar\r\n\t\t// then the `value` is technically still `undefined`\r\n\t\t// so can't just set `state.textValue = formatDate(value, ...)` here.\r\n\t\t//\r\n\t\t// Analogous, `setState({ textValue })` has been called\r\n\t\t// in calendar day `onClick` handler but `state.textValue`\r\n\t\t// hasn't neccessarily been updated yet.\r\n\t\t//\r\n\t\t// Still must validate (recompute) `textValue`\r\n\t\t// upon expanding the `<DatePicker/>`, for example, on `<input/>` blur\r\n\t\t// in cases when a user manually typed in an incomplete date and then tabbed away.\r\n\t}, [\r\n\t\tfocus\r\n\t])\r\n\r\n\tconst onContainerKeyDown = useCallback((event) =>\r\n\t{\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// \"Escape\".\r\n\t\t\t//\r\n\t\t\t// Collapse.\r\n\t\t\t//\r\n\t\t\t// Maybe add this kind of support for \"Escape\" key in some future:\r\n\t\t\t//  hiding the item list, cancelling current item selection process\r\n\t\t\t//  and restoring the selection present before the item list was toggled.\r\n\t\t\t//\r\n\t\t\tcase 27:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Collapse the list if it's expanded.\r\n\t\t\t\treturn collapse()\r\n\r\n\t\t\t// On \"Up\" arrow.\r\n\t\t\tcase 38:\r\n\t\t\t// On \"Down\" arrow.\r\n\t\t\tcase 40:\r\n\t\t\t\treturn event.preventDefault()\r\n\t\t}\r\n\t}, [\r\n\t\tcollapse\r\n\t])\r\n\r\n\tconst onToggleButtonClick = useCallback((event) => {\r\n\t\ttoggle().then(() => {\r\n\t\t\tif (isExpanded_) {\r\n\t\t\t\tfocusCalendar()\r\n\t\t\t}\r\n\t\t})\r\n\t}, [\r\n\t\tisExpanded_,\r\n\t\ttoggle,\r\n\t\tfocusCalendar\r\n\t])\r\n\r\n\tconst onInputKeyDown = useCallback((event) =>\r\n\t{\r\n\t\tif (onKeyDown) {\r\n\t\t\tonKeyDown(event)\r\n\t\t}\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tswitch (event.keyCode)\r\n\t\t{\r\n\t\t\t// On \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t\tif (isExpanded())\r\n\t\t\t\t{\r\n\t\t\t\t\t// Don't \"prevent default\" here\r\n\t\t\t\t\t// in order for a user to be able\r\n\t\t\t\t\t// to submit an enclosing form on \"Enter\".\r\n\t\t\t\t\tcollapse()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// On Spacebar.\r\n\t\t\tcase 32:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\treturn onToggleButtonClick()\r\n\r\n\t\t\t// On \"Up\" arrow.\r\n\t\t\tcase 38:\r\n\t\t\t\t// Collapse the calendar (if expanded).\r\n\t\t\t\tif (isExpanded())\r\n\t\t\t\t{\r\n\t\t\t\t\tevent.preventDefault()\r\n\t\t\t\t\tcollapse()\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\r\n\t\t\t// On \"Down\" arrow.\r\n\t\t\tcase 40:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Expand the calendar (if collapsed).\r\n\t\t\t\tif (isExpanded()) {\r\n\t\t\t\t\tfocusCalendar()\r\n\t\t\t\t} else {\r\n\t\t\t\t\texpand().then(focusCalendar)\r\n\t\t\t\t}\r\n\t\t\t\treturn\r\n\t\t}\r\n\t}, [\r\n\t\tonKeyDown,\r\n\t\tisExpanded,\r\n\t\tcollapse,\r\n\t\texpand,\r\n\t\tfocusCalendar,\r\n\t\tonToggleButtonClick\r\n\t])\r\n\r\n\tconst onInputChange = useCallback((event) =>\r\n\t{\r\n\t\t// Extract `value` from the argument\r\n\t\t// of this `onChange` listener\r\n\t\t// (for convenience)\r\n\r\n\t\tlet newTextValue = event\r\n\t\tif (event.target !== undefined) {\r\n\t\t\tnewTextValue = event.target.value\r\n\t\t}\r\n\r\n\t\tnewTextValue = newTextValue.trim()\r\n\r\n\t\t// When the date is erased, reset it.\r\n\t\tif (!newTextValue) {\r\n\t\t\t// Call `onChange` only if `value` did actually change from non-`undefined` to `undefined`.\r\n\t\t\tif (value) {\r\n\t\t\t\tonChange(undefined)\r\n\t\t\t}\r\n\t\t\t// `textValue` is set to an empty string instead of just `undefined` here\r\n\t\t\t// because there's a `textValue !== undefined` condition when passing\r\n\t\t\t// `value` property to `<TextInput/>`.\r\n\t\t\t// So an empty string has a different behavior than just `undefined`:\r\n\t\t\t// * Setting `textValue` to `undefined` simply discards any custom `textValue`\r\n\t\t\t//   and uses the formatted `value` instead of it.\r\n\t\t\t// * Setting `textValue` to an empty string specifically clears the `<input/>` field.\r\n\t\t\treturn setTextValue('')\r\n\t\t}\r\n\r\n\t\tnewTextValue = transformDateInputAccordingToTemplate(newTextValue, format)\r\n\r\n\t\t// const selectedDate = parseDate(newTextValue, format, noon, utc)\r\n\t\tconst selectedDate = parseDate(newTextValue, format, utc)\r\n\r\n\t\t// If the date input is unparseable,\r\n\t\t// then don't change the selected date.\r\n\t\tif (selectedDate) {\r\n\t\t\t// If the date being input is one of the disabled days,\r\n\t\t\t// then don't change the selected date.\r\n\t\t\tif (!ModifiersUtils.dayMatchesModifier(selectedDate, disabledDays)) {\r\n\t\t\t\t// Call `onChange` only if `value` did actually change\r\n\t\t\t\tif (!value || value.getTime() !== selectedDate.getTime()) {\r\n\t\t\t\t\tonChange(selectedDate)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetTextValue(newTextValue)\r\n\t}, [\r\n\t\tvalue,\r\n\t\tonChange,\r\n\t\tformat,\r\n\t\t// noon,\r\n\t\tutc,\r\n\t\tdisabledDays\r\n\t])\r\n\r\n\tconst onDayClick = useCallback((selectedDay, { disabled }) =>\r\n\t{\r\n\t\t// If the day clicked is disabled then do nothing.\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Fixes the time being `12:00` on the selected day.\r\n\t\t// https://github.com/gpbl/react-day-picker/issues/473\r\n\t\t// Sets it to be proper time `00:00`.\r\n\t\t//\r\n\t\t// They set the time of `selectedDay` to `12:00` in the current time zone.\r\n\t\t// They intended those extra 12 hours to make things less weird with timezone conversions.\r\n\t\t// But it doesn't work in all cases and is a really lame workaround.\r\n\t\t//\r\n\t\t// Maybe they'll change it in `react-day-picker@8`.\r\n\r\n\t\t// if (!noon) {\r\n\t\t\t// Here I strip those 12 hours from the `selectedDay`\r\n\t\t\t// so the time becomes `00:00` in the user's time zone.\r\n\t\t\t//\r\n\t\t\t// (`selectedDay` is the date in the user's time zone)\r\n\t\t\t// (`selectedDay.getDate()` returns the day in the user's time zone)\r\n\t\t\t// (`new Date(year, month, day)` creates a date in the user's time zone)\r\n\t\t\t//\r\n\t\t\tselectedDay = new Date(\r\n\t\t\t\tselectedDay.getFullYear(),\r\n\t\t\t\tselectedDay.getMonth(),\r\n\t\t\t\tselectedDay.getDate()\r\n\t\t\t)\r\n\t\t// }\r\n\r\n\t\tif (utc) {\r\n\t\t\t// Converts timezone to UTC while preserving the same time\r\n\t\t\tselectedDay = getSameDateAndTimeInUtc0TimeZone(selectedDay)\r\n\t\t}\r\n\r\n\t\t// `onChange` fires but the `value`\r\n\t\t// hasn't neccessarily been updated yet.\r\n\t\t//\r\n\t\t// Call `onChange` only if `value` did actually change.\r\n\t\t//\r\n\t\tif (!value || value.getTime() !== selectedDay.getTime()) {\r\n\t\t\tonChange(selectedDay)\r\n\t\t}\r\n\r\n\t\t// Hide the calendar\r\n\t\thasDayJustBeenSelected.current = true\r\n\t\tcollapse()\r\n\t\thasDayJustBeenSelected.current = false\r\n\r\n\t\t// Focus the `<input/>`.\r\n\t\t// (if not in \"input overlay\" mode for mobile devices).\r\n\t\tif (getComputedStyle(inputOverlay.current).display === 'none')\r\n\t\t{\r\n\t\t\t// `this.focusAfterDaySelected` flag was used to find out the reason\r\n\t\t\t// why the text input was being focused: if it was being focused\r\n\t\t\t// after a calendar day was selected, then it didn't expand the calendar.\r\n\t\t\t// Previously, this component used to expand the calendar on focus.\r\n\t\t\t// Now it doesn't, so `this.focusAfterDaySelected` flag is no longer used.\r\n\t\t\t// this.focusAfterDaySelected = true\r\n\t\t\tinput.current.focus()\r\n\r\n\t\t\t// // For some reason in IE 11 `onFocus` on `<input/>` is not called immediately.\r\n\t\t\t// if (isInternetExplorer()) {\r\n\t\t\t// \tsetTimeout(() => this.focusAfterDaySelected = false, 0)\r\n\t\t\t// } else {\r\n\t\t\t// \tthis.focusAfterDaySelected = false\r\n\t\t\t// }\r\n\t\t}\r\n\t}, [\r\n\t\tformat,\r\n\t\tonChange,\r\n\t\tvalue,\r\n\t\t// noon,\r\n\t\tutc,\r\n\t\tcollapse\r\n\t])\r\n\r\n\t// const onCalendarKeyDown = (event) =>\r\n\t// {\r\n\t// \tswitch (event)\r\n\t// \t{\r\n\t// \t\t// The next year is selected on \"Up\" arrow,\r\n\t// \t\t// so `.preventDefault()` it to prevent page scrolling.\r\n\t// \t\t// https://github.com/gpbl/react-day-picker/issues/273\r\n\t// \t\tcase 38:\r\n\t// \t\t\tevent.preventDefault()\r\n\t// \t\t\treturn\r\n\t//\r\n\t// \t\t// The previous year is selected on \"Down\" arrow,\r\n\t// \t\t// so `.preventDefault()` it to prevent page scrolling.\r\n\t// \t\t// https://github.com/gpbl/react-day-picker/issues/273\r\n\t// \t\tcase 40:\r\n\t// \t\t\tevent.preventDefault()\r\n\t// \t\t\treturn\r\n\t// \t}\r\n\t// }\r\n\r\n\tconst onMonthChange = useCallback((month) => {\r\n\t\tsetMonth(month)\r\n\t}, [])\r\n\r\n\tconst preventBlur = useCallback(() =>\r\n\t{\r\n\t\t// A hack for iOS when it collapses\r\n\t\t// the calendar after selecting a year/month.\r\n\t\t// When selecting a year/month and pressing \"Done\" button\r\n\t\t// iOS triggers `blur` event on the corresponding `<select/>`\r\n\t\t// which in turn causes the calendar to collapse.\r\n\t\t// This workaround prevents that by re-focusing the calendar.\r\n\t\tif (_userHasJustChangedYearOrMonth.current) {\r\n\t\t\tfocusCalendar()\r\n\t\t\treturn true\r\n\t\t}\r\n\t}, [\r\n\t\tfocusCalendar\r\n\t])\r\n\r\n\tconst onBlur_ = useCallback((event) =>\r\n\t{\r\n\t\tclearTimeout(blurTimer.current)\r\n\t\tconst result = handleBlurEvent(\r\n\t\t\tevent,\r\n\t\t\tonFocusOut,\r\n\t\t\t() => container.current,\r\n\t\t\t() => input.current,\r\n\t\t\tpreventBlur\r\n\t\t)\r\n\t\tif (typeof result === 'number') {\r\n\t\t\tblurTimer.current = result\r\n\t\t}\r\n\t}, [\r\n\t\tonFocusOut,\r\n\t\tpreventBlur\r\n\t])\r\n\r\n\tconst onFocusOut = useCallback((event) =>\r\n\t{\r\n\t\t// `window.rruiCollapseOnFocusOut` can be used\r\n\t\t// for debugging expandable contents.\r\n\t\tif (window.rruiCollapseOnFocusOut !== false) {\r\n\t\t\tisFocusingOut.current = true\r\n\t\t\tcollapse()\r\n\t\t\tisFocusingOut.current = undefined\r\n\t\t}\r\n\r\n\t\tif (onBlur) {\r\n\t\t\tonBlurForReduxForm(onBlur, event, value)\r\n\t\t}\r\n\t}, [\r\n\t\tcollapse,\r\n\t\tonBlur,\r\n\t\tvalue\r\n\t])\r\n\r\n\tconst getContainerNode = useCallback(() => container.current, [])\r\n\tconst setContainerNode = useCallback((node) => container.current = node, [])\r\n\r\n\tconst setInputRef = useCallback((inputRef) => {\r\n\t\tif (ref) {\r\n\t\t\tif (typeof ref === 'function') {\r\n\t\t\t\tref(inputRef)\r\n\t\t\t} else {\r\n\t\t\t\tref.current = inputRef\r\n\t\t\t}\r\n\t\t}\r\n\t\tinput.current = inputRef\r\n\t}, [input, ref]);\r\n\r\n\tconst dayFormatter = useMemo(() => {\r\n\t\tif (typeof Intl !== 'undefined') {\r\n\t\t\treturn new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tweekday: 'long',\r\n\t\t\t\tyear: 'numeric',\r\n\t\t\t\tmonth: 'long',\r\n\t\t\t\tday: 'numeric'\r\n\t\t\t})\r\n\t\t}\r\n\t}, [\r\n\t\tlocale\r\n\t])\r\n\r\n\tconst monthFormatter = useMemo(() => {\r\n\t\tif (typeof Intl !== 'undefined') {\r\n\t\t\treturn new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tmonth: 'long'\r\n\t\t\t})\r\n\t\t}\r\n\t}, [\r\n\t\tlocale\r\n\t])\r\n\r\n\tconst weekdayFormatter = useMemo(() => {\r\n\t\tif (typeof Intl !== 'undefined') {\r\n\t\t\treturn new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tweekday: 'long'\r\n\t\t\t})\r\n\t\t}\r\n\t}, [\r\n\t\tlocale\r\n\t])\r\n\r\n\tconst weekdayShortFormatter = useMemo(() => {\r\n\t\tif (typeof Intl !== 'undefined') {\r\n\t\t\treturn new Intl.DateTimeFormat(locale, {\r\n\t\t\t\tweekday: 'short'\r\n\t\t\t})\r\n\t\t}\r\n\t}, [\r\n\t\tlocale\r\n\t])\r\n\r\n\tconst firstDayOfWeek = useMemo(() => {\r\n\t\t// Default: country  US, first day of week Sunday (0).\r\n\t\treturn locale && getFirstDayOfWeek(locale) || 0\r\n\t}, [\r\n\t\tlocale\r\n\t])\r\n\r\n\tconst localeUtils = useMemo(() => ({\r\n\t\t// Fixes calendar day `aria-label` to be a proper one instead of\r\n\t\t// a weird one (`Mon Jan 03 2022`).\r\n\t\tformatDay(date) {\r\n\t\t\tif (dayFormatter) {\r\n\t\t\t\treturn dayFormatter.format(date)\r\n\t\t\t}\r\n\t\t\t// A generic non-localized date formatter.\r\n\t\t\t// https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date/toDateString\r\n\t\t\t// Same as `date.toString()` but without time.\r\n\t\t\treturn date.toDateString()\r\n\t\t},\r\n\t\tformatMonthTitle(date) {\r\n\t\t\tif (monthFormatter) {\r\n\t\t\t\treturn monthFormatter.format(date)\r\n\t\t\t}\r\n\t\t\t// Returns month and year (in English).\r\n\t\t\treturn LocaleUtils.formatMonthTitle(date)\r\n\t\t},\r\n\t\tformatWeekdayShort(i) {\r\n\t\t\tif (weekdayShortFormatter) {\r\n\t\t\t\treturn weekdayShortFormatter.format(getDateForDayOfWeek(i))\r\n\t\t\t}\r\n\t\t\t// Returns short weekday (in English).\r\n\t\t\treturn LocaleUtils.formatWeekdayShort(i)\r\n\t\t},\r\n\t\tformatWeekdayLong(i) {\r\n\t\t\tif (weekdayFormatter) {\r\n\t\t\t\treturn weekdayFormatter.format(getDateForDayOfWeek(i))\r\n\t\t\t}\r\n\t\t\t// Returns long weekday (in English).\r\n\t\t\treturn LocaleUtils.formatWeekdayLong(i)\r\n\t\t},\r\n\t\tgetFirstDayOfWeek() {\r\n\t\t\treturn firstDayOfWeek\r\n\t\t},\r\n\t\tgetMonths() {\r\n\t\t\tconst months = []\r\n\t\t\tlet i = 0\r\n\t\t\twhile (i < 12) {\r\n\t\t\t\tmonths.push(monthFormatter.format(getDateForMonth(i)))\r\n\t\t\t\ti++\r\n\t\t\t}\r\n\t\t\treturn months\r\n\t\t}\r\n\t}), [\r\n\t\tlocale,\r\n\t\tdayFormatter,\r\n\t\tmonthFormatter,\r\n\t\tweekdayFormatter,\r\n\t\tweekdayShortFormatter,\r\n\t\tfirstDayOfWeek\r\n\t])\r\n\r\n\t// `<input type=\"date\"/>` renders a browser-specific date picker\r\n\t// which can not be turned off using a simple HTML attribute\r\n\t// and also date format is not customizable,\r\n\t// therefore just using `<input type=\"text\"/>` here\r\n\r\n\tlet captionElement\r\n\tif (selectYearsIntoPast || selectYearsIntoFuture) {\r\n\t\tcaptionElement = (\r\n\t\t\t<YearMonthSelect\r\n\t\t\t\tfocus={focusCalendar}\r\n\t\t\t\tuserHasJustChangedYearOrMonth={userHasJustChangedYearOrMonth}\r\n\t\t\t\tselectedDay={value}\r\n\t\t\t\tonChange={onMonthChange}\r\n\t\t\t\tselectYearsIntoPast={selectYearsIntoPast}\r\n\t\t\t\tselectYearsIntoFuture={selectYearsIntoFuture}\r\n\t\t\t/>\r\n\t\t)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<WithError\r\n\t\t\tsetRef={setContainerNode}\r\n\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\tonKeyDown={onContainerKeyDown}\r\n\t\t\tonBlur={onBlur_}\r\n\t\t\tstyle={style}\r\n\t\t\tclassName={classNames(className, 'rrui__date-picker')}>\r\n\r\n\t\t\t{/* Date input */}\r\n\t\t\t<TextInput\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={ setInputRef }\r\n\t\t\t\terror={ error }\r\n\t\t\t\tlabel={ label }\r\n\t\t\t\tvalue={ textValue !== undefined ? textValue : formatDate(value, format, { utc }) }\r\n\t\t\t\tonKeyDown={ onInputKeyDown }\r\n\t\t\t\tonChange={ onInputChange }\r\n\t\t\t\tonFocus={ onInputFocus }\r\n\t\t\t\tonClick={ expand }>\r\n\r\n\t\t\t\t{/* This layer can intercept taps on mobile devices\r\n\t\t\t\t    to prevent the keyboard from showing\r\n\t\t\t\t    when the date picker is in fullscreen mode.\r\n\t\t\t\t    `tabIndex={-1}` is to prevent focus-out/focus-in jitter on click. */}\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={ inputOverlay }\r\n\t\t\t\t\tonClick={ onToggleButtonClick }\r\n\t\t\t\t\ttabIndex={ -1 }\r\n\t\t\t\t\tclassName=\"rrui__date-picker__input-overlay\"/>\r\n\r\n\t\t\t\t{/* Calendar icon which toggles the calendar. */}\r\n\t\t\t\t{/* `aria-haspopup`: https://www.w3.org/TR/wai-aria-1.1/#aria-haspopup */}\r\n\t\t\t\t{/* WAI-ARIA 1.1 is not yet supported, so not using `aria-haspopup=\"grid\"`. */}\r\n\t\t\t\t<button\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tonClick={onToggleButtonClick}\r\n\t\t\t\t\ttabIndex={buttonAriaLabel ? undefined : -1}\r\n\t\t\t\t\taria-haspopup={undefined && 'grid'}\r\n\t\t\t\t\taria-expanded={isExpanded_ ? true : false}\r\n\t\t\t\t\taria-label={buttonAriaLabel}\r\n\t\t\t\t\tclassName={classNames(\r\n\t\t\t\t\t\t'rrui__button-reset',\r\n\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t'rrui__date-picker__icon', {\r\n\t\t\t\t\t\t\t'rrui__date-picker__icon--hidden': !buttonAriaLabel && !icon\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)}>\r\n\t\t\t\t\t{typeof icon === 'function' ? icon() : DEFAULT_CALENDAR_ICON()}\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t{/* <DayPicker/> doesn't support `style` property */}\r\n\t\t\t\t<Expandable\r\n\t\t\t\t\tref={expandable}\r\n\t\t\t\t\talignment={alignment}\r\n\t\t\t\t\tonExpand={onExpand}\r\n\t\t\t\t\tonExpanded={onExpanded}\r\n\t\t\t\t\tonCollapse={onCollapse}\r\n\t\t\t\t\tonFocusOut={onBlur_}\r\n\t\t\t\t\tgetTogglerNode={getContainerNode}\r\n\t\t\t\t\tscrollIntoViewDelay={waitForKeyboardSlideIn ? keyboardSlideInAnimationDuration : undefined}>\r\n\r\n\t\t\t\t\t<DayPicker\r\n\t\t\t\t\t\tref={calendar}\r\n\t\t\t\t\t\tmonth={month}\r\n\t\t\t\t\t\tonMonthChange={onMonthChange}\r\n\t\t\t\t\t\tlocale={locale}\r\n\t\t\t\t\t\tlocaleUtils={localeUtils}\r\n\t\t\t\t\t\tfirstDayOfWeek={firstDayOfWeek}\r\n\t\t\t\t\t\tonDayClick={onDayClick}\r\n\t\t\t\t\t\tselectedDays={ignoreInvalidDateObjects(value)}\r\n\t\t\t\t\t\tdisabledDays={disabledDays}\r\n\t\t\t\t\t\tcaptionElement={captionElement}\r\n\t\t\t\t\t\tclassName=\"rrui__date-picker__calendar\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Expandable>\r\n\t\t\t</TextInput>\r\n\t\t</WithError>\r\n\t)\r\n}\r\n\r\nDatePicker = React.forwardRef(DatePicker)\r\n\r\nDatePicker.propTypes =\r\n{\r\n\t// An optional label placed on top of the input field\r\n\tlabel : PropTypes.string,\r\n\r\n\t// Expandable calendar alignment.\r\n\t// Is \"left\" by default.\r\n\talignment : PropTypes.string,\r\n\r\n\t// A \"BCP47\" \"language tag\".\r\n\t// Example: \"en-US\".\r\n\tlocale : PropTypes.string,\r\n\r\n\t// Date format. Only supports `dd`, `mm`, `yy` and `yyyy` for now.\r\n\t// Can support custom localized formats, perhaps, when `date-fns@2` is released.\r\n\t// (is US `mm/dd/yyyy` by default)\r\n\tformat : PropTypes.string.isRequired,\r\n\t// format : PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\r\n\r\n\t// Internationalization\r\n\t// locale : PropTypes.string,\r\n\r\n\t// The Date `value`\r\n\tvalue : PropTypes.instanceOf(Date),\r\n\r\n\t// Writes new `value`.\r\n\t// The `value` is in the user's time zone and the time is `00:00`.\r\n\tonChange : PropTypes.func.isRequired,\r\n\r\n\t// Is called when the date picker is either collapsed or expanded\r\n\tonToggle : PropTypes.func,\r\n\r\n\t// Is called when the input is focused\r\n\tonFocus : PropTypes.func,\r\n\r\n\t// Is called when the input is blurred.\r\n\t// This `onBlur` interceptor is a workaround for `redux-form`,\r\n\t// so that it gets the parsed `value` in its `onBlur` handler,\r\n\t// not the formatted text.\r\n\tonBlur : PropTypes.func,\r\n\r\n\t// Set to `true` to mark the field as required\r\n\trequired : PropTypes.bool,\r\n\r\n\t// Indicates that the input is invalid.\r\n\terror : PropTypes.oneOfType([\r\n\t\tPropTypes.string,\r\n\t\tPropTypes.bool\r\n\t]),\r\n\r\n\t// Set to `false` to not show error message.\r\n\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t// HTML `<input/>` `name` attribute\r\n\tname : PropTypes.string,\r\n\r\n\t// `react-day-picker`'s `disabledDays`.\r\n\t// http://react-day-picker.js.org/examples/disabled\r\n\tdisabledDays : PropTypes.oneOfType\r\n\t([\r\n\t\tPropTypes.object,\r\n\t\tPropTypes.func,\r\n\t\tPropTypes.array\r\n\t]),\r\n\r\n\t// How much years back can a user navigate using the year `<select/>`\r\n\tselectYearsIntoPast : PropTypes.number.isRequired,\r\n\r\n\t// How much years forward can a user navigate using the year `<select/>`\r\n\tselectYearsIntoFuture : PropTypes.number.isRequired,\r\n\r\n\t// A `date`` from which the initially shown month of the calendar will be derived\r\n\t// when no `value` is selected. Is the current month by default.\r\n\tinitialCalendarDate : PropTypes.instanceOf(Date),\r\n\r\n\t// Whether dates being selected should be in UTC+0 timezone.\r\n\t// (is `false` by default)\r\n\tutc : PropTypes.bool.isRequired,\r\n\r\n\t// // Whether to set time to 12:00 for dates being selected.\r\n\t// // (is `true` by default)\r\n\t// noon : PropTypes.bool.isRequired,\r\n\r\n\t// The calendar icon.\r\n\ticon : PropTypes.oneOfType([\r\n\t\tPropTypes.func,\r\n\t\tPropTypes.bool\r\n\t]),\r\n\r\n\t// `aria-label` attribute for the toggle calendar button.\r\n\tbuttonAriaLabel : PropTypes.string,\r\n\r\n\twaitForKeyboardSlideIn : PropTypes.bool.isRequired,\r\n\tkeyboardSlideInAnimationDuration : PropTypes.number.isRequired,\r\n\r\n\t// CSS class\r\n\tclassName : PropTypes.string,\r\n\r\n\t// CSS style object\r\n\tstyle : PropTypes.object\r\n}\r\n\r\nDatePicker.defaultProps =\r\n{\r\n\talignment : 'left',\r\n\r\n\t// Default US format\r\n\tformat : 'mm/dd/yyyy',\r\n\r\n\t// Show `error` (if passed).\r\n\tshowErrorMessage : true,\r\n\r\n\t// Whether dates being selected should be in UTC+0 timezone\r\n\tutc : true,\r\n\r\n\t// // Whether to set time to 12:00 for dates being selected\r\n\t// noon : false,\r\n\r\n\t// A sensible default.\r\n\tselectYearsIntoPast : 100,\r\n\tselectYearsIntoFuture : 100,\r\n\r\n\twaitForKeyboardSlideIn : true,\r\n\tkeyboardSlideInAnimationDuration : 300\r\n}\r\n\r\nexport default DatePicker\r\n\r\nconst iconStyle = {\r\n\twidth  : '100%',\r\n\theight : '100%',\r\n\tfill   : 'currentColor'\r\n}\r\n\r\n// Doesn't work.\r\n// https://github.com/gpbl/react-day-picker/issues/841\r\n//\r\n// classNames={ REACT_DAY_PICKER_CLASS_NAMES }\r\n//\r\n// // Default `react-day-picker` CSS class names.\r\n// // Should have been exported from `react-day-picker`.\r\n// // https://github.com/gpbl/react-day-picker/blob/master/src/classNames.js\r\n// // Can change in future versions of `react-day-picker`.\r\n// const REACT_DAY_PICKER_DEFAULT_CLASS_NAMES = {\r\n// \tcontainer: 'DayPicker',\r\n// \twrapper: 'DayPicker-wrapper',\r\n// \tinteractionDisabled: 'DayPicker--interactionDisabled',\r\n// \tmonths: 'DayPicker-Months',\r\n// \tmonth: 'DayPicker-Month',\r\n// \tnavBar: 'DayPicker-NavBar',\r\n// \tnavButtonPrev: 'DayPicker-NavButton DayPicker-NavButton--prev',\r\n// \tnavButtonNext: 'DayPicker-NavButton DayPicker-NavButton--next',\r\n// \tnavButtonInteractionDisabled: 'DayPicker-NavButton--interactionDisabled',\r\n// \tcaption: 'DayPicker-Caption',\r\n// \tweekdays: 'DayPicker-Weekdays',\r\n// \tweekdaysRow: 'DayPicker-WeekdaysRow',\r\n// \tweekday: 'DayPicker-Weekday',\r\n// \tbody: 'DayPicker-Body',\r\n// \tweek: 'DayPicker-Week',\r\n// \tweekNumber: 'DayPicker-WeekNumber',\r\n// \tday: 'DayPicker-Day',\r\n// \tfooter: 'DayPicker-Footer',\r\n// \ttodayButton: 'DayPicker-TodayButton',\r\n// \t// default modifiers\r\n// \ttoday: 'today',\r\n// \tselected: 'selected',\r\n// \tdisabled: 'disabled',\r\n// \toutside: 'outside',\r\n// }\r\n//\r\n// const REACT_DAY_PICKER_CLASS_NAMES = {\r\n// \t...REACT_DAY_PICKER_DEFAULT_CLASS_NAMES,\r\n// \t/* `.DayPicker-wrapper` is a `<div/>` wrapping the calendar.\r\n// \t   It gets focused upon expanding which causes an outline.\r\n// \t   That outline can be safely removed because it doesn't aid accesiblity. */\r\n// \twrapper: REACT_DAY_PICKER_DEFAULT_CLASS_NAMES.wrapper + ' rrui__outline',\r\n// \t/* Calendar days have `background-color` on `:focus`.\r\n// \t   Therefore their `outline` can be safely removed. */\r\n// \tday: REACT_DAY_PICKER_DEFAULT_CLASS_NAMES.day + ' rrui__outline',\r\n// \t/* Previous/Next month buttons have `background-color` on `:focus`.\r\n// \t   Therefore their `outline` can be safely removed. */\r\n// \tnavButtonPrev: REACT_DAY_PICKER_DEFAULT_CLASS_NAMES.navButtonPrev + ' rrui__outline',\r\n// \tnavButtonNext: REACT_DAY_PICKER_DEFAULT_CLASS_NAMES.navButtonNext + ' rrui__outline'\r\n// }\r\n\r\n// Default calendar icon\r\nconst DEFAULT_CALENDAR_ICON = () => (\r\n\t<svg style={iconStyle} viewBox=\"0 0 32 32\">\r\n\t\t<path d=\" M2 2 L10 2 L10 10 L2 10z M12 2 L20 2 L20 10 L12 10z M22 2 L30 2 L30 10 L22 10z M2 12 L10 12 L10 20 L2 20z M12 12 L20 12 L20 20 L12 20z M22 12 L30 12 L30 20 L22 20z M2 22 L10 22 L10 30 L2 30z M12 22 L20 22 L20 30 L12 30z M22 22 L30 22 L30 30 L22 30z \"/>\r\n\t</svg>\r\n)","import isDigit from './isDigit'\r\nimport { isDateFormatUnitCharacter } from './parseDate'\r\n\r\nexport default function transformDateInputAccordingToTemplate(value, format)\r\n{\r\n\tlet i = 0\r\n\twhile (i < value.length && i < format.length)\r\n\t{\r\n\t\tif (isDateFormatUnitCharacter(format[i])) {\r\n\t\t\tif (!isDigit(value[i])) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t} else if (format[i] !== value[i]) {\r\n\t\t\tif (isDigit(value[i])) {\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t\t// Fix the punctuation character.\r\n\t\t\tvalue = value.slice(0, i) + format[i] + value.slice(i + 1)\r\n\t\t}\r\n\t\ti++\r\n\t}\r\n\r\n\treturn value.slice(0, i)\r\n}\r\n","export default function getTerritoryFromLocale(locale) {\r\n\tconst match = locale.match(/-([A-Z]{2})(?:-.+)?$/)\r\n\tif (match) {\r\n\t\treturn match[1]\r\n\t}\r\n}","// Returns a language from a BCP 47 \"language tag\".\r\n// Example: `\"ru-RU\"` -> `\"ru\"`.\r\n// https://en.wikipedia.org/wiki/IETF_language_tag\r\nexport default function getLanguageFromLocale(locale) {\r\n\tconst dashIndex = locale.indexOf('-')\r\n\tif (dashIndex >= 0) {\r\n\t\treturn locale.slice(0, dashIndex)\r\n\t}\r\n\treturn locale\r\n}","// Copy-pasted from:\r\n// https://github.com/okonet/attr-accept\r\n// because in that repo it imports `.some` and `.endsWith` from `core-js`.\r\n// `.some` is supported starting from IE 9.\r\nexport default function isFileAccepted(file, acceptedFiles) {\r\n  if (file && acceptedFiles) {\r\n    const acceptedFilesArray = Array.isArray(acceptedFiles)\r\n      ? acceptedFiles\r\n      : acceptedFiles.split(',')\r\n    const fileName = file.name || ''\r\n    const mimeType = file.type || ''\r\n    const baseMimeType = mimeType.replace(/\\/.*$/, '')\r\n\r\n    return acceptedFilesArray.some(type => {\r\n      const validType = type.trim()\r\n      if (validType.charAt(0) === '.') {\r\n        // return fileName.toLowerCase().endsWith(validType.toLowerCase())\r\n        return fileName.toLowerCase().lastIndexOf(validType.toLowerCase()) === fileName.length - validType.length\r\n      // } else if (validType.endsWith('/*')) {\r\n      } else if (ENDS_WITH_SLASH_ASTERISK_REGEXP.test(validType)) {\r\n        // This is something like a image/* mime type\r\n        return baseMimeType === validType.replace(/\\/.*$/, '')\r\n      }\r\n      return mimeType === validType\r\n    })\r\n  }\r\n  return true\r\n}\r\n\r\nconst ENDS_WITH_SLASH_ASTERISK_REGEXP = /\\/*$/","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport createRef from 'react-create-ref'\r\n\r\nimport isFileAccepted from './utility/isFileAccepted'\r\n\r\nclass DropFiles_ extends React.Component {\r\n\tstatic propTypes = {\r\n\t\t// Will be called with `true` when the drop zone is dragged over.\r\n\t\t// (and with `false` when it's no longer dragged over)\r\n\t\tsetDraggedOver: PropTypes.func,\r\n\t\t// Will be called on file(s) drop.\r\n\t\t// The argument will be the single file when `multiple` is `false` (default)\r\n\t\t// or the array of files when `multiple` is `true`.\r\n\t\tonDrop: PropTypes.func.isRequired,\r\n\t\t// Set to `true` for multi-file drop.\r\n\t\tmultiple: PropTypes.bool,\r\n\t\t// Can be used to restrict the file MIME-types or extensions available for selection.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-accept\r\n\t\taccept: PropTypes.string,\r\n\t\t// A hack for `React.forwardRef()`.\r\n\t\t// Could be rewritten in \"hooks\" instead.\r\n\t\t// A hack for providing `.focus()` method on `<DropFileUpload/>`.\r\n\t\tref_: PropTypes.object\r\n\t}\r\n\r\n\t// state = {\r\n\t// \tisDragging: false\r\n\t// }\r\n\r\n\tnode = createRef()\r\n\r\n\t// Copied from:\r\n\t// https://github.com/react-dropzone/react-dropzone/blob/master/src/index.js\r\n\tdragTargets = []\r\n\r\n\tsetRef = (ref) => {\r\n\t\tthis.node.current = ref\r\n\t\t// A hack for providing `.focus()` method on `<DropFileUpload/>`.\r\n\t\tconst { ref_ } = this.props\r\n\t\tif (ref_) {\r\n\t\t\tref_.current = ref\r\n\t\t}\r\n\t}\r\n\r\n\tsetDraggedOver = (draggedOver) => {\r\n\t\tconst { setDraggedOver } = this.props\r\n\t\tif (setDraggedOver) {\r\n\t\t\tsetDraggedOver(draggedOver)\r\n\t\t}\r\n\t}\r\n\r\n\t// Must be `preventDefault`-ed for some weird reasons.\r\n\tonDragOver = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tevent.stopPropagation()\r\n\t}\r\n\r\n\t// `event` is always triggered when gragging from another window to the browser window.\r\n\tonDragEnter = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tevent.stopPropagation()\r\n\r\n\t\t// Copied from:\r\n\t\t// https://github.com/react-dropzone/react-dropzone/blob/master/src/index.js\r\n\t\t// Count the dropzone and any children that are entered.\r\n\t\tif (this.dragTargets.indexOf(event.target) === -1) {\r\n\t\t\tthis.dragTargets.push(event.target)\r\n\t\t}\r\n\r\n\t\t// `event.dataTransfer.files` are only accessible on \"drop\" event.\r\n\t\t// `event.dataTransfer.items` are only accessible in Chrome and FireFox while dragging.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/items\r\n\t\tif (isDraggingFiles(event)) {\r\n\t\t\t// Filtering dragged files by `isFileAccepted`.\r\n\t\t\t// Only MIME-types are available during the \"drag\" stage,\r\n\t\t\t// not file extensions. And won't work in IE11.\r\n\t\t\t// // IE11 does not support dataTransfer.items\r\n\t\t\t// if (event.dataTransfer.items) {\r\n\t\t\t// \t// Only MIME-types are available for `isFileAccepted`\r\n\t\t\t// \t// filtering during the \"drag\" stage, not file extensions.\r\n\t\t\t// \t// `.some` is supported starting from IE 9.\r\n\t\t\t// \tconst areAnyFilesAccepted = Array.prototype.some.call(\r\n\t\t\t// \t\tevent.dataTransfer.items,\r\n\t\t\t// \t\tthis.isFileAccepted\r\n\t\t\t// \t)\r\n\t\t\t// \tif (!areAnyFilesAccepted) {\r\n\t\t\t// \t\treturn\r\n\t\t\t// \t}\r\n\t\t\t// }\r\n\t\t\tthis.setDraggedOver(true)\r\n\t\t}\r\n\t}\r\n\r\n\tonDragLeave = (event) => {\r\n\t\tevent.preventDefault()\r\n\t\tevent.stopPropagation()\r\n\r\n\t\t// Copied from:\r\n\t\t// https://github.com/react-dropzone/react-dropzone/blob/master/src/index.js\r\n\t\t// Only deactivate once the dropzone and all children have been left.\r\n\t\tthis.dragTargets = this.dragTargets.filter(_ => _ !== event.target && this.node.current.contains(_))\r\n\t\tif (this.dragTargets.length > 0) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setDraggedOver(false)\r\n\t}\r\n\r\n\tonDrop = (event) => {\r\n\t\tconst {\r\n\t\t\tonDrop,\r\n\t\t\tmultiple,\r\n\t\t\taccept\r\n\t\t} = this.props\r\n\r\n\t\tevent.preventDefault()\r\n\t\tevent.stopPropagation()\r\n\r\n\t\t// Reset.\r\n\t\tthis.dragTargets = []\r\n\r\n\t\tthis.setDraggedOver(false)\r\n\r\n\t\tconst files = getFilesFromEvent(event) //.filter(this.isFileAccepted)\r\n\t\tif (files.length > 0) {\r\n\t\t\tif (multiple) {\r\n\t\t\t\tonDrop(files, {\r\n\t\t\t\t\tacceptedFiles: accept ? files.filter(this.isFileAccepted) : files,\r\n\t\t\t\t\trejectedFiles: accept ? files.filter(_ => !this.isFileAccepted(_)) : []\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\t// If multiple files have been dropped to a non-multiple drop zone\r\n\t\t\t\t// then reduce the files list to just the first file.\r\n\t\t\t\tonDrop(files[0], {\r\n\t\t\t\t\tisAccepted: this.isFileAccepted(files[0])\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\t// Not clear why would it be called.\r\n\t\t\t// MDN says it's a \"no-op\".\r\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/API/DataTransferItemList/clear\r\n\t\t\t// event.dataTransfer.clearData()\r\n\t\t}\r\n\t}\r\n\r\n\tisFileAccepted = (file) => {\r\n\t\tconst { accept } = this.props\r\n\t\tif (accept) {\r\n\t\t\t// Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\r\n\t\t\t// that MIME type will always be accepted\r\n\t\t\tif (file.type === 'application/x-moz-file') {\r\n\t\t\t\treturn true\r\n\t\t\t}\r\n\t\t\treturn isFileAccepted(file, accept)\r\n\t\t}\r\n\t\treturn true\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst div = this.node.current\r\n\t\tdiv.addEventListener('dragenter', this.onDragEnter)\r\n\t\tdiv.addEventListener('dragleave', this.onDragLeave)\r\n\t\tdiv.addEventListener('dragover', this.onDragOver)\r\n\t\tdiv.addEventListener('drop', this.onDrop)\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst div = this.node.current\r\n\t\tdiv.removeEventListener('dragenter', this.onDragEnter)\r\n\t\tdiv.removeEventListener('dragleave', this.onDragLeave)\r\n\t\tdiv.removeEventListener('dragover', this.onDragOver)\r\n\t\tdiv.removeEventListener('drop', this.onDrop)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tonDrop,\r\n\t\t\tsetDraggedOver,\r\n\t\t\tmultiple,\r\n\t\t\tref_,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\treturn React.createElement('div', {\r\n\t\t\tref: this.setRef,\r\n\t\t\t...rest\r\n\t\t})\r\n\t}\r\n}\r\n\r\n// A hack for providing `.focus()` method on `<DropFileUpload/>`.\r\nexport const DropFiles = React.forwardRef((props, ref) => (\r\n\t<DropFiles_ ref_={ref} {...props}/>\r\n))\r\n\r\n// Copied from:\r\n// https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\r\nfunction isDraggingFiles(event) {\r\n\t// If `event.dataTransfer` is not available then `event.target.files` fallback is used.\r\n\tif (!event.dataTransfer) {\r\n\t\treturn true\r\n\t}\r\n\t// https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/types\r\n\t// https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types#file\r\n\t// `.some` is supported starting from IE 9.\r\n\treturn Array.prototype.some.call(\r\n\t\tevent.dataTransfer.types,\r\n\t\ttype => type === 'Files' || type === 'application/x-moz-file'\r\n\t)\r\n}\r\n\r\n// Copied from:\r\n// https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\r\nexport function getFilesFromEvent(event) {\r\n\tlet dataTransferItemsList = []\r\n\tif (event.dataTransfer) {\r\n\t\tconst dt = event.dataTransfer\r\n\t\t// NOTE: Only the 'drop' event has access to DataTransfer.files,\r\n\t\t// otherwise it will always be empty\r\n\t\tif (dt.files && dt.files.length) {\r\n\t\t\tdataTransferItemsList = dt.files\r\n\t\t} else if (dt.items && dt.items.length) {\r\n\t\t\t// During the drag even the dataTransfer.files is null\r\n\t\t\t// but Chrome implements some drag store, which is accesible via dataTransfer.items\r\n\t\t\tdataTransferItemsList = dt.items\r\n\t\t}\r\n\t} else if (event.target && event.target.files) {\r\n\t\tdataTransferItemsList = event.target.files\r\n\t}\r\n\t// Convert from DataTransferItemsList to the native Array\r\n\treturn Array.prototype.slice.call(dataTransferItemsList)\r\n}\r\n\r\n// // Copied from:\r\n// // https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\r\n// // Firefox versions prior to 53 return a bogus MIME type for every file drag, so dragovers with\r\n// // that MIME type will always be accepted\r\n// function isFileAccepted(file, accept) {\r\n// \treturn this.props.isFileAccepted(file) || (file.type === 'application/x-moz-file' || this.props.isFileTypeAccepted(file))\r\n// }\r\n\r\n// Deprecated.\r\nexport function CanDrop(type, drop)\r\n{\r\n\tthrow new Error('`react-dnd` has been removed from `react-responsive-ui` starting from version `0.14.124` due to being buggy and not supported. `react-dnd` has been replaced with simple native HTML file drag-n-drop. Use `<DropFileUpload/>` and `<DropMultiFileUpload/>` components for file upload instead of `DragAndDrop` and `CanDrop` decorators.')\r\n}\r\n\r\n// Deprecated.\r\nexport function DragAndDrop()\r\n{\r\n\tthrow new Error('`react-dnd` has been removed from `react-responsive-ui` starting from version `0.14.124` due to being buggy and not supported. `react-dnd` has been replaced with simple native HTML file drag-n-drop. `DragAndDrop` decorator is no longer needed and should be removed. Use `<DropFileUpload/>` and `<DropMultiFileUpload/>` components for file upload.')\r\n}\r\n\r\n// Deprecated.\r\n// Native file drag'n'drop (single file)\r\nexport const File = 'File'\r\n\r\n// Deprecated.\r\n// Native file drag'n'drop (multiple files)\r\nexport const Files = 'Files'\r\n\r\n// Deprecated.\r\n// Native file drag'n'drop (single file)\r\nexport const FILE = File\r\n\r\n// Deprecated.\r\n// Native file drag'n'drop (multiple files)\r\nexport const FILES = Files","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\n// For some weird reason, in Chrome, `setTimeout()` would lag up to a second (or more) behind.\r\n// Turns out, Chrome developers have deprecated `setTimeout()` API entirely without asking anyone.\r\n// Replacing `setTimeout()` with `requestAnimationFrame()` can work around that Chrome bug.\r\n// https://github.com/bvaughn/react-virtualized/issues/722\r\nimport { setTimeout, clearTimeout } from 'request-animation-frame-timeout'\r\n\r\nexport default class FileUploadInput extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\t\tmultiple: PropTypes.bool,\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\t\trequired: PropTypes.bool\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tclearTimeout(this.ieTimer)\r\n\t}\r\n\r\n\tonFileSelect = (event) => {\r\n\t\tconst { onChange, multiple } = this.props\r\n\r\n\t\t// Internet Explorer triggers `onChange` when setting\r\n\t\t// `event.target.value` manually, so ignore such events.\r\n\t\tif (this.ieTimer) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// Convert from `FileList` to an `Array`.\r\n\t\tconst value = Array.prototype.slice.call(event.target.files)\r\n\t\t// `<input multiple/>` attribute is not supported in all browsers.\r\n\t\tonChange(multiple ? value : value[0])\r\n\r\n\t\t// Internet Explorer triggers `onChange` when setting\r\n\t\t// `event.target.value` manually, hence the cooldown timer.\r\n\t\tthis.ieTimer = setTimeout(() => this.ieTimer = undefined, 0)\r\n\t\t// Reset the selected file\r\n\t\t// so that `onChange` is triggered again next time\r\n\t\t// even if the user selects the same file.\r\n\t\tevent.target.value = null\r\n\t}\r\n\r\n\tclick = () => {\r\n\t\tconst { disabled } = this.props\r\n\t\tif (disabled) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tthis.input.click()\r\n\t}\r\n\r\n\tstoreInputRef = (ref) => this.input = ref\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\terror,\r\n\t\t\trequired,\r\n\t\t\tonChange,\r\n\t\t\tmultiple,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\t\treturn (\r\n\t\t\t<input\r\n\t\t\t\t{...rest}\r\n\t\t\t\tref={this.storeInputRef}\r\n\t\t\t\ttype=\"file\"\r\n\t\t\t\tmultiple={ supportsMultipleFileUploadOnInputElement ? multiple : undefined }\r\n\t\t\t\tonChange={ this.onFileSelect }\r\n\t\t\t\taria-required={ required ? true : undefined }\r\n\t\t\t\taria-invalid={ error ? true : undefined }\r\n\t\t\t\tstyle={ HIDDEN_STYLE }/>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst HIDDEN_STYLE = {\r\n\tdisplay: 'none'\r\n}\r\n\r\n// Copied from:\r\n// https://github.com/react-dropzone/react-dropzone/blob/master/src/utils/index.js\r\nexport const supportsMultipleFileUploadOnInputElement =\r\n\ttypeof document !== 'undefined' && document && document.createElement\r\n\t\t? 'multiple' in document.createElement('input')\r\n\t\t: true\r\n\r\n/**\r\n * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-accept\r\n * @param  {(string|string[])} [ext]\r\n * @return {string} [accept]\r\n */\r\nexport function getAcceptFromExt(ext) {\r\n\tif (typeof ext === 'string') {\r\n\t\treturn '.' + ext\r\n\t}\r\n\tif (Array.isArray(ext)) {\r\n\t\treturn ext.map(ext => '.' + ext).join(',')\r\n\t}\r\n}","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport { DropFiles } from './DragAndDrop'\r\nimport FileUploadInput, { getAcceptFromExt } from './FileUploadInput'\r\nimport WithError from './WithError'\r\n\r\nimport { submitFormOnCtrlEnter } from './utility/dom'\r\n\r\n// `PureComponent` is only available in React >= 15.3.0.\r\nconst PureComponent = React.PureComponent || React.Component\r\n\r\nclass FileUpload extends PureComponent\r\n{\r\n\tstatic propTypes =\r\n\t{\r\n\t\t// On file(s) chosen.\r\n\t\tonChange  : PropTypes.func,\r\n\r\n\t\t// Whether the area should be focusable/clickable.\r\n\t\tclickable : PropTypes.bool,\r\n\r\n\t\t// Allows choosing multiple files if `true`.\r\n\t\tmultiple  : PropTypes.bool,\r\n\r\n\t\t// Can be used to restrict the file MIME-types or extensions available for selection.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-accept\r\n\t\taccept: PropTypes.string,\r\n\r\n\t\t// Will be transformed to `accept`.\r\n\t\text: PropTypes.oneOfType([\r\n\t\t\tPropTypes.arrayOf(PropTypes.string),\r\n\t\t\tPropTypes.string\r\n\t\t]),\r\n\r\n\t\t// Disables the file input.\r\n\t\tdisabled  : PropTypes.bool,\r\n\r\n\t\t// `onClick` handler.\r\n\t\tonClick   : PropTypes.func,\r\n\r\n\t\t// Whether choosing a file (or files) is required.\r\n\t\trequired : PropTypes.bool,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror : PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\tshowErrorMessage : PropTypes.bool,\r\n\r\n\t\ttabIndex  : PropTypes.number,\r\n\r\n\t\t// The contents of the file drop area.\r\n\t\t// Example: \"Click here to choose a file\".\r\n\t\tchildren  : PropTypes.node,\r\n\r\n\t\t// CSS class\r\n\t\tclassName : PropTypes.string,\r\n\r\n\t\t// CSS style object\r\n\t\tstyle     : PropTypes.object,\r\n\r\n\t\t// Deprecated.\r\n\t\t// Rewrite this component in hooks instead.\r\n\t\t// A hack for `React.forwardRef()`.\r\n\t\t// Could be rewritten in \"hooks\" instead.\r\n\t\t// A hack for providing `.focus()` method on `<DropFileUpload/>`.\r\n\t\tref_: PropTypes.object\r\n\t}\r\n\r\n\tstatic defaultProps =\r\n\t{\r\n\t\tclickable : true,\r\n\t\tshowErrorMessage : true\r\n\t}\r\n\r\n\tstate =\r\n\t{\r\n\t\tdraggedOver : false\r\n\t}\r\n\r\n\tonClick = (event) => {\r\n\t\tconst {\r\n\t\t\tdisabled,\r\n\t\t\tonClick\r\n\t\t} = this.props\r\n\t\tif (disabled) {\r\n\t\t\tif (event) {\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t}\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif (onClick) {\r\n\t\t\tonClick()\r\n\t\t}\r\n\t\tthis.fileInput.click()\r\n\t}\r\n\r\n\tonKeyDown = (event) => {\r\n\t\tif (event.ctrlKey || event.altKey || event.shiftKey || event.metaKey) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\tswitch (event.keyCode) {\r\n\t\t\t// \"Enter\".\r\n\t\t\tcase 13:\r\n\t\t\t// Spacebar.\r\n\t\t\tcase 32:\r\n\t\t\t\tevent.preventDefault()\r\n\t\t\t\t// Emulate `:active` on key press.\r\n\t\t\t\t// setTimeout(() => {\r\n\t\t\t\t// \tif (this._isMounted) {\r\n\t\t\t\t// \t\tthis.setState({\r\n\t\t\t\t// \t\t\tisActive: true\r\n\t\t\t\t// \t\t})\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\t\t\t\treturn this.onClick()\r\n\t\t}\r\n\t}\r\n\r\n\tsetDraggedOver = (draggedOver) => this.setState({ draggedOver })\r\n\r\n\tstoreFileInputRef = (ref) => this.fileInput = ref\r\n\r\n\tonFileInputChange = (value) => {\r\n\t\tconst { multiple, onChange } = this.props\r\n\t\tif (multiple) {\r\n\t\t\tonChange(value, {\r\n\t\t\t\tacceptedFiles: value,\r\n\t\t\t\trejectedFiles: []\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\tonChange(value, {\r\n\t\t\t\tisAccepted: true\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tref_,\r\n\t\t\trequired,\r\n\t\t\terror,\r\n\t\t\tshowErrorMessage,\r\n\t\t\tdisabled,\r\n\t\t\ttabIndex,\r\n\t\t\tonChange,\r\n\t\t\tclickable,\r\n\t\t\tmultiple,\r\n\t\t\taccept,\r\n\t\t\text,\r\n\t\t\tstyle,\r\n\t\t\tclassName,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst { draggedOver } = this.state\r\n\r\n\t\tconst _accept = accept || (ext && getAcceptFromExt(ext))\r\n\r\n\t\tlet dropFilesElementProps\r\n\t\tif (clickable) {\r\n\t\t\tdropFilesElementProps = {\r\n\t\t\t\trole: 'button',\r\n\t\t\t\ttabIndex: tabIndex === undefined ? 0 : tabIndex,\r\n\t\t\t\tonClick: this.onClick,\r\n\t\t\t\tonKeyDown: this.onKeyDown\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<WithError\r\n\t\t\t\terror={showErrorMessage ? error : undefined}\r\n\t\t\t\tstyle={style}\r\n\t\t\t\tclassName={classNames('rrui__file-upload', className)}>\r\n\r\n\t\t\t\t{/* Hidden. */}\r\n\t\t\t\t<FileUploadInput\r\n\t\t\t\t\tref={ this.storeFileInputRef }\r\n\t\t\t\t\tmultiple={ multiple }\r\n\t\t\t\t\tonChange={ this.onFileInputChange }\r\n\t\t\t\t\terror={ error }\r\n\t\t\t\t\trequired={ required }\r\n\t\t\t\t\tdisabled={ disabled }\r\n\t\t\t\t\taccept={ _accept }\r\n\t\t\t\t\taria-label={ this.props['aria-label'] }/>\r\n\r\n\t\t\t\t<DropFiles\r\n\t\t\t\t\tref={ref_}\r\n\t\t\t\t\t{...dropFilesElementProps}\r\n\t\t\t\t\taria-label={ this.props['aria-label'] }\r\n\t\t\t\t\taccept={ _accept }\r\n\t\t\t\t\tmultiple={ multiple }\r\n\t\t\t\t\tonDrop={ onChange }\r\n\t\t\t\t\tsetDraggedOver={ this.setDraggedOver }\r\n\t\t\t\t\tclassName={ classNames(\r\n\t\t\t\t\t\t/* Developers should define `:focus` styles for `<FileUpload/>`s. */\r\n\t\t\t\t\t\t'rrui__outline',\r\n\t\t\t\t\t\t'rrui__file-upload__area',\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t'rrui__file-upload__area--disabled' : disabled,\r\n\t\t\t\t\t\t\t'rrui__file-upload__area--invalid' : error,\r\n\t\t\t\t\t\t\t'rrui__file-upload__area--dragged-over' : draggedOver\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t) }>\r\n\t\t\t\t\t{ children }\r\n\t\t\t\t</DropFiles>\r\n\t\t\t</WithError>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n// A hack for providing `.focus()` method on `<DropFileUpload/>`.\r\nexport default React.forwardRef((props, ref) => (\r\n\t<FileUpload ref_={ref} {...props}/>\r\n))","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nimport FileUploadInput, { getAcceptFromExt } from './FileUploadInput'\r\n\r\nexport default class FileUploadButton extends React.Component {\r\n\tstatic propTypes = {\r\n\t\tcomponent: PropTypes.elementType,\r\n\r\n\t\t// On file(s) chosen.\r\n\t\tonChange: PropTypes.func.isRequired,\r\n\r\n\t\t// Allows choosing multiple files if `true`.\r\n\t\tmultiple: PropTypes.bool,\r\n\r\n\t\t// Disables the file input.\r\n\t\tdisabled: PropTypes.bool,\r\n\r\n\t\t// Indicates that the input is invalid.\r\n\t\terror: PropTypes.oneOfType([\r\n\t\t\tPropTypes.string,\r\n\t\t\tPropTypes.bool\r\n\t\t]),\r\n\r\n\t\t// Whether choosing a file (or files) is required.\r\n\t\t// Sets `aria-required` on the file `<input/>`.\r\n\t\trequired: PropTypes.bool,\r\n\r\n\t\t// Can be used to restrict the file MIME-types or extensions available for selection.\r\n\t\t// https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/file#attr-accept\r\n\t\taccept: PropTypes.string,\r\n\r\n\t\t// Will be transformed to `accept`.\r\n\t\text: PropTypes.oneOfType([\r\n\t\t\tPropTypes.arrayOf(PropTypes.string),\r\n\t\t\tPropTypes.string\r\n\t\t])\r\n\t}\r\n\r\n\tonClick = () => {\r\n\t\tthis.fileInput.click()\r\n\t}\r\n\r\n\tstoreFileInputRef = (ref) => this.fileInput = ref\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tcomponent: Component,\r\n\t\t\tonChange,\r\n\t\t\tmultiple,\r\n\t\t\tdisabled,\r\n\t\t\terror,\r\n\t\t\trequired,\r\n\t\t\taccept,\r\n\t\t\text,\r\n\t\t\t...rest\r\n\t\t} = this.props\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<FileUploadInput\r\n\t\t\t\t\tref={this.storeFileInputRef}\r\n\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\tmultiple={multiple}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\terror={error}\r\n\t\t\t\t\trequired={required}\r\n\t\t\t\t\taccept={accept || (ext && getAcceptFromExt(ext))}/>\r\n\t\t\t\t<Component\r\n\t\t\t\t\t{...rest}\r\n\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\tonClick={this.onClick}/>\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}","import React from 'react'\r\nimport FileUpload from './FileUpload'\r\n\r\nexport default React.forwardRef((props, ref) => (\r\n\t<FileUpload ref={ref} {...props} multiple/>\r\n))","let modular_grid_unit\r\n\r\nexport function setModularGridUnit(unit)\r\n{\r\n\tmodular_grid_unit = unit\r\n}\r\n\r\nexport function getModularGridUnit()\r\n{\r\n\treturn modular_grid_unit\r\n}"],"names":["root","factory","exports","module","require","define","amd","self","__WEBPACK_EXTERNAL_MODULE__24__","__WEBPACK_EXTERNAL_MODULE__314__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","key","call","join","default","__esModule","_react","_propTypes2","_interopRequireDefault","_gud2","obj","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","MAX_SIGNED_31_BIT_INT","createEventEmitter","handlers","on","handler","off","filter","h","get","set","newValue","changedBits","forEach","defaultValue","calculateChangedBits","_Provider$childContex","_Consumer$contextType","contextProp","Provider","_Component","_temp","_this","this","_len","args","_key","concat","emitter","props","getChildContext","_ref","componentWillReceiveProps","nextProps","oldValue","x","y","render","children","Component","childContextTypes","object","isRequired","Consumer","_Component2","_temp2","_this2","_len2","_key2","state","getValue","onUpdate","observedBits","setState","componentDidMount","context","componentWillUnmount","contextTypes","_react2","_implementation2","createContext","canUseDOM","window","document","createElement","ExecutionEnvironment","canUseWorkers","Worker","canUseEventListeners","addEventListener","attachEvent","canUseViewport","screen","g","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","undefined","trimmedEndIndex","reTrimStart","string","slice","replace","freeGlobal","objectProto","nativeObjectToString","isOwn","tag","unmasked","e","result","freeSelf","Function","reWhitespace","index","test","charAt","isObject","now","toNumber","nativeMax","Math","max","nativeMin","min","func","wait","options","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","shouldInvoke","timeSinceLastCall","trailingEdge","timeWaiting","remainingWait","debounced","isInvoking","clearTimeout","cancel","flush","type","baseGetTag","isObjectLike","Date","debounce","baseTrim","isSymbol","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","parseInt","other","valueOf","isBinary","getNanoSeconds","hrtime","loadTime","moduleLoadTime","nodeLoadTime","upTime","performance","process","hr","uptime","getTime","ReactPropTypesSecret","emptyFunction","emptyFunctionWithReset","resetWarningCache","shim","propName","componentName","location","propFullName","secret","err","Error","name","getShim","ReactPropTypes","array","bigint","bool","number","symbol","any","arrayOf","element","elementType","instanceOf","node","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","PropTypes","vendors","suffix","raf","caf","last","id","queue","callback","_now","next","cp","cancelled","round","handle","fn","polyfill","requestAnimationFrame","cancelAnimationFrame","t","o","n","r","l","m","c","d","defineProperty","p","s","isNaN","a","setMonth","getMonth","getDate","getFullYear","u","setHours","f","from","to","setDate","getDay","ceil","clone","isDate","addMonths","isSameDay","isSameMonth","isDayBefore","isDayAfter","isPastDay","isFutureDay","isDayBetween","addDayToRange","isDayInRange","getWeekNumber","LEFT","UP","RIGHT","DOWN","ENTER","SPACE","ESC","TAB","container","wrapper","interactionDisabled","months","month","navBar","navButtonPrev","navButtonNext","navButtonInteractionDisabled","caption","weekdays","weekdaysRow","weekday","body","week","weekNumber","day","footer","todayButton","today","selected","disabled","outside","assign","cancelEvent","preventDefault","stopPropagation","getFirstDayOfMonth","getDaysInMonth","getModifiersFromProps","modifiers","selectedDays","disabledDays","getFirstDayOfWeekFromProps","firstDayOfWeek","locale","localeUtils","getFirstDayOfWeek","isRangeOfDates","getMonthsDiff","getWeekArray","indexOf","v","unshift","k","D","b","w","startOfMonth","getDayNodes","querySelectorAll","nodeListToArray","hasOwnProp","toDateString","formatDay","formatMonthTitle","formatWeekdayShort","formatWeekdayLong","getMonths","some","after","before","daysOfWeek","keys","reduce","dayMatchesModifier","getModifiersForDay","ModifiersUtils","LocaleUtils","DateUtils","DayPicker","P","N","E","j","T","getPrototypeOf","dayPicker","showNextMonth","allowNextMonth","pagedNavigation","numberOfMonths","currentMonth","showMonth","showPreviousMonth","allowPreviousMonth","handleKeyDown","persist","keyCode","dir","showPreviousYear","showNextYear","onKeyDown","handleDayKeyDown","focusNextDay","target","focusPreviousDay","focusPreviousWeek","focusNextWeek","onDayClick","handleDayClick","onDayKeyDown","enableOutsideDaysClick","handleOutsideDayClick","handleTodayButtonClick","blur","onTodayButtonClick","getCurrentMonthFromProps","initialMonth","fromMonth","floor","toMonth","allowMonth","canChangeMonth","onMonthChange","allowYearChange","focus","focusLastDayOfMonth","focusFirstDayOfMonth","labels","navbarElement","className","nextMonth","getNextNavigableMonth","previousMonth","getPreviousNavigableMonth","showPreviousButton","showNextButton","onNextClick","onPreviousClick","isValidElement","cloneElement","reverseMonths","reverse","renderTodayButton","tabIndex","onClick","containerProps","ref","lang","onFocus","onBlur","renderNavbar","renderMonths","renderFooter","defaultProps","showOutsideDays","fixedWeeks","showWeekNumbers","showWeekDays","renderDay","renderWeek","weekdayElement","captionElement","VERSION","Input","handleKeyUp","bind","date","role","onKeyUp","handleNextClick","handlePreviousClick","handleNextKeyDown","handlePreviousKeyDown","modifiersStyles","empty","ariaLabel","ariaDisabled","ariaSelected","onDayFocus","onMouseEnter","onDayMouseEnter","onMouseLeave","onDayMouseLeave","onMouseDown","onDayMouseDown","onMouseUp","onDayMouseUp","onTouchEnd","onDayTouchEnd","onTouchStart","onDayTouchStart","weekdaysLong","weekdaysShort","onCaptionClick","onWeekClick","M","map","O","style","title","input","selectedDay","overlayWrapper","overlay","split","String","HIDE_TIMEOUT","OverlayComponent","defaultFormat","defaultParse","daypicker","clickTimeout","hideTimeout","inputBlurTimeout","inputFocusTimeout","getInitialStateFromProps","showOverlay","hideAfterDayClick","handleInputClick","handleInputFocus","handleInputBlur","handleInputChange","handleInputKeyDown","handleInputKeyUp","handleMonthChange","handleOverlayFocus","handleOverlayBlur","formatDate","format","dayPickerProps","overlayBlurTimeout","parseDate","typedValue","getInitialMonthFromProps","onDayChange","onDayPickerShow","onDayPickerHide","hideOnDayClick","overlayHasFocus","hideDayPicker","showDayPicker","inputProps","keepFocus","onChange","trim","updateState","clickUnselectsDay","splice","overlayComponent","component","placeholder","renderOverlay","componentWillMount","getDerivedStateFromProps","prevState","componentWillUpdate","nextState","prevProps","__reactInternalSnapshotFlag","__reactInternalSnapshot","getSnapshotBeforeUpdate","isReactComponent","foundWillMountName","foundWillReceivePropsName","foundWillUpdateName","UNSAFE_componentWillMount","UNSAFE_componentWillReceiveProps","UNSAFE_componentWillUpdate","displayName","newApiName","componentDidUpdate","maybeSnapshot","snapshot","__suppressDeprecationWarning","bodyOpenClassName","portalClassName","_extends","source","_createClass","defineProperties","descriptor","protoProps","staticProps","_reactDom2","_ModalPortal2","ariaAppHider","newObj","_interopRequireWildcard","_safeHTMLElement","_safeHTMLElement2","_reactLifecyclesCompat","isReact16","createPortal","createHTMLElement","getCreatePortal","unstable_renderSubtreeIntoContainer","getParentElement","parentSelector","Modal","removePortal","unmountComponentAtNode","parent","contains","removeChild","console","warn","portalRef","portal","renderPortal","defaultStyles","appendChild","prevParent","nextParent","_","_props","isOpen","closesAt","closeTimeoutMS","beforeClose","closeWithTimeout","setElement","propTypes","content","htmlOpenClassName","base","afterOpen","overlayClassName","appElement","SafeHTMLCollection","SafeNodeList","onAfterOpen","onRequestClose","ariaHideApp","shouldFocusAfterRender","shouldCloseOnOverlayClick","shouldReturnFocusAfterClose","preventScroll","aria","data","contentLabel","shouldCloseOnEsc","overlayRef","contentRef","overlayElement","contentElement","contentEl","position","top","left","right","bottom","backgroundColor","border","background","overflow","WebkitOverflowScrolling","borderRadius","outline","padding","_typeof","iterator","focusManager","_scopeTab2","classList","_portalOpenInstances2","CLASS_NAMES","ariaHiddenInstances","ModalPortal","setOverlayRef","setContentRef","afterClose","_this$props","remove","getElementsByTagName","show","returnFocus","teardownScopedFocus","popWithoutFocus","onAfterClose","deregister","open","beforeOpen","closeTimer","setupScopedFocus","markForFocusLater","openAnimationFrame","overlayEl","close","closeWithoutTimeout","focusContent","contentHasFocus","event","requestClose","handleOverlayOnClick","shouldClose","ownerHandlesClose","handleContentOnMouseUp","handleOverlayOnMouseDown","handleContentOnClick","handleContentOnMouseDown","shouldBeClosed","activeElement","buildClassName","which","additional","attributesFromObject","prefix","items","acc","moveFromContentToOverlay","add","hide","register","_props2","contentStyles","overlayStyles","overlayProps","contentProps","modal","testId","resetState","globalElement","removeAttribute","log","assertNodeList","useElement","el","validateElement","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","done","setAttribute","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","documentNotReadyOrSSRTesting","_warning2","nodeList","selector","HTMLCollection","NodeList","_arr","_i","item","parentNode","instances","_arr2","_i2","check","nodeName","subscribe","eventType","openInstances","opacity","cloneNode","firstChild","insertBefore","lastChild","parentElement","htmlElement","cls","htmlClassList","removeClass","_cls","docBodyClassList","at","classString","classListRef","poll","toLowerCase","incrementReference","decrementReference","focusLaterElements","handleBlur","handleFocus","toFocus","pop","modalElement","removeEventListener","detachEvent","_tabbable2","needToFocus","portalOpenInstances","PortalOpenInstances","openInstance","emit","subscribers","subscriber","EE","SafeHTMLElement","HTMLElement","tabbable","shiftKey","head","tail","getActiveElement","checkSafari","exec","navigator","userAgent","shadowRoot","findTabbableDescendants","finished","tabbableNode","hidesContents","zeroSize","offsetWidth","offsetHeight","innerHTML","getComputedStyle","getPropertyValue","scrollWidth","scrollHeight","exception","getAttribute","isTabIndexNaN","isTabIndexNotNaN","href","rootNode","getRootNode","host","visible","focusable","_Modal2","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","globalThis","prop","KeyboardNavigationListener","ctrlKey","altKey","metaKey","tabbing","PointerEvent","onPointerEvent","React","Context","PageAndMenu","_defineProperty","expand","menu","toggle","onCollapsed","_onDidShowMenu","onExpanded","isShown","menuIsExpanded","menuButton","setCooldown","toggleMenu","registerMenu","registerMenuButton","setTogglerCooldown","getTogglerNode","as","rest","Page","current","delay","startedAt","animationFrame","tick","clear","timeout","submitFormOnCtrlEnter","submitContainingForm","HTMLFormElement","submit","querySelector","click","getOffset","onScreenCoordinates","getBoundingClientRect","documentLeftBorderWidth","clientLeft","documentTopBorderWidth","clientTop","scrollY","pageYOffset","scrollX","pageXOffset","width","height","onFocusOut","getComponentNode","getComponentNode2","preventBlur","_onBlur","focusedNode","Element","relatedTarget","HTMLDocument","OnFocusOut","getContainerNode","blurTimer","OnTapOutside","touches","onTouchCancel","touch","changedTouches","initialTouchX","clientX","initialTouchY","clientY","touchId","identifier","tapping","moveThreshold","deltaX","abs","deltaY","onTap","onTapOutside","focusOut","onTouchMove","stopListeningToTouches","OnFocusOutOrTapOutside","createRef","onTapOutsideRef","listenToTouches","onFocusOutRef","onTapOutsideTimer","onTapOutsideDelay","PureComponent","ContextAwareSlideoutMenu","slideOutMenu","PageAndMenuContext","SlideoutMenu","expanded","_this3","onCollapse","onExpand","isExpandedState","Promise","resolve","cancelProcess","reset","processPhase","nextPhase","phase","endProcess","phaseCancellers","onCancelPhase","expandTimeout","shouldRender","waitUnForExpandAnimationTimer","expandAnimationDuration","then","rruiCollapseOnFocusOut","menuRef","unregister","_this4","anchor","fullscreen","MenuIcon","MenuButton","cooldown","cooldownTimer","button","icon","storeButtonNode","link","properties","getButtonProps","getChildren","FadeInOut","fadeOutDuration","showTimer","_isMounted","fadeIn","fadeOut","hideTimer","fadeInInitially","fadeInDuration","transition","getFadeInStyle","getFadeOutStyle","SHOWN_STYLE","HIDDEN_STYLE","fadeInClassName","getStyle","Button_","busy","action","buttonOnClick","buttonRef","stretch","LinkComponent","linkOnClick","Button","Close","closeLabel","CloseIcon","viewBox","stroke","strokeWidth","fill","fillRule","strokeLinecap","transform","ModalContext","form","unmounted","indicate_cannot_close","closeIfNotBusy","closeTimeout","could_not_close_because_busy","adjust_scrollbar_after_open","adjust_scrollbar_after_close","registerForm","unregisterForm","unmount","on_after_open","on_after_close","reset_content_scroll","could_not_close_because_busy_animation_timeout","appElementId","getElementById","closeButtonIcon","actions","ReactModal","on_request_close","getAppElement","globalAppElement","react_modal_style","ModalContentWrapper","storeContentInstance","containsForm","could_not_close_because_busy_animation_duration","scrollTop","div","width_before","clientWidth","width_adjustment","get_full_width_elements","marginRight","bodyOverflowX","bodyOverflowY","overflowX","overflowY","closeButtonAdded","Actions","closeButton","render_close_button","storeNode","transformChildren","CloseButtonIcon","full_width_elements","ModalTitle","ModalContent","ModalActions","reactLifecyclesCompat","Title","Content","setAppElement","Form","post","error","onSubmit","on_key_down","method","noValidate","render_children","form_elements","error_element","FormError","child","insert_at","FormActions","Snackbar","shift","queueSize","hiding","status","hideAnimationDuration","show_next_snack_timeout","auto_hide_timer","show_snack_timeout","minTime","lengthTimeFactor","duration","receiveNewValue","snackbar","marginBottom","scheduleAutoHide","placement","getAlignment","showCloseButton","getEdge","x1","y1","x2","y2","dashIndex","Tooltip","animate","hide_timeout","tooltip","createTooltip","accessible","calculate_coordinates","isTouchDevice","hideOnTouchOutside","hidingAnimationDuration","destroy_tooltip","origin","onMouseMove","isPointerInsideTooltip","cancelHide","isPointerInsideElement","scheduleHide","DocumentMouseMove","wasMouseMoved","_onMouseEnter","show_timeout","renderContent","ReactDOM","defaultPrevented","tooltipClassName","onMouseEnterTooltip","onMouseLeaveTooltip","hide_on_mouse_leave_timeout","screenMargin","offsetTop","getSide","minimal_margin","innerWidth","innerHeight","fitOnScreen","hideDelay","componentProps","_render","extraChildren","inline","storeOriginNode","onTouchStartSetTouchDevice","ActivityIndicator","Ellipsis","TextInput","multiline","inputComponent","readOnly","label","autoresize","initialHeight","onHeightChange","originalInputStyle","inputStyle","required","containerRef","floatingLabel","useRef","hiddenTextArea","autoResize","useMemo","Autoresize","useEffect","initialized","resize","init","onWindowResize","throttle","_onChange","useCallback","_onKeyDown","storeInputNode","inputStyleAutoHeight","getHeight","autoFocus","isEmptyValue","rows","HIDDEN_TEXTAREA_STYLE","visibility","whiteSpace","getInput","getHiddenTextArea","initAttempts","getMeasurements","haveStylesLoaded","currentHeight","verticalPadding","bordersHeight","nonScrollHeight","parseFloat","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","TextInputLabel","inputId","invalid","floats","htmlFor","isEmptyOrBlank","TextInputComponent","Icon","Label","WithError","setRef","onBlurForReduxForm","_event","showErrorMessage","password","email","useState","isFocused","setFocused","_onFocus","cols","List","focusedItemIndex","focusItem","clearFocus","list","onFocusItem","shouldFocus","focusedItemValue","getItemValue","itemRefs","previousIndex","getPreviousFocusableItemIndex","interaction","nextIndex","getNextFocusableItemIndex","resetInputTimeout","characters","fromCharCode","charCode","onInput","resetInputTimer","resetInput","expandable","onFocusIn","isDivider","highlightFirstItem","highlightSelectedItem","selectedItemIndex","findItemIndexByValue","itemRef","isSelectableItem","itemLabel","getItemLabel","findItemIndexByLabel","isFocusableItemIndex","hasOnChange","onSelectItem","createButtons","storeListNode","onKeyPress","isFocusableItem","storeItemRef","focused","createButton","isInputInProgress","onInputSpacebar","onItemFocus","onItemBlur","hasOnSelectItem","selectedItemValue","ListItem","shouldCreateButton","isSelectable","onSelect","ItemComponent","itemChildren","isSelected","isDividerItem","storeRef","onButtonKeyDown","renderListItemComponent","Item","ScrollableList_","onListItemsChanged","chooseFocusedItem","getFocusedItemIndex","calculateLayoutTrigger","ScrollableList","listRef","storeListRef","onFocusItem_","scrollMaxItems","scrollBarPadding","ScrollableContainer","setVerticalPadding","setHeight","maxHeight","setMaxHeight","getListNode","showTopLine","itemElement","isFirstItem","topLine","showBottomLine","isLastItem","bottomLine","showItem","edge","isOverflown","calculateScrollableListHeight","getDOMNode","calculateLayout","maxHeightStyle","listElement","nodeType","clientHeight","ownerDocument","defaultView","frameElement","scrollMode","block","boundary","skipOverflowHiddenElements","scrollingElement","documentElement","visualViewport","W","H","V","I","C","B","R","X","Y","L","S","borderLeftWidth","q","z","borderRightWidth","A","F","G","J","K","scrollLeft","isOptionsObject","Expandable","parameters","refreshingExpanded","refresh","scrollIntoViewTimer","preload","scrollIntoView","collapse","_isBeingUnmounted","onPreloadStateChange","isPreloading","shouldScrollIntoView","scrollIntoViewDelay","isTargetAttached","isConnected","behavior","computeOptions","getOptions","canSmoothScroll","scroll","defaultBehavior","animation","alignment","upward","storeContainerNode","onPreloadError","ExpandableList","isExpanded","onEnter","focusSelectedItem","collapsedDueToItemBeingSelected","focusOnExpand","storeExpandableRef","Divider","Select","select","selectButton","isUsingKeyboard","focusToggler","inputComponentNode","shouldShowOptionsList","onKeyDownFromNativeSelect","native","nativeExpanded","setValue","fromNativeSelect","_onFocusOut","compact","saveOnIcons","optionComponent","selectedOptionComponent","topLabel","getTopLabel","storeInputComponentNode","DISPLAY_FLEX","renderNativeSelect","renderSelectButton","getAriaLabel","getAriaRequired","getAriaInvalid","getSelectButton","option","divider","toggleClassName","selectedOptionClassName","selectedOptionInvalidClassName","selectedOptionDisabledClassName","SelectedOptionComponent","arrowComponent","getSelectedOption","selectedOptionLabel","getPlaceholder","showIconOnly","storeSelectButton","hasEmptyOption","DefaultSelectedOptionComponent","indicateRequired","storeSelectNode","nativeSelectOnKeyDown","nativeSelectOnMouseDown","nativeSelectOnChange","renderNativeSelectOptions","empty_option_present","rendered_options","renderNativeSelectOption","nonSelectable","hidden","ArrowComponent","display","Autocomplete","optionsCounter","matchesCounter","inputValue","Counter","isFetchingOptions","selectedOption","matches","collapsedDueToEmptyValueOnEnter","dontExpandOnFocus","focusedOptionIndex","_expand","highlightFirstOption","filterOptions","throttleFetchOptionsCall","latestFetchOptionsCallTimestamp","counter","getNextCounter","fetchingOptionsCounter","handleNewOptions","newOptions","fetchDefaultOptions","receiveNewOptions","expandOnFocus","getOption","random","isFetchingInitiallySelectedOption","nextFetchOptionsCallTimeout","containerStyle","textAlign","renderTextInput","refreshOptions","getInputNode","getOptionsForRendering","autoComplete","inputClassName","TextInputInput","storeInput","onInputValueChange","maxOptions","minCharactersToStartThrottling","latestFetchOptionsCall","newState","isCounterAfter","loading","MAX_SAFE_INTEGER","Number","pow","currentStateCounter","diff","ExpandableMenu","menuToggler","menuItems","setExpanded","togglerRef","buttonRefExternal","setToggleButtonRef","focusElement","getButtonElement","buttonTitle","buttonComponent","buttonProps","buttonClassName","toggleElement","toggler","togglerAriaLabel","togglerAriaHasPopup","togglerClassName","CustomButtonComponent","isDefaultButtonComponent","ButtonComponent","buttonComponentChildren","ExpansionPanel","isExpandedInitially","isExpandedExternallyControlled","onToggle","ToggleIcon","toggleIcon","toggleIconPlacement","animationDuration","_isExpandedInitially","expandedHeight","setExpandedHeight","resetHeightTimer","onToggleClick","isFirstUseEffect","isFirstUseLayoutEffect","useLayoutEffect","HEADING_STYLE","margin","Switch","leftLabel","rightLabel","rightContent","isRightSideContent","hasLabel","storeInputComponent","Checkbox","checkbox","tagName","storeInstance","checked","CHECKBOX_CHECKED_PATH","CHECKBOX_UNCHECKED_PATH","Switcher","button_0","previous_option_index","previous_focused_option_index","next_option_index","next_focused_option_index","storeContainerComponent","render_button","first","isAnythingSelected","chooser","getFocusedOptionIndex","YearMonthSelect","year","userHasJustChangedYearOrMonth","selectYearsIntoPast","selectYearsIntoFuture","current_year","from_year","to_year","years","selected_year","onChangeMonth","restoreFocus","onChangeYear","territoriesByFirstDayOfWeek","languagesByFirstDayOfWeek","getDateForWeekday","getDateForMonth","convertUtcDateToLocalDateWithSameTime","getTimezoneOffset","utc","text","padWithZeroes","targetLength","ignoreInvalidDateObjects","isDigit","character","extract","template","piece","startsAt","isDateFormatUnitCharacter","correspondsToTemplate","getSameDateAndTimeInUtc0TimeZone","DatePicker","formatAnyCase","initialCalendarDate","waitForKeyboardSlideIn","keyboardSlideInAnimationDuration","buttonAriaLabel","isExpanded_","textValue","setTextValue","userHasJustChangedYearOrMonthTimer","_userHasJustChangedYearOrMonth","hasDayJustBeenSelected","isFocusingOut","inputOverlay","calendar","hasMounted","focusCalendar","anyDay","onInputFocus","onContainerKeyDown","onToggleButtonClick","onInputKeyDown","onInputChange","newTextValue","transformDateInputAccordingToTemplate","selectedDate","current_year_and_century","century","onBlur_","handleBlurEvent","setContainerNode","setInputRef","inputRef","dayFormatter","Intl","DateTimeFormat","monthFormatter","weekdayFormatter","weekdayShortFormatter","territory","match","getTerritoryFromLocale","language","getLanguageFromLocale","getDateForDayOfWeek","DEFAULT_CALENDAR_ICON","iconStyle","isFileAccepted","file","acceptedFiles","acceptedFilesArray","fileName","mimeType","baseMimeType","validType","lastIndexOf","ENDS_WITH_SLASH_ASTERISK_REGEXP","DropFiles_","ref_","draggedOver","setDraggedOver","dragTargets","isDraggingFiles","onDrop","multiple","accept","files","getFilesFromEvent","rejectedFiles","isAccepted","onDragEnter","onDragLeave","onDragOver","DropFiles","dataTransfer","types","dataTransferItemsList","dt","CanDrop","drop","DragAndDrop","File","Files","FileUploadInput","ieTimer","storeInputRef","supportsMultipleFileUploadOnInputElement","onFileSelect","getAcceptFromExt","ext","FileUpload","fileInput","dropFilesElementProps","clickable","_accept","storeFileInputRef","onFileInputChange","FileUploadButton","setModularGridUnit","unit"],"sourceRoot":""}